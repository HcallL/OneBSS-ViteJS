<ejs-dialog :enableResize='true' :allowDragging='true' :visible='false' ref="dlgTraCuuSeriHoaDon"
    header='<div class="title"><span class="icon one-notepad"></span> Tra cứu hóa đơn thanh toán</div>'
    :animationSettings='animationSettings' showCloseIcon=true width='80%' :target='target' :open="openForm" :isModal='true'>
    <div class="">
        <div class="list-actions-top">
            <ul class="list">
                <li @click="fetchNhapmoi()">
                    <a href="javascript:;" title="Nhập mới">
                        <span class="icon one-file-plus"></span> Nhập mới
                    </a>
                </li>
                <li @click="fetchTimKiem()" title="Tìm kiếm">
                    <a href="javascript:;">
                        <span class="icon one-search"></span>Tìm kiếm
                    </a>
                </li>
                <li @click="XuatFile()">
                    <a href="javascript:;" title="Xuất File">
                        <span class="icon one-download"></span> Xuất File
                    </a>
                </li>
            </ul>
        </div>
        <div class="popup-body">
            <div class="box-form">
                <div class="legend-title">Thông tin tra cứu</div>
                <div class="row">
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w100 ">
                                Mã TT <p class="text-danger inline">*</p>
                            </div>
                            <div class="value">
                                <div class="input-more-button">
                                    <button class="btn" @click="traCuuDanhBa()">
                                        <span class="-ap icon-more_horiz"></span>
                                    </button>
                                    <input autofocus ref="maTT" v-model="maTT" type="text"
                                        class="form-control highlight bold" @keyup.enter="fetchTimKiem">
                                </div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w100">
                                Mã đại diện
                            </div>
                            <div class="value">
                                <input v-model="maDD" type="text" class="form-control bold">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <appKyCuoc label="Từ tháng" :value="tuThang" @handleChangeKyCuoc="handleTuThang">
                            </appKyCuoc>
                        </div>
                        <div class="info-row">
                            <appKyCuoc label="Đến tháng" :value="denThang" @handleChangeKyCuoc="handleDenThang">
                            </appKyCuoc>
                        </div>
                    </div>
                </div>
                <div class="info-row">
                    <div class="key w100">
                        Tên TT
                    </div>
                    <div class="value">
                        <input v-model="tenTT" type="text" class="form-control bold" disabled>
                    </div>
                </div>
                <div class="info-row">
                    <div class="key w100">
                        Địa chỉ TT
                    </div>
                    <div class="value">
                        <input v-model="diaChiTT" type="text" class="form-control bold" disabled>
                    </div>
                </div>
            </div>
            <div class="box-form">
                <div class="legend-title">
                    Kết quả tìm kiếm
                </div>
                <DataGrid :columns="fields" :dataSource="danhSachHoaDon" :showFilter="true" :allowPaging="true"
                    :enablePagingServer="true" :totalRecords="totalItems" @pageChanged="gridChanged" :key="keyReset">
                </DataGrid>
            </div>
        </div>
        <appModalXuatDuLieu id="modal-xuat-dulieu-hoadon-thanhtoan" :thuocTinh="dsThuocTinh" :data="danhSachHoaDon" />
        <SearchAccountModal ref="traCuuDanhBaModal" @form-close="formCloseSearchAccount" />
    </div>
</ejs-dialog>
