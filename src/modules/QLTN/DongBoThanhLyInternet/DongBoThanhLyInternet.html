<div >
    <breadcrumb :header="header"></breadcrumb>
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="javascript: void(0)" v-on:click="layDS" data-toggle="tooltip" title="Lấy danh sách mới" :class="{'disable-btn': buttonState.disabledbtnLayDS}">
                    <span class="icon one-file-attach1"></span>Lấy DS
                </a>
            </li>
            <li>
                <a href="javascript: void(0)" v-on:click="isShowModalKichHoat = true" data-toggle="tooltip" title="Kích hoạt Visa/Vasc" :class="{'disable-btn': buttonState.disabledbtnDongBo}">
                    <span class="icon one-sync1"></span>Đồng bộ
                </a>
            </li>
            <li>
                <a href="javascript: void(0)" v-on:click="hoanCong" data-toggle="tooltip" title="Cập nhật kết quả thực hiện" :class="{'disable-btn': buttonState.disabledbtnHoanCong}">
                    <span class="icon one-hoancong"></span>Hoàn công
                </a>
            </li>
            <li>
                <a href="javascript: void(0)" v-on:click="isShowModalHuyKichHoat = true" data-toggle="tooltip" title="Hủy kích hoạt" :class="{'disable-btn': buttonState.disabledbtnHuyKichHoat}">
                    <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Huỷ kích hoạt
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="grid-stack-box">
            <Split style="height: 450px;" :gutterSize="16">
                <SplitArea :size="50" :minSize="300">
                    <div class="box-col" id="boxLeft">
                        <div class="box-form">
                            <div class="legend-title">
                                <div class="pull-left">Thông tin tìm kiếm</div>
                                <div class="pull-right">
                                    <div class="list-checks normal">
                                        <div class="item">
                                            <div class="check-action">
                                                <input type="radio" v-model="dataTimKiem.checkKichHoat" class="check" checked="" value="0" />
                                                <span class="name">Chưa kích hoạt</span>
                                            </div>
                                        </div>
                                        <div class="item">
                                            <div class="check-action">
                                                <input type="radio" v-model="dataTimKiem.checkKichHoat" class="check" value="1"/>
                                                <span class="name">Đã kích hoạt</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w60">Dịch vụ</div>
                                        <div class="value">
                                            <div class="select-custom">
                                                <select v-model="dataTimKiem.dichVu" class="form-control">
                                                    <option v-for="(item, index) in dsDichVu" :key="index" :value="item.DICHVUVT_ID">{{item.TEN_DVVT}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="info-row">
                                        <div class="key w60">Quy trình</div>
                                        <div class="value">
                                            <div class="select-custom">
                                                <select v-model="dataTimKiem.quyTrinh" class="form-control">
                                                    <option></option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w100">Loại HĐ/PL</div>
                                        <div class="value">
                                            <div class="select-custom">
                                                <select v-model="dataTimKiem.loaiHD" class="form-control">
                                                    <option v-for="(item, index) in dsLoaiHD" :key="index" :value="item.LOAIHD_ID">{{item.TEN_LOAIHD}}</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="info-row">
                                        <div class="key w100">Ngày thực hiện</div>
                                        <div class="value">
                                            <ejs-datepicker v-model="dataTimKiem.ngayThucHien" type="date" :format="'dd/MM/y'" disabled></ejs-datepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="box-form">
                            <div class="legend-title">Thông tin khách hàng</div>
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w110">Mã giao dịch</div>
                                        <div class="value">
                                            <input v-model="dataKhachHang.maGiaoDich" type="text" class="form-control"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w100">Ngày yêu cầu</div>
                                        <div class="value">
                                            <ejs-datepicker v-model="dataKhachHang.ngayYeuCau" type="date" :format="'dd/MM/y'" disabled></ejs-datepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="key w110">Mã khách hàng</div>
                                <div class="value">
                                    <input v-model="dataKhachHang.maKH" type="text" class="form-control"/>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="key w110">Tên khách hàng</div>
                                <div class="value">
                                    <input v-model="dataKhachHang.tenKH" type="text" class="form-control"/>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="key w110">Địa chỉ KH</div>
                                <div class="value">
                                    <input v-model="dataKhachHang.diaChiKH" type="text" class="form-control"/>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="key w110">Ghi chú</div>
                                <div class="value">
                                    <input v-model="dataKhachHang.ghiChu" type="text" class="form-control"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </SplitArea>
                <SplitArea :size="50" :minSize="300">
                    <div class="box-col" id="boxRight">
                        <div class="box-form">
                            <div class="legend-title">Thông tin thuê bao</div>
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w90">Account</div>
                                        <div class="value">
                                            <input v-model="dataThueBao.account" type="text" class="form-control"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w70">Mật khẩu</div>
                                        <div class="value">
                                            <input v-model="dataThueBao.matKhau" type="text" class="form-control"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="key w90">Kiểu yêu cầu</div>
                                <div class="value">
                                    <div class="select-custom">
                                        <select v-model="dataThueBao.kieuYeuCau" class="form-control">
                                            <option></option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="key w90">
                                    <div class="check-action">
                                        <input v-model="checkLoaiHinh" type="checkbox" class="form-control"/>
                                        <span class="name">Loại hình</span>
                                    </div>
                                </div>
                                <div class="value">
                                    <div class="select-custom">
                                        <select v-model="dataThueBao.loaiHinh" class="form-control" :disabled="!checkLoaiHinh">
                                            <option></option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="key w90">Lý do hủy</div>
                                <div class="value">
                                    <table-c :columns="fieldsLyDoHuy" ></table-c>
                                </div>
                            </div>
                        </div>
                    </div>
                </SplitArea>
            </Split>
        </div>
        <div class="box-form">
            <div class="legend-title">
                <div class="pull-left">Danh sách thuê bao</div>
                <div class="pull-right red">Tổng số phiếu: 0</div>
                <div class="clearfix"></div>
            </div>
            <div class="table-content">
                <table-c 
                    :columns="fieldsThueBao" 
                    :showFilter="true" 
                    :showColumnCheckbox="true"
                    ref="gridThueBao"
                    >
                </table-c>
            </div>
        </div>
    </div>
    <!-- UR3.3.008_M001 -->
    <b-modal v-model="isShowModalKichHoat" cancelTitle="Không đồng ý" okTitle="Đồng ý" title="Thông báo" size="md" @ok="dongBo">
        <span>Bạn có chắc chắn kích hoạt lên Visa/Vasc hay không?</span>
    </b-modal>
    <!-- UR3.3.008_M002 -->
    <b-modal v-model="isShowModalHuyKichHoat" cancelTitle="Không đồng ý" okTitle="Đồng ý" title="Thông báo" size="md" @ok="huyKichHoat">
        <span>Bạn có chắc chắn hủy kích hoạt lên Visa/Vasc hay không?</span>
    </b-modal>
</div>
