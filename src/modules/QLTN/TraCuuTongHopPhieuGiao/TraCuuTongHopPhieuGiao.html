<div >
  <div class="list-actions-top">
    <ul class="list">
      <li>
        <a href="javascript: void(0)" @click="onSearch">
            <span class="icon one-file-search"></span>Tra cứu
        </a>
      </li>
      <li>
        <a href="javascript:void(0)" @click="exportExcel">
          <span class="icon one-download"></span>Xuất Excel</a>
      </li>
    </ul>
  </div>
  <!-- BEGIN CONTENT-->
  <div class="page-content">
    <div class="box-form">
      <div class="pull-right w120">
        <app-ky-cuoc></app-ky-cuoc>
      </div>
      <div class="clearfix"></div>
    </div>
    <div class="box-form">
        <div class="legend-title">Tổng hợp lượt giao cho đại lý</div>
        <div class="table-content">
          <div class="box-form">
            <div class="table-content">
              <div class="grid-ext grid-ext-nodata">
              <ejs-grid :dataSource="results" :allowPaging='false' :allowResizing='true' :allowExcelExport="true" :allowGrouping='true' :groupSettings='groupSettings' :height='"400"' locale="vi-VN" ref="gridData">
                <e-columns>
                    <e-column headerText='Tổng hợp giao nhận' :columns='firstColumns'></e-column>
                    <e-column headerText='Phiếu nhận' :columns='secondColumns'></e-column>
                    <e-column headerText='Phiếu thu' :columns='thirdColumns'></e-column>
                </e-columns>
                <e-aggregates>
                  <e-aggregate>
                      <e-columns>
                        <e-column type="Count" field="GIAOPHIEU_ID" format='N0' :groupFooterTemplate='footerCount'></e-column>
                          <e-column type="Sum" field="SOLUONG_GBC" format='N0' :groupFooterTemplate='footerSum'></e-column>
                          <e-column type="Sum" field="SOLUONG_HD" format='N0' :groupFooterTemplate='footerSum'></e-column>
                          <e-column type="Sum" field="TONGTIEN_HD" format='N0' :groupFooterTemplate='footerSum'></e-column>
                          <e-column type="Sum" field="HOADON_TON" format='N0' :groupFooterTemplate='footerSum'></e-column>
                          <e-column type="Sum" field="HENTRA" format='N0' :groupFooterTemplate='footerSum'></e-column>
                          <e-column type="Sum" field="TRA_GB" format='N0' :groupFooterTemplate='footerSum'></e-column>
                          <e-column type="Sum" field="TRA_HD" format='N0' :groupFooterTemplate='footerSum'></e-column>
                          <e-column type="Sum" field="TRA_TB" format='N0' :groupFooterTemplate='footerSum'></e-column>
                          <e-column type="Sum" field="GBC_PHAT" format='N0' :groupFooterTemplate='footerSum'></e-column>
                          <e-column type="Sum" field="HD_THU" format='N0' :groupFooterTemplate='footerSum'></e-column>
                      </e-columns>
                  </e-aggregate>
                </e-aggregates>
              </ejs-grid>
            </div>
            <!--
              <DataGrid
                v-bind:columns="[
                {headerText: 'Tổng hợp giao nhận',
                columns:[
                  { field: 'TEN_NV', headerText: 'Lượt giao', headerTextAlign: 'Center', width: 150, allowFiltering: true},
                  { field: 'NGAYGIAO', headerText: 'Ngày giao', width: 150, textAlign: 'Right', allowFiltering: true},
                  { field: 'SOLUONG_GBC', headerText: 'Giấy báo giao', width: 150, format: 'N0', type: 'number', allowFiltering: true },
                  { field: 'SOLUONG_HD', headerText: 'Hóa đơn giao', width: 160, format: 'N0', type: 'number', allowFiltering: true },
                  { field: 'TONGTIEN_HD', headerText: 'Tiền hóa đơn giao', width: 180, format: 'N0', type: 'number', allowFiltering: true },
                  { field: 'HOADON_TON', headerText: 'Hơn đơn tồn', width: 150, format: 'N0', type: 'number', allowFiltering: true }
                  ]
                }
                ]"
                v-bind:dataSource="results"
                v-bind:aggregates="[
                  {field: 'SOLUONG_GBC', type: 'Sum', format: 'N0', groupFooterTemplate: this.footerSum},
                  {field: 'SOLUONG_HD', type: 'Sum', format: 'N0', groupFooterTemplate: this.footerSum},
                  {field: 'TONGTIEN_HD', type: 'Sum', format: 'N0', groupFooterTemplate: this.footerSum},
                  {field: 'HOADON_TON', type: 'Sum', format: 'N0', groupFooterTemplate: this.footerSum}
                ]"
                :showFilter="true"
                :allowPaging="false"
                :allowGrouping="true"
                :enablePagingServer="false"
                :allowExcelExport="true"
                :totalRecords="pageinfo.totalElement"
                :pageSize="pageinfo.maxSize"
                :pageIndex="pageinfo.page"
                :groupSettings="groupSettings"
                :key="keyDSLuotGiao"
                @created="createdHandler"
                ref="gridData"
                >
              </DataGrid>
              -->
            </div>
          </div>
        </div>
    </div>
  </div>
  <b-modal id="modal-export" hide-footer modal-class="modal-export"  title="Xuất dữ liệu" no-close-on-backdrop size="lg">
    <div>
      <div>
        <ModalExport :data="results" :columnsIn="getColumns"></ModalExport>
      </div>
    </div>
  </b-modal>
</div>
