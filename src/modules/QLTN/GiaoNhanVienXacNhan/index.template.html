<div >
    
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="javascript: void(0)" @click="onSearch" title="Tìm kiếm">
                    <span class="icon  one-search"></span> Tìm kiếm
                </a>
            </li>
            <li>
                <a href="javascript: void(0)" @click="onGiaoNV" :class="{'disabled': !giaoNVBtn_Enabled}" title="Giao NV">
                    <span class="icon  one-flag"></span> Giao NV
                </a>
            </li>
            <li>
                <a href="javascript: void(0)" @click="onHuyGiao" :class="{'disabled': !huyGiaoBtn_Enabled}" title="Hủy giao">
                    <span class="icon  one-cancel"></span> Hủy giao
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="box-form">
            <div class="pull-right">
                <div class="info-row  marb0">
                    <div class="key fw6 w60">Kỳ HĐ</div>
                    <div class="value">
                        <div class="w100">
                            <select2
                                :options = "params.lanTao_Options"
                                v-model = "params.lanTao_Selected"
                            />
                        </div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="box-form">
            <div class="legend-title">Thông tin tìm kiếm</div>
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key">
                            <div class="check-action check-color">
                                <input type="checkbox" checked="" class="check" v-model="params.donVi_Checked">
                                <span class="name">Đơn vị</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="">
                                <select2
                                    :options = "params.donVi_Options"
                                    v-model = "params.donVi_Selected"
                                    :disabled="!params.donVi_Checked"
                                />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key">
                            <div class="check-action check-color">
                                <input type="checkbox" class="check" v-model="params.hinhThucTT_Checked">
                                <span class="name">Hình thức TT</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="">
                                <select2
                                    :options = "params.hinhThucTT_Options"
                                    v-model = "params.hinhThucTT_Selected"
                                    :disabled="!params.hinhThucTT_Checked"
                                />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key">
                            <div class="check-action check-color">
                                <input type="checkbox" class="check" v-model="params.nhomKH_Checked">
                                <span class="name">Nhóm KH</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <select name="" id="" v-model="params.nhomKH_Selected" class="form-control" :disabled="!params.nhomKH_Checked">
                                    <option v-for="item in params.nhomKH_Options" :value="item.id">{{ item.text }}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key">
                            <div class="check-action check-color">
                                <input type="checkbox" class="check" v-model="params.nhanVienQL_Checked">
                                <span class="name">Nhân viên QL</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="">
                                <select2
                                    :options = "params.nhanVienQL_Options"
                                    v-model = "params.nhanVienQL_Selected"
                                    :disabled="!params.nhanVienQL_Checked"
                                />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key">
                            <div class="check-action check-color">
                                <input type="checkbox" class="check" v-model="params.NVTC_Checked">
                                <span class="name">NVTC</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="">
                                <select2
                                    :options = "params.NVTC_Options"
                                    v-model = "params.NVTC_Selected"
                                    :disabled="!params.NVTC_Checked"
                                />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key">
                            <div class="check-action check-color">
                                <input type="checkbox" class="check" v-model="params.phanLoaiKH_Checked" :disabled="!params.nhomKH_Checked">
                                <span class="name">Phân loại KH</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="">
                                <select2
                                    :options = "params.phanLoaiKH_Options"
                                    v-model = "params.phanLoaiKH_Selected"
                                    :disabled="!params.phanLoaiKH_Checked"
                                />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key">
                            <div class="check-action check-color">
                                <input type="checkbox" class="check" v-model="params.loaiKH_Checked" :disabled="!params.nhomKH_Checked">
                                <span class="name">Loại KH</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="">
                                <select2
                                    :options = "params.loaiKH_Options"
                                    v-model = "params.loaiKH_Selected"
                                    :disabled="!params.loaiKH_Checked"
                                />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-form">
            <div class="legend-title">Thông tin giao</div>
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key">
                            NV xử lý
                        </div>
                        <div class="value">
                            <div class="input-more-button">
                                <button class="btn" @click="onChonNVXL" :class="{'disabled': !chonNVXLBtn_Enabled}">
                                    <span class="-ap icon-more_horiz"></span>
                                </button>
                                <input type="text" class="form-control" v-model="params.NVXL">
                                <PopupChonNhanVienXacNhan ref="dlgChonNhanVienXacNhan" @acceptChange="onChonNVXLProcess($event)" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Thời hạn in
                                </div>
                                <div class="value">
                                    <ejs-datepicker
                                        v-model="params.ngayIn"
                                        :value="params.today"
                                        :format="'dd/MM/y'"
                                        :showClearButton="false"
                                        :placeholder="'Chọn ngày'"
                                        :enabled="false"
                                    >
                                    </ejs-datepicker>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Thời hạn gửi
                                </div>
                                <div class="value">
                                    <ejs-datepicker
                                        v-model="params.ngayGui"
                                        :value="params.today"
                                        :format="'dd/MM/y'"
                                        :showClearButton="false"
                                        :placeholder="'Chọn ngày'"
                                        :enabled="false"
                                    >
                                    </ejs-datepicker>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Thời hạn LH
                                </div>
                                <div class="value">
                                    <ejs-datepicker
                                        v-model="params.ngayLH"
                                        :value="params.today"
                                        :format="'dd/MM/y'"
                                        :showClearButton="false"
                                        :placeholder="'Chọn ngày'"
                                        :enabled="false"
                                    >
                                    </ejs-datepicker>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Thời hạn PH
                                </div>
                                <div class="value">
                                    <ejs-datepicker
                                        v-model="params.ngayPH"
                                        :value="params.today"
                                        :format="'dd/MM/y'"
                                        :showClearButton="false"
                                        :placeholder="'Chọn ngày'"
                                        :enabled="false"
                                    >
                                    </ejs-datepicker>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-12">

                    <div class="info-row">
                        <div class="key">
                            Thời hạn HT
                        </div>
                        <div class="value">
                            <ejs-datepicker
                                v-model="params.ngayHT"
                                :value="params.today"
                                :format="'dd/MM/y'"
                                :showClearButton="false"
                                :placeholder="'Chọn ngày'"
                                :enabled="false"
                            >
                            </ejs-datepicker>
                        </div>
                    </div>

                    <div class="info-row">
                        <div class="key">
                            Ghi chú
                        </div>
                        <div class="value">
                            <textarea class="form-control" style="height: 70px;" v-model="params.ghiChu" ref="ghiChu" :class="{'is-invalid': $v.params.ghiChu.$error }"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-form">
            <div class="legend-title">
                <div class="pull-left">Danh sách công nợ</div>
                <div class="pull-right">
                    <div class="list-checks">
                        <div class="item normal">
                            <div class="check-action">
                                <input type="radio" checked="" class="check" v-model="params.daGan" :value="0">
                                <span class="name">Chưa giao</span>
                            </div>
                        </div>
                        <div class="item normal">
                            <div class="check-action">
                                <input type="radio" class="check" v-model="params.daGan" :value="1">
                                <span class="name">Đã giao</span>
                            </div>
                        </div>
                        <div class="item">
                            <div class="red">Số lượng: {{ params.soLuongTao }}</div>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
            <DataGrid v-bind:columns="[
                    {fieldName: 'MA_TT', headerText: 'Mã TT', allowFiltering: true, allowSorting: false, width: 120},
                    {fieldName: 'TEN_TT', headerText: 'Tên TT', allowFiltering: true, allowSorting: false, width: 150},
                    {fieldName: 'DIACHI_TT', headerText: 'Địa chỉ TT', allowFiltering: true, allowSorting: false, width: 150},
                    {fieldName: 'DIACHI_CT', headerText: 'Địa chỉ CT', allowFiltering: true, allowSorting: false, width: 120},
                    {fieldName: 'TEN_NHOMKH', headerText: 'Nhóm KH', allowFiltering: true, allowSorting: false, width: 110},
                    {fieldName: 'SO_DT', headerText: 'Số ĐT', allowFiltering: true, allowSorting: false, width: 100},
                    {fieldName: 'FAX', headerText: 'Fax', allowFiltering: true, allowSorting: false, width: 100},
                    {fieldName: 'TEN_NV_NHAN', headerText: 'NV xác nhận', allowFiltering: true, allowSorting: false, width: 120},
                    {fieldName: 'TEN_NHOM', headerText: 'Nhóm C.Nợ', allowFiltering: true, allowSorting: false, width: 120},
                    {fieldName: 'TONGNO', headerText: 'Tổng nợ', allowFiltering: true, allowSorting: false, width: 110, cssClass: 'text-right', type: 'number', format: 'N0'},
                    {fieldName: 'NOAM', headerText: 'Nợ âm', allowFiltering: true, allowSorting: false, width: 110, cssClass: 'text-right', type: 'number', format: 'N0'},
                    {fieldName: 'MA_NVTC', headerText: 'Mã NV thu cước', allowFiltering: true, allowSorting: false, width: 120},
                    {fieldName: 'MA_TUYEN', headerText: 'Mã tuyến thu', allowFiltering: true, allowSorting: false, width: 120}
                ]"
                v-bind:dataSource="congNo_grid.items"
                dataKeyField="CONGNO_ID"
                :showFilter="true"
                :allowPaging="true"
                :showColumnCheckbox="true"
                :enabledSelectFirstRow="false"
                :enablePagingServer="true"
                :totalRecords="congNo_grid.pageInfo.totalElement"
                :pageSize="congNo_grid.pageInfo.maxSize"
                :pageIndex="congNo_grid.pageInfo.page"
                @pageChanged="congNoGridpageChangeHandler"
                ref="congNoGrid"
                @selectedItemsChanged="selectedItemsChanged"
                @rowSelected="onCongNoSelected"
                :key="congNo_grid.key"
            >
            </DataGrid>
        </div>
    </div>
</div>
