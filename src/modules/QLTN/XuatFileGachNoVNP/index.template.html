<div >
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="javascript: void(0)" @click="onLayDL" title="Làm tươi dữ liệu">
                    <span class="icon one-file-attach1"></span> Lấy DL
                </a>
            </li>
            <li>
                <a href="javascript: void(0)" @click="onXuatFile" title="Xuất file để đồng bộ dữ liệu lên Vinaphone">
                    <span class="icon one-download"></span>Xuất File
                </a>
            </li>
            <li>
                <a href="javascript: void(0)" @click="onXuatExcel" title="Xuất dữ liệu ra excel">
                    <span class="icon one-xlsx-import"></span> Xuất Excel
                </a>
                <appModalXuatDuLieu
                    id="modal-xuat-file"
                    :thuocTinh="gachNo_grid.fields"
                    :data="gachNo_grid.items"
                />
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="box-form">
            <div class="row">
                <div class="col-sm-2 col-12"></div>
                <div class="col-sm-10 col-12">
                    <div class="row">
                        <div class="col-sm-5 col-12">
                            <div class="info-row marb0">
                                <div class="key w30 nowrap">
                                    <div class="check-action">
                                        <input type="checkbox" class="check" v-model="params.thuNgan_Checked">
                                        <span class="name">Xuất theo thu ngân</span>
                                    </div>
                                </div>
                                <div v-show="params.thuNgan_Visible" class="key w30 nowrap">{{ params.thuNgan_Label }}</div>
                                <div class="value" v-show="params.thuNgan_Visible">
                                    <div class="select-custom">
                                        <select2
                                            :options = "params.thuNgan_Options"
                                            v-model = "params.thuNgan_Selected"
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3 col-12">
                            <div class="info-row marb0">
                                <div class="key w30 nowrap">
                                    Kỳ hóa đơn
                                </div>
                                <div class="value">
                                        <ejs-datepicker :placeholder="'Chọn kỳ hóa đơn'"
                                            v-model="params.kyHoaDon_Selected"
                                            :value="params.kyHoaDon_Value"
                                            :max="params.kyHoaDon_Max"
                                            :start="'Year'"
                                            :depth="'Year'"
                                            :format="'MM/y'"
                                            :change="onKyHoaDonChange"
                                            :showClearButton="false"
                                            :allowEdit="false"
                                            :enabled="params.kyHoaDon_Enable"
                                        >
                                        </ejs-datepicker>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-2 col-12">
                            <div class="info-row marb0">
                                <div class="key w30 nowrap">
                                    Từ
                                </div>
                                <div class="value">
                                    <ejs-datepicker
                                        v-model="params.tuNgay"
                                        :value="params.today"
                                        :format="'dd/MM/y'"
                                        :showClearButton="false"
                                    >
                                    </ejs-datepicker>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-2 col-12">
                            <div class="info-row marb0">
                                <div class="key w30 nowrap">
                                    Đến
                                </div>
                                <div class="value">
                                    <ejs-datepicker
                                        v-model="params.denNgay"
                                        :value="params.today"
                                        :format="'dd/MM/y'"
                                        :showClearButton="false"
                                    >
                                    </ejs-datepicker>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-form">
            <div class="legend-title">Hình thức thanh toán</div>
            <div class="list-checks marb5">
                <div class="item">
                    <div class="check-action">
                        <input type="radio" class="check" name="rad1" :value="0" v-model="params.HTTT_Selected">
                        <span class="name">Tiền mặt</span>
                    </div>
                </div>
                <div class="item">
                    <div class="check-action">
                        <input type="radio" class="check" :value="1" name="rad1" v-model="params.HTTT_Selected">
                        <span class="name">Đại lý</span>
                    </div>
                </div>
                <div class="item">
                    <div class="check-action">
                        <input type="radio" class="check" name="rad1" :value="2" v-model="params.HTTT_Selected">
                        <span class="name">Chuyển khoản</span>
                    </div>
                </div>
                <div class="item">
                    <div class="check-action">
                        <input type="radio" class="check" :value="3" name="rad1" v-model="params.HTTT_Selected">
                        <span class="name">Thanh lý</span>
                    </div>
                </div>
                <div class="item">
                    <div class="check-action">
                        <input type="radio" class="check" :value="4" name="rad1" v-model="params.HTTT_Selected">
                        <span class="name">Điều chỉnh</span>
                    </div>
                </div>
                <div class="item">
                    <div class="check-action">
                        <input type="radio" class="check" :value="5" name="rad1" v-model="params.HTTT_Selected">
                        <span class="name">Khác</span>
                    </div>
                </div>
            </div>
            <div class="info-row marb0">
                <div class="key w30 nowrap" v-show="params.NVHTLabel_Visible">
                    {{ this.params.NVHT_Label }}
                </div>
                <div class="value" v-show="params.NVHTSelectList_Visible">
                    <div class="select-custom">
                        <select2
                            :options = "params.NVHT_Options"
                            v-model = "params.NVHT_Selected"
                        />
                    </div>
                </div>
            </div>
        </div>
        <div class="box-form">
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="box-form">
                        <div class="legend-title">Hình thức gạch nợ</div>
                        <div class="list-checks marb5">
                            <div class="item" v-show="params.nhapExcel_Visible">
                                <div class="check-action">
                                    <input type="checkbox" class="check" v-model="params.nhapExcel_Checked">
                                    <span class="name">Nhập excel</span>
                                    <input ref="fileInput" type="file" id="upload" style="display: none" @change="onChangeFile"
                                        accept=".xls, .xlsx" @click="$refs.fileInput.value=null" />
                                </div>
                            </div>
                            <div class="item">
                                <div class="check-action">
                                    <input type="radio" class="check" :value="1" name="rad3" v-model="params.hinhThucGachNo_Selected">
                                    <span class="name">Gạch nợ theo chu kỳ nợ</span>
                                </div>
                            </div>
                        </div>
                        <div v-show="params.kieuNo_Visible">
                            <div class="legend-title">Kiểu nợ</div>
                            <div class="list-checks marb5">
                                <div class="item">
                                    <div class="check-action">
                                        <input type="radio" class="check" :value="0" name="rad5" v-model="params.kieuNo_Selected" :disable="params.kieuNo_Enable">
                                        <span class="name">Đầu kỳ</span>
                                    </div>
                                </div>
                                <div class="item">
                                    <div class="check-action">
                                        <input type="radio" class="check" :value="5" name="rad5" v-model="params.kieuNo_Selected" :disable="params.kieuNo_Enable">
                                        <span class="name">Phát sinh</span>
                                    </div>
                                </div>
                                <div class="item">
                                    <div class="check-action">
                                        <input type="radio" class="check" :value="1" name="rad5" v-model="params.kieuNo_Selected" :disable="params.kieuNo_Enable">
                                        <span class="name">Tất cả</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-12">
                    <div class="box-form">
                        <div class="legend-title">Tiêu chí lấy dữ liệu</div>
                        <div class="list-checks marb5">
                            <div class="item">
                                <div class="check-action">
                                    <input type="radio" checked="" class="check" :value="1" name="rad2" v-model="params.tieuChi_Selected">
                                    <span class="name">Trích thường</span>
                                </div>
                            </div>
                            <div class="item">
                                <div class="check-action">
                                    <input type="radio" class="check" :value="2" name="rad2" v-model="params.tieuChi_Selected">
                                    <span class="name">Không lấy trích thường</span>
                                </div>
                            </div>
                            <div class="item">
                                <div class="check-action">
                                    <input type="radio" class="check" :value="3" name="rad2" v-model="params.tieuChi_Selected">
                                    <span class="name">Tất cả</span>
                                </div>
                            </div>
                            <div class="item">
                                <div class="check-action red">
                                    <input type="radio" class="check" :value="4" name="rad2" v-model="params.tieuChi_Selected">
                                    <span class="name">Trả trước di động</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="table-content mart10">
                <DataGrid v-bind:columns="[
                    {fieldName: 'MA_KH', headerText: 'MA_KH', allowFiltering: true, allowSorting: false, width: 120},
                    {fieldName: 'MA_TB', headerText: 'MA_TB', allowFiltering: true, allowSorting: false, width: 120},
                    {fieldName: 'SOTIEN', headerText: 'SOTIEN', allowFiltering: true, allowSorting: false, width: 90, cssClass: 'text-right', format: 'N0', type: 'number'},
                    {fieldName: 'HTTT_ID', headerText: 'HTTT_ID', allowFiltering: true, allowSorting: false, width: 90, cssClass: 'text-right'},
                    {fieldName: 'CHUKYNO', headerText: 'CHUKYNO', allowFiltering: true, allowSorting: false, width: 90, cssClass: 'text-right'},
                    {fieldName: 'DONVI', headerText: 'DONVI', allowFiltering: true, allowSorting: false, width: 80, cssClass: 'text-right'},
                    {fieldName: 'THUNGAN', headerText: 'THUNGAN', allowFiltering: true, allowSorting: false, width: 120},
                    {fieldName: 'NGAY_TT', headerText: 'NGAY_TT', allowFiltering: true, allowSorting: false, width: 120, cssClass: 'text-right'},
                    {fieldName: 'MA_NV', headerText: 'MA_NV', allowFiltering: true, allowSorting: false, width: 90},
                    {fieldName: 'MA_T', headerText: 'MA_T', allowFiltering: true, allowSorting: false, width: 90},
                    {fieldName: 'CHUNGTU', headerText: 'CHUNGTU', allowFiltering: true, allowSorting: false, width: 100, cssClass: 'text-right'},
                    {fieldName: 'NGANHANG_ID', headerText: 'NGANHANG_ID', allowFiltering: true, allowSorting: false, width: 120},
                    {fieldName: 'GOMHOADON', headerText: 'GOMHOADON', allowFiltering: true, allowSorting: false, width: 120}
                ]"
                    v-bind:dataSource="gachNo_grid.items"
                    dataKeyField="MA_TB"
                    :showFilter="true"
                    :allowPaging="true"
                    :enablePagingServer="false"
                    @selectedRowChanged="selectedItemsChanged"
                >
                </DataGrid>
            </div>
        </div>
    </div>
</div>
