<div>
  <!-- BEGIN breadcrumb -->
    <!-- BEGIN toolbar -->
  <div class="list-actions-top">
    <ul class="list">
        <li>
          <a href="#" v-on:click.prevent="getFormSearchResult"><span class="icon one-file-search"></span>Danh sách</a>
        </li>
        <li>
          <a href="#" v-on:click.prevent="exportExcel"><span class="icon one-excel-download"></span>Xuất Excel</a>
        </li>
    </ul>
  </div>

  <!-- BEGIN main content -->
  <div class="page-content">
    <!-- BEGIN FORM -->
    <div class="box-form">
      <div class="legend-title padb0">
        <div class="pull-left mart10">
            Thông tin phiếu
        </div>
        <div class="pull-right">
          <app-ky-cuoc></app-ky-cuoc>
        </div>
        <div class="clearfix"></div>
      </div>
      <div class="row">
        <div class="col-sm-4 col-12">
            <div class="info-row">
                <div class="key w80">
                    Bước xử lý
                </div>
                <div class="value">
                  <div class="select-custom">
                    <b-form-select
                      ref='test'
                      id="id-buocxuly-no"
                      v-model="params.p_buoc_xuly_no"
                      value-field="BUOCXLN_ID"
                      text-field="BUOC_XLN"
                      :options="params.p_buocxyly_no_options"
                      @input="onBuocXuLyNoChange"
                      class="form-control">
                    </b-form-select>
                  </div>
                </div>
            </div>
        </div>
        <div class="col-sm-2 col-12">
            <div class="info-row">
                <div class="key w90">
                  <div class="">
                    <b-form-checkbox
                      id = "p-chk-ngaygiao-tungay"
                      v-model = "params.p_chk_ngaygiao"
                      class = "check"
                      value = '1'
                      unchecked-value = '0'
                    >
                      <span class="name">Ngày giao</span>
                    </b-form-checkbox>
                  </div>
                </div>
                <div class="value">
                  <ejs-datepicker
                    v-model="p_tungay_ngaygiao"
                    :value="config.dateConfig.value"
                    :max="config.dateConfig.max"
                    :format="config.dateConfig.format"
                    :enabled="f_ngaygiao_enabled"
                    :allowEdit=true
                    :showClearButton=false
                    >
                  </ejs-datepicker>
                </div>
            </div>
        </div>
        <div class="col-sm-2 col-12">
            <div class="info-row">
                <div class="key w80">
                    Đến ngày
                </div>
                <div class="value">
                  <ejs-datepicker
                    v-model="p_denngay_ngaygiao"
                    :value="config.dateConfig.value"
                    :max="config.dateConfig.max"
                    :format="config.dateConfig.format"
                    :enabled="f_ngaygiao_enabled"
                    :allowEdit=true
                    :showClearButton=false
                    >
                  </ejs-datepicker>
                </div>
            </div>
        </div>
        <div class="col-sm-4 col-12">
            <div class="info-row">
                <div class="key w90">
                  <div class="">
                    <b-form-checkbox
                      id="p-chk-lantao"
                      v-model="params.p_chk_lantao"
                      class="check"
                      value="1"
                      unchecked-value="0"
                    >
                      <span class="name">Lần tạo</span>
                    </b-form-checkbox>
                  </div>
                </div>
                <div class="value">
                    <div class="select-custom">
                        <b-form-select
                          id="id-lantao-xuly-no"
                          v-model="p_lantao_xyly_no"
                          :options="params.p_lantao_xyly_no_options"
                          value-field="LANTAO_ID"
                          text-field="LANTAO_ID"
                          :disabled="f_lantao_disabled"
                          class="form-control">
                        </b-form-select>
                    </div>
                </div>
            </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-4 col-12">
            <div class="info-row">
                <div class="key w80">
                    <div class="">
                      <b-form-checkbox
                        id="p-chk-loai-nhanvien"
                        v-model="params.p_chk_loai_nhanvien"
                        class="check"
                        value="1"
                        unchecked-value="0"
                      >
                        <span class="name">Loại NV</span>
                      </b-form-checkbox>
                    </div>
                </div>
                <div class="value">
                    <div class="select-custom">
                      <div class="select-custom">
                        <b-form-select
                          id = "id_loai_nhanvien"
                          v-model = "p_loai_nhanvien"
                          :options = "params.p_loai_nhanvien_options"
                          value-field = "ID"
                          text-field = "TEN"
                          class="form-control"
                          :disabled="f_loainhanvien_disabled"
                          @input="onLoaiNhanvienChange"
                          >
                        </b-form-select>
                      </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-4 col-12">
            <div class="info-row">
                <div class="key w90">
                    <div class="">
                      <b-form-checkbox
                        v-model="params.p_chk_nhanvien"
                        class="check"
                        value="1"
                        unchecked-value="0"
                        :disabled="f_loainhanvien_disabled"
                      >
                      <span class="name">Nhân viên</span>
                      </b-form-checkbox>
                    </div>
                </div>
                <div class="value">
                    <div class="select-custom">
                      <app-select2
                        :options = "params.p_nhanvien_options"
                        v-model = "params.p_nhanvien"
                        :disabled="f_nhanvien_disabled"></app-select2>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-4 col-12">
            <div class="info-row">
                <div class="key w90">
                    <div class="">
                      <b-form-checkbox
                        id="p-chk-luotgiao"
                        v-model="params.p_chk_luotgiao"
                        class="check"
                        value="1"
                        unchecked-value="0"
                      >
                        <span class="name">Lượt giao</span>
                      </b-form-checkbox>
                    </div>
                </div>
                <div class="value">
                    <div class="select-custom">
                      <b-form-select
                        id = "id_luotgiao"
                        v-model = "params.p_luotgiao"
                        :options = "params.p_luotgiao_options"
                        value-field = "GIAOPHIEU_ID"
                        text-field = "NGUOINHAN"
                        class="form-control"
                        :disabled="f_luotgiao_disabled">
                      </b-form-select>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </div>
    <!-- BEGIN RESULT -->
    <template>
      <div class="box-form">
        <div class="legend-title">
            <div class="pull-left">Danh sách khách hàng xử lý nợ</div>
            <div class="pull-right">
                <div class="-color normal">
                  <b-form-checkbox
                    v-model="params.p_chk_group"
                    class="check"
                    value="1"
                    unchecked-value="0"
                  >
                  <span class="name">Nhóm theo nhân viên</span>
                  </b-form-checkbox>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="table-content">
          <DataGrid
            v-bind:columns="gridColumns"
            v-bind:dataSource="results"
            :showFilter="true"
            :allowPaging="true"
            :totalRecords="pageinfo.totalElement"
            :pageSize="pageinfo.maxSize"
            :pageIndex="pageinfo.page"
            :allowExcelExport="true"
            :allowGrouping="true"
            :groupSettings="groupOptions"
            :showColumnCheckbox="true"
            @pageChanged="pageChangeHandler"
            ref="dsPhieuDaGiao"
            >
          </DataGrid>
        </div>
      </div>
    </template>
  </div>
</div>
