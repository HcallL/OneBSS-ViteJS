<div>
  <div class="list-actions-top" style="position: unset;">
      <ul class="list" style="position: unset;">
          <li>
              <a href="javascript: void(0)" @click="btnLayTTMoi_Click" title="Lấy thông tin mới" id="btnLayTTMoi">
                  <span class="icon one-reload1"></span>Lấy TT
              </a>
          </li>
          <li v-show="configs.f_chapnhan_visible">
              <a href="javascript:void(0)" @click="tsbtnChapNhan_Click" id="tsbtnChapNhan">
                  <span class="icon one-save"></span>Cập nhật
              </a>
          </li>
          <li v-show="configs.f_giaoviec_visible">
              <a href="javascript:void(0)" @click="tsbtnGiaoViec_Click" :class="{ disabled: !configs.f_giaoviec_enabled }" title="Giao việc cho nhân viên thực hiện" id="tsbtnGiaoViec">
                  <span class="icon  one-file-arrow-right"></span> Giao việc
              </a>
          </li>
          <li v-show="configs.f_kichhoat_visible">
              <a href="javascript:void(0)" @click="tsbnKichHoat_Click" title="Kích hoạt Visa/Vasc" id="tsbtnKichHoat">
                  <span class="icon one-file-arrow-up"></span>Kích hoạt
              </a>
          </li>
          <li v-show="configs.f_giaophieu_visible">
              <a href="javascript:void(0)" @click="tsbtnGiaoPhieu_Click" id="tsbtnGiaoPhieu" title="Giao phiếu">
                  <span class="icon one-file-arrow-right"></span>Giao phiếu
              </a>
              <app-giao-phieu
                :huongGiaoId="this.params.p_huonggiao_id"
                :hdtbId="this.params.p_hdtb_id"
                :luongId="this.params.p_luong_id"
                ></app-giao-phieu>
          </li>
          <li v-show="configs.f_xoahd_visible">
              <a href="javascript:void(0)" @click="tsbnXoaHD_Click" id="tsbnXoaHD">
                  <span class="icon fa fa-remove"></span>Xoá HĐ
              </a>
          </li>
          <li v-show="configs.f_hoancong_visible">
              <a href="javascript:void(0)" @click="btnHoanCong_Click" title="Cập nhật kết quả" id="tsbtnHoanCong">
                  <span class="icon fa fa-check-circle"></span>Hoàn công
              </a>
          </li>
          <li v-show="configs.f_hoanthanh_visible">
              <a href="javascript:void(0)" @click="tsbtnHoanThanh_Click" id="tsbtnHoanThanh" title="Hoàn thành">
                  <span class="icon fa fa-check-circle"></span>Hoàn thành
              </a>
          </li>
          <li v-show="configs.f_hoanthien_hs_visible">
              <a href="javascript:void(0)" @click="tsbtnChuyenDB_Click" id="tsbtnHoanThienHS" :class="{ disabled: !configs.f_hoanthien_hs_enabled }" title="Hoàn thiện hồ sơ">
                  <span class="icon fa fa-check-circle"></span>Hoàn thiện
              </a>
          </li>
          <li v-show="configs.f_traphieu_visible">
              <a href="javascript:void(0)" @click="btnTraPhieu_Click" id="btnTraPhieu">
                  <span class="icon one-folder-arrow-back"></span>Trả phiếu
              </a>
          </li>
          <li>
              <a href="javascript:void(0)" id="btnXuatExcel" @click="btnXuatExcel_Click" :class="{ disabled: !configs.f_excel_enabled }" >
                  <span class="icon one-notepad"></span>Xuất Excel
              </a>
          </li>

          <li>
            <a href="javascript:void(0)" id="" @click="doExportFile" :class="{ disabled: !configs.f_xuatfile_enabled }" >
                  <span class="icon one-print"></span>Xuất file <span class="fa fa-angle-down text-desc"></span>
              </a>
          </li>
          <li>
            <a href="javascript:void(0)" id="btnXuatText" @click="btnXuatText_Click" :class="{ disabled: !configs.f_xuatfile_enabled }" >
                  <span class="icon one-print"></span>In phiếu
              </a>
          </li>
      </ul>
  </div>
  <div class="page-content">
      <div class="box-form">


          <div class="row">

              <div class="col-sm-4 col-12">
                  <div class="legend-title mart0">
                      <div class="mart10 marb10">
                          Thông tin phiếu yêu cầu
                      </div>

                      <div class="clearfix"></div>
                  </div>
                  <div class="info-row">
                      <div class="key w90">Dịch vụ</div>

                      <div class="value">
                        <div class="select-custom">
                          <ejs-dropdownlist @change="cboDichVuVT_EditValueChanged" :filtering='onFilteringDichVu' :allowFiltering="true" v-model = "params.p_dichvu" :dataSource='params.p_dichvu_options' :fields="configs.fieldsDichVu" :placeholder='"Chọn dịch vụ"' :popupWidth=250></ejs-dropdownlist>
                        </div>
                      </div>
                  </div>
                  <div class="info-row">
                      <div class="key w90">Nội dung TH</div>
                      <div class="value">
                          <div class="input-more-button -right">
                              <button class="btn">
                                  <span class="-ap icon-more_horiz"></span>
                              </button>
                              <input type="text" class="form-control highlight" v-model="params.p_noidung_thuchien">
                          </div>
                      </div>
                  </div>
                  <div class="info-row">
                      <div class="value padt7 w20">
                        <b-form-checkbox
                          v-model="params.p_chk_loi_kichhoat"
                          class="check"
                          value="1"
                          unchecked-value="0"
                        >
                        <span class="name" style="color: Brown;">Bỏ qua lỗi khi kích hoạt để kích hoạt thuê bao tiếp theo</span>
                        </b-form-checkbox>
                      </div>


                  </div>
                  <div class="info-row">
                      <div class="value padt7 w20">
                        <b-form-checkbox
                          v-model="params.p_chk_loi_hoancong"
                          class="check"
                          value="1"
                          unchecked-value="0"
                        >
                        <span class="name" style="color: Brown;">Bỏ qua lỗi khi hoàn công để hoàn công thuê bao tiếp theo</span>
                        </b-form-checkbox>
                      </div>


                  </div>
              </div>
              <div class="col-sm-8 col-12">
                  <div class="legend-title mart0">
                      <div class="pull-left mart10">
                          Thông tin giao việc
                      </div>
                      <div class="pull-right">
                        <app-ky-cuoc @chukycuocChange="chukycuocChangeHandler"></app-ky-cuoc>
                      </div>
                      <div class="clearfix"></div>
                  </div>
                  <div class="row">
                      <div class="col-sm-4 col-12">
                          <div class="info-row">
                              <div class="key w90">Người GV</div>

                              <div class="value">
                                  <div class="select-custom">
                                    <ejs-dropdownlist :filtering='onFilteringNguoiGV' :allowFiltering="true" v-model = "params.p_nguoi_gv" :dataSource='params.p_nguoi_gv_options' :fields="configs.fieldsNguoiGV" :popupWidth=250></ejs-dropdownlist>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="col-sm-4 col-12">
                          <div class="info-row">
                              <div class="value padt7 w90">
                                <b-form-checkbox
                                  v-model="params.p_chk_ngay_gv"
                                  class="check"
                                  value="1"
                                  unchecked-value="0"
                                >
                                  <span class="name">Ngày GV</span>
                                </b-form-checkbox>
                              </div>
                              <div class="value">
                                <ejs-datetimepicker
                                  v-model="p_ngay_gv"
                                  :value="configs.dateConfig.value"
                                  :format="configs.dateConfig.format"
                                  :enabled="chk_ngay_gv"
                                  >
                                </ejs-datetimepicker>
                              </div>
                          </div>
                      </div>
                      <div class="col-sm-4 col-12">
                          <div class="info-row">
                              <div class="value padt7 w90">
                                <b-form-checkbox
                                  v-model="params.p_chk_ngay_bg"
                                  class="check"
                                  value="1"
                                  unchecked-value="0"
                                >
                                  <span class="name">Ngày HT</span>
                                </b-form-checkbox>
                              </div>
                              <div class="value">
                                <ejs-datetimepicker
                                  v-model="p_ngay_bg"
                                  :value="configs.dateConfig.value"
                                  :format="configs.dateConfig.format"
                                  :enabled="chk_ngay_bg"
                                  >
                                </ejs-datetimepicker>
                              </div>
                          </div>
                      </div>

                  </div>
                  <div class="table-content" style="height: 306px;overflow-x: hidden;">
                    <DataGrid
                      v-bind:columns="configs.dsNhanVien"
                      v-bind:dataSource="dsNhanVien"
                      :enablePagingServer="false"
                      :showFilter="true"
                      :allowPaging="true"
                      :allowExcelExport="true"
                      :totalRecords="dsNhanVienPageInfo.totalElement"
                      :pageSize="dsNhanVienPageInfo.maxSize"
                      :pageIndex="dsNhanVienPageInfo.page"
                      :key="keyDSNhanVien"
                      height="100%"
                      ref="gridDSNhanVien"
                      >
                    </DataGrid>
                  </div>

              </div>

          </div>


      </div>
      <div class="box-form">
          <div class="legend-title">

              <div class="pull-left">
                  <div class="list-checks">
                      <span style="padding-right: 10px;">Danh sách thuê bao khoá mở máy do nợ cước</span>
                      <div class="item">
                          <div class="check-action">
                            <input name="p_loai" type="radio" value="0" class="check" v-model="params.p_loai">
                            <span class="name">Phiếu mới</span>
                          </div>
                      </div>
                      <div class="item">
                          <div class="check-action">
                            <input name="p_loai" type="radio" value="1" class="check" v-model="params.p_loai">
                              <span class="name">Phiếu trả lại</span>
                          </div>
                      </div>
                      <span style="padding-left: 10px; color:red;">Thông báo: </span>
                  </div>
              </div>
              <div class="clearfix"></div>
          </div>
          <div class="table-content">
            <DataGrid
              v-bind:columns="configs.dsThueBao"
              v-bind:dataSource="dsThueBao"
              :enablePagingServer="false"
              :showColumnCheckbox="true"
              :selectionSettings="configs.selectionSettings"
              :showFilter="true"
              :allowPaging="true"
              :allowExcelExport="true"
              :totalRecords="dsThueBaoPageInfo.totalElement"
              :pageSize="dsThueBaoPageInfo.maxSize"
              :pageIndex="dsThueBaoPageInfo.page"
              :key="keyDSThueBao"
              height="100%"
              @selectedRowChanged="dsThueBaoRowChanged"
              ref="gridDSThueBao"
              >
            </DataGrid>
          </div>
      </div>
  </div>

</div>
