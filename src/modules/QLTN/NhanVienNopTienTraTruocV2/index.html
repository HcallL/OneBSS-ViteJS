<div>
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href='javascript: void(0)' :class="{'disabled': isDisableLayTT}"  @click="onLayTT">
                    <span class="icon  one-reload1"></span>Lấy TT
                </a>
            </li>
            <li>
                <a href='javascript: void(0)' v-bind:class="{'disabled': isDisableNhapMoi}" @click="onNhapMoi">
                    <span class="icon one-file-plus"></span>Nhập mới
                </a>
            </li>
            <li>
                <a href='javascript: void(0)' :class="{'disabled': isDisableGhiLai}"   @click="onGhiLai">
                    <span class="icon one-save"></span>Ghi lại
                </a>
            </li>
            <li>
                <a href='javascript: void(0)' :class="{'disabled': isDisableHuy}" @click="onHuy">
                    <span class="icon ui-1_circle-remove nc-icon-glyph"></span>Hủy
                </a>
            </li>
            <li>
                <a href='javascript: void(0)' :class="{'disabled': isDisableXoa}" @click="onXoa">
                    <span class="icon one-trash"></span>Xóa
                </a>
            </li>
            <!-- <li>
                <a href="#" :class="{'disabled': isDisablePhieuThu}"   @click="onPhieuThu">
                    <span class="icon one-print"></span>Phiếu thu
                </a>
            </li>
            <li>
                <a href="#" :class="{'disabled': isDisableDocFile}"  @click="onDocFile">
                    <span class="icon one-excel"></span> Đọc file
                </a>
            </li> -->
        </ul>
    </div>
    <div class="page-content">

                <div class="box-form">
                    <div class="legend-title">
                        Thông tin cập nhật đề nghị
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                        <div class="info-row">
                                            <div class="key w90">Nhân viên</div>
                                            <div class="value">
                                                <div class="input-more-button">
                                                    <button class="btn" @click.prevent="onNhanVien">
                                                        <span class="-ap icon-more_horiz"></span>
                                                    </button>
                                                    <input type="text" class="form-control highlight" v-model="form.ctv_ma" readonly>
                                                </div>
                                            </div>
                                        </div>
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w80">Kỳ hoá đơn</div>
                                        <div class="value">
                                            <ejs-datepicker class="form-control bg-none bor0 fw6 text h24" :format="'MM/y'" v-model="form.kyhoadon"
                                            :start="'Year'" :depth="'Year'" :showClearButton="false" :allowEdit="false">
                                            </ejs-datepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w90">Kiểu nộp</div>
                                <div class="value">
                                    <div class="select-custom">
                                        <SelectExt  v-model="form.kieunop_id" :dataSource="kieuNop"
                                        dataTextField="KIEUNOP" dataValueField="KIEUNOP_ID"
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w90">Tên nhân viên</div>
                                            <div class="value">
                                                <input type="text" class="form-control" value="" v-model="form.ctv_ten">
                                            </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w80">Chu kỳ</div>
                                        <div class="value">
                                            <div class="select-custom">
                                                <select name="" id="" class="form-control">
                                                    <option value="01">01</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w90">Số tiền</div>
                                        <div class="value">
                                            <div class="input-more-button">
                                                <button class="btn" @click.prevent="onHopDong">
                                                    <span class="-ap icon-more_horiz"></span>
                                                </button>
                                                <input type="number" class="form-control" v-model="form.tongtien">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w80">Ngày nộp</div>
                                        <div class="value">
                                            <ejs-datepicker class="form-control bg-none bor0 fw6 text h24" :format="ngay.dateFormat" v-model="form.ngaynop">
                                            </ejs-datepicker>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w90">Thủ quỹ</div>
                                <div class="value">
                                    <div class="select-custom">
                                        <SelectExt  v-model.trim="form.thungan_id" :dataSource="thuNgan"
                                        dataTextField="TEN_NV" dataValueField="NHANVIEN_ID"
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w90">Lý do nộp<p></p></div>
                                    <div class="value">
                                        <input type="text" class="form-control" v-model="form.lydo">
                                    </div>
                            </div>
                        </div>

                    </div>

                </div>



        <div class="box-form">
            <div class="legend-title">Danh sách các lần nộp tiền</div>

            <div class="table-content">
                <DataGrid :dataSource="dsDaNop"
                :columns="[
                        {fieldName: 'MA_TN', headerText: 'Mã nhân viên', allowFiltering: true, allowSorting:false,width:100, freeze:'left'},
                        {fieldName: 'TEN_NV', headerText: 'Tên nhân viên', allowFiltering: true, allowSorting:false,width:200, freeze:'left' },
                        {fieldName: 'TEN_QUAY', headerText: 'Đơn vị', allowFiltering: true, allowSorting:false },
                        {fieldName: 'TIENNOP', headerText: 'Tiền nộp', allowFiltering: true, allowSorting:false },
                        {fieldName: 'SOPHIEU', headerText: 'Số phiếu', allowFiltering: true, allowSorting:false,width:60,},
                        {fieldName: 'SO_DT', headerText: 'Điện thoại LH', allowFiltering: true, allowSorting:false},
                        {fieldName: 'NGUOI_CN', headerText: 'Người cập nhật', allowFiltering: true, allowSorting:false},
                        {fieldName: 'TEN_QUAY', headerText: 'Quầy thu', allowFiltering: true, allowSorting:false},
                        {fieldName: 'NGAYNOP', headerText: 'Ngày nộp', allowFiltering: true, allowSorting:false},
                        {fieldName: '', headerText: 'Chi tiết nộp', allowFiltering: true, allowSorting: false, width: 90, template: btnTemplate, cssClass: 'text-center'}
                        ]"
                :showFilter="true" :allowPaging="true" :enablePagingServer="false"
                :enabledSelectFirstRow="false"
                @rowClicked="RowGridChange"
                >
    </DataGrid>
            </div>
        </div>
    </div>
    <b-modal id="mdNhanVien" hide-footer title="Chọn người giới thiệu" size="xl">
        <nhanVien
        nhom_ID="11"
        kieu="2"
        ctv_id=""
        @acceptChange="btnNhanvien($event)"
        ></nhanVien>
    </b-modal>
    <b-modal id="mdHopDong" hide-footer title="Chọn hợp đồng thanh toán" size="xl">
        <hopDong
        v-bind:nhanvien_id="form.ctv_id"
        v-bind:kieu="form.kieu"
        v-bind:dailynop_tienhd="chiTietHD"
        v-bind:nopNHid="nopNHid"
        @acceptChange="btnHopDong($event)"
        ></hopDong>
    </b-modal>

</div>
