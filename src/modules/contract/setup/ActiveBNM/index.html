<div>
    <vue-bread-crumb :header="header" />
    <vue-nav>
        <ul class="list">
            <li>
                <a v-on:click="clickButton('layTT')" :class="{ disabled: !button.layTT }">
                    <span class="icon one-file-attach1"></span> Lấy TT </a>
            </li>
            <li>
                <a v-on:click="clickButton('kich_hoat')" :class="{ disabled: !button.kich_hoat }">
                    <span class="icon one-file-arrow-up"></span> Kích hoạt nhân công
                </a>
            </li>
            <li>
                <a v-on:click="clickButton('gui_lai_lenh')" :class="{ disabled: !button.gui_lai_lenh }">
                    <span class="icon one-mail-refresh"></span> Gửi lại lệnh BNM
                </a>
            </li>
            <li>
                <a v-on:click="clickButton('xuat_file')" :class="{ disabled: !button.xuat_file }">
                    <span class="icon one-download"></span> Xuất File
                </a>
            </li>
            <li>
                <a v-on:click="clickButton('gui_yc_kich_hoat')" :class="{ disabled: !button.gui_yc_kich_hoat }">
                    <span class="icon one-email"></span>Gửi yêu cầu kích hoạt
                </a>
            </li>
            <!-- <li>
                <a v-on:click="clickButton('cap_nhat_serial')" :class="{ disabled: !button.cap_nhat_serial }">
                    <span class="icon one-reload1"></span> Cập nhật Serial
                </a>
            </li>
            <li>
                <a v-on:click="clickButton('cap_nhat_NE')" :class="{ disabled: !button.cap_nhat_NE }">
                    <span class="icon one-sync"></span> Cập nhật NE
                </a>
            </li> -->
            <li>
                <a v-on:click="clickButton('khoa_cong')" :class="{ disabled: !button.khoa_cong }">
                    <span class="icon nc-icon-glyph ui-1_lock"></span> Khóa cổng
                </a>
            </li>
            <li>
                <a v-on:click="clickButton('mo_cong')" :class="{ disabled: !button.mo_cong }">
                    <span class="icon one-key"></span> Mở cổng
                </a>
            </li>
        </ul>
    </vue-nav>
    <div class="page-content">
        <div class="box-form">
            <div class="legend-title">Thông tin tìm kiếm</div>
            <div class="row">
                <div class="col-sm-4 col-12">
                    <div class="info-row">
                        <div class="key w150">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="form.chkLenhXN" @click="chkLenhXN_CheckedChanged"/>
                                <span class="name">Lệnh xác nhận</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="list-checks mart7">
                                <div class="item">
                                    <div class="check-action">
                                        <input type="radio" class="check" id="auto" v-model="form.radioBtn" 
                                        @click="rb_CheckedChanged" value="1"/>
                                        <span for="auto" class="name">Tự động</span>
                                    </div>
                                </div>
                                <div class="item">
                                    <div class="check-action">
                                        <input type="radio" class="check" id="manual" v-model="form.radioBtn"
                                            @click="rb_CheckedChanged" value="2"/>
                                        <span for="manual" class="name">Nhân công</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w150">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="form.chkTrangThaiKH" />
                                <span class="name">Trạng thái KH</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt :placeholder="placeholderTT" v-model="form.TrangThaiKH" :allowFiltering="true" data-text-field="trangthai"
                                    data-value-field="ttkh_id" :dataSource="cbTrangThai" @change="changeSelect('trang_thai')"></SelectExt>
                                </SelectExt>

                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w150">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="form.chkTuNgayDenNgay" />
                                <span class="name">Từ ngày/Đến ngày</span>
                            </div>
                        </div>

                        <vue-date labelWidth="0" v-model="form.TuNgayDenNgay" type="date" format="DD/MM/YYYY">
                        </vue-date>


                    </div>
                    <div class="info-row">
                        <div class="key w150">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="form.chkDenNgay" />
                                <span class="name">Đến ngày</span>
                            </div>
                        </div>
                        <vue-date labelWidth="0" v-model="form.DenNgay" type="date" format="DD/MM/YYYY">
                        </vue-date>

                    </div>
                </div>
                <div class="col-sm-4 col-12">
                    <div class="info-row">
                        <div class="key w150">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="form.chkTinh" />
                                <span class="name">Tỉnh</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt :placeholder="placeholderTT" v-model="form.Tinh" :allowFiltering="true" data-text-field="tentinh"
                                    data-value-field="matinh" :dataSource="cbTinh" @change="changeSelect('tinh')"/>
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w150">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="form.chkDichVuVT" />
                                <span class="name">Dịch vụ VT</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt :placeholder="placeholderDVVT" v-model="form.DichVuVT" :allowFiltering="true" data-text-field="ten_dvvt"
                                    data-value-field="dichvuvt_id" :dataSource="cbDichVu" @change="changeSelect('dich_vu_vt')">
                                </SelectExt>
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w150">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="form.chkLoaiTBI" :disabled="form.disLoaiTBI" />
                                <span class="name">Loại thiết bị</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt :placeholder="placeholderTBI" v-model="form.LoaiTBI" :allowFiltering="true" data-text-field="loai_tbi" :disabled="form.disLoaiTBI"
                                    data-value-field="loaitbi_id" :dataSource="cbLoaiTBI" @change="changeSelect('loaitbi')">
                                </SelectExt>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-sm-4 col-12">
                    <div class="info-row">
                        <div class="key w150">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="form.chkLoaiHD" />
                                <span class="name">Loại hợp đồng</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt :placeholder="placeholderHD" v-model="form.LoaiHD" :allowFiltering="true" data-text-field="ten_loaihd"
                                    data-value-field="loaihd_id" :dataSource="cbLoaiHD" @change="changeSelect('loai_hd')">
                                </SelectExt>
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w150">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="form.chkMaTB" />
                                <span class="name">Số máy/Acc</span>
                            </div>
                        </div>
                        <div class="value">
                            <input type="text" class="form-control" v-model="form.MaTB" @keyup="changeSelect('ma_tb')"/>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w150">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="form.chkHost" :disabled="form.disHost"/>
                                <span class="name">Host</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt :placeholder="placeholderHost" v-model="form.Host" :allowFiltering="true" data-text-field="ten_dv" :disabled="form.disHost"
                                    data-value-field="donvi_id" :dataSource="cbHost" @change="changeSelect"></SelectExt>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box-form">
                <div class="legend-title"></div>
                <DataGrid ref="grid" v-bind:columns="columns" v-bind:dataSource="options.hopdong"
                    :showColumnCheckbox="true" :enable-paging-server="false" :allowPaging="true" :showFilter="true"
                    :enabled-select-first-row="false" @selectedItemsChanged="getCurrentRow"
                    >
                </DataGrid>
            </div>
        </div>
    </div>
</div>