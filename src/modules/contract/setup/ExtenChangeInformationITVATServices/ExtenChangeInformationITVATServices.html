<div class="main-wrapper">
	<breadcrumb :header="header" />
	<div class="list-actions-top">
		<ul class="list">
			<li>
				<a href="javascript:;">
					<span class="icon one-file-attach"></span>Lấy TT
				</a>
			</li>
			<li>
				<a href="javascript:;" @click="btnNhapMoi_Click" v-if="button.btnNhapMoi.Visible"
					:class="{ disabled: !button.btnNhapMoi.Enabled }">
					<span class="icon one-file-plus"></span>Nhập mới
				</a>
			</li>
			<li>
				<a href="javascript:;" @click="btnCapNhat_Click" v-if="button.btnCapNhat.Visible"
					:class="{ disabled: !button.btnCapNhat.Enabled }">
					<span class="icon one-reload1"></span>Cập nhật
				</a>
			</li>
			<li>
				<a href="javascript:;" @click="btnHuyBo_Click" v-if="button.btnHuyBo.Visible"
					:class="{ disabled: !button.btnHuyBo.Enabled }">
					<span class="icon nc-icon-glyph ui-1_circle-remove"></span>Hủy bỏ
				</a>
			</li>
			<li>
				<a href="javascript:;" @click="btnXoaPhieu_Click" v-if="button.btnXoaPhieu.Visible"
					:class="{ disabled: !button.btnXoaPhieu.Enabled }">
					<span class="icon one-trash"></span>Xóa
				</a>
			</li>
			<li>
				<a href="javascript:;" @click="tsbtnThanhToan_Click" v-if="button.tsbtnThanhToan.Visible"
					:class="{ disabled: !button.tsbtnThanhToan.Enabled }">
					<span class="icon nc-icon-glyph shopping_credit-card"></span>Thanh toán
				</a>
			</li>
			<li>
				<a href="javascript:;" ref="tsbUpHoSo" @click="tsbUpHoSo_Click">
					<span class="icon one-file-arrow-up"></span>Up hồ sơ
				</a>
			</li>
			<li>
				<a href="javascript:;" @click="tsbtnGoiDaDV_Click">
				<span class="icon one-file-edit1"></span>Gói đa DV
				</a>
			</li>
			<li>
				<a href="javascript:;" @click="tsbtn_importcts_click()">
					<span class="icon one-excel"></span>Import CA
				</a>
			</li>
			<li>
				<a href="javascript:;" @click="tsbtnGiaoPhieu_Click" v-if="button.tsbtnGiaoPhieu.Visible"
					:class="{ disabled: !button.tsbtnGiaoPhieu.Enabled }">
					<span class="icon one-file-arrow-right1"></span> Giao phiếu
				</a>
			</li>
			<li>
				<a href="javascript:;" @click="btnDongBoHDDT_Click" v-if="button.btnDongBoHDDT.Visible"
					:class="{ disabled: !button.btnDongBoHDDT.Enabled }">
					<span class="icon one-file-arrow-right1"></span> Đồng bộ HDDT
				</a>
			</li>
			<!-- <li>
				<a href="javascript:;" ref="btnChonSoCNTT" @click="btnChonSoCNTT_click">
					<span class="icon one-file-arrow-up"></span>Chọn số CNTT
				</a>
			</li> -->
		</ul>
	</div>
	<div class="page-content">
		<div class="box-form padt8 padb8">
			<div class="row">
				<div class="col-sm-6 col-12">

				</div>
				<div class="col-sm-2 col-12">
					<div class="info-row marb0">
						<div class="key w20 nowrap fw6">
							<span class="name">Mã dự án</span>
						</div>
						<div class="value">
							<input type="text" ref="tbMaDuAn" class="form-control" v-bind:value="tbMaDuAn"
								@change="e => tbMaDuAn = e.target.value">
						</div>
					</div>
				</div>
				<div class="col-sm-2 col-12">
					<div class="info-row marb0">
						<div class="key w20 nowrap fw6">
							<div class="check-action">
								<input type="checkbox" class="check" v-model="chkCTV" @change="ShowPopupCTV">
								<span class="name">Cộng tác viên</span>
							</div>
						</div>
						<div class="value">
							<input type="text" ref="txtCTV" class="form-control" v-bind:value="txtCTV"
								@change="e => txtCTV = e.target.value">
						</div>
					</div>
				</div>
				<div class="col-sm-2 col-12">
					<div class="info-row marb0">
						<div class="key w20 nowrap fw6">
							<div class="check-action">
								<input type="checkbox" class="check" v-model="chkNguoiGT" @change="ShowPopupNguoiGT">
								<span class="name">Người giới thiệu</span>
							</div>
						</div>
						<div class="value">
							<input type="text" ref="txtNguoiGT" class="form-control" v-bind:value="txtNguoiGT"
								@change="e => txtNguoiGT = e.target.value">
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="box-form">
			<div class="legend-title">
				<span class="icon fa fa-angle-down"></span> Thông tin phiếu yêu cầu
			</div>
			<div class="grid-stack-box">
				<div class="box-col" id="LeftForm" style="width: calc(50% - 8px);">
					<div class="row">
						<div class="col-sm-7 col-12">
							<div class="info-row">
								<div class="key">Mã giao dịch</div>
								<div class="value">
									<div class="input-more-button">
										<button class="btn" @click="btnLayMaGD_Click">
											<span class="one-search f20"></span>
										</button>
										<input ref="txtMaGD" type="text" class="form-control highlight" v-bind:value="txtMaGD.value"
											@change="e => txtMaGD.value = e.target.value" @keyup.enter="txtMaGD_KeyPress">
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-5 col-12">
							<div class="info-row">
								<div class="key w90">Ngày yêu cầu</div>
								<div class="value">
									<DatePicker :format="dateFormat" :value-type="'format'" v-model="dtpNgayYC.value"
										:input-attr="{required: 'true', title: 'Bạn chưa nhập ngày yêu cầu!'}" @change="changeNgayYC"
										:disabled="!dtpNgayYC.Enabled">
									</DatePicker>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-7 col-12">
							<div class="info-row">
								<div class="key">Mã hợp đồng</div>
								<div class="value">
									<input type="text" class="form-control" v-bind:value="txtMaHD.value"
										@change="e => txtMaHD.value = e.target.value" :disabled="!txtMaHD.Enabled"
										:readonly="txtMaHD.ReadOnly">
								</div>
							</div>
						</div>
						<div class="col-sm-5 col-12">
							<div class="info-row">
								<div class="key w90">Ngày lập HĐ</div>
								<div class="value">
									<DatePicker :format="dateFormat" :value-type="'format'" v-model="dtpNgayLapHD.value"
										:input-attr="{required: 'true', title: 'Bạn chưa nhập ngày lập HD!'}" @change="changeNgayLHD"
										:disabled="!dtpNgayLapHD.Enabled">
									</DatePicker>
								</div>
							</div>
						</div>
					</div>
					<div class="title-bg-main">
						<span class="title">Thông tin khách hàng</span>
					</div>
					<div class="row">
						<div class="col-sm-7 col-12">
							<div class="info-row">
								<div class="key">Mã khách hàng</div>
								<div class="value">
									<input type="text" class="form-control" v-bind:value="txtMaKH.value"
										@change="e => txtMaKH.value = e.target.value" :disabled="!txtMaKH.Enabled"
										:readonly="txtMaKH.ReadOnly">
								</div>
							</div>
						</div>
						<div class="col-sm-5 col-12">
							<div class="info-row">
								<div class="key w90">Mức cước</div>
								<div class="value">
									<div class="select-custom" ref="dsmuccuoc">
										<select2 :z-index="2000" :settings="{ dropdownParent: $refs['dsmuccuoc'] }" ref="cboMucCuocTB"
											v-model="cboMucCuocTB.value" class="select2" :disabled="!cboMucCuocTB.Enabled"
											:options="DTMUCCUOCTB.map(e=> ({id: e.MUCUOCTB_ID,text: e.MUCCUOC}))"></select2>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="info-row">
						<div class="key">{{txtTenKH.label}}</div>
						<div class="value">
							<input type="text" class="form-control" v-bind:value="txtTenKH.value"
								@change="e => txtTenKH.value = e.target.value" :disabled="!txtTenKH.Enabled"
								:readonly="txtTenKH.ReadOnly">
						</div>
					</div>
					<div class="info-row">
						<div class="key">Địa chỉ KH</div>
						<div class="value">
							<input type="text" class="form-control" v-bind:value="txtDiaChiKH.value"
								@change="e => txtDiaChiKH.value = e.target.value" :disabled="!txtDiaChiKH.Enabled"
								:readonly="txtDiaChiKH.ReadOnly">
						</div>
					</div>
					<div class="title-bg-main">
						<span class="title">Thông tin thuê bao</span>
					</div>
					<div class="row">
						<div class="col-sm-7 col-12">
							<div class="info-row">
								<div class="key">Số máy/Acc</div>
								<div class="value">
									<div class="input-more-button">
										<button class="btn" @click="btnTKMaTB_Click">
											<span class="one-search f20"></span>
										</button>
										<input ref="txtMaTB" type="text" class="form-control highlight" v-bind:value="txtMaTB.value"
											@change="e => txtMaTB.value = e.target.value" @keyup.enter="txtMaTB_KeyPress">
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-5 col-12">
							<div class="info-row">
								<div class="key w90">Trạng thái TB</div>
								<div class="value">
									<div class="input-icon-right">
										<input type="text" class="form-control red" v-bind:value="txtTrangThaiTB.value"
											@change="e => txtTrangThaiTB.value = e.target.value" :readonly="txtTrangThaiTB.ReadOnly">
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="info-row">
						<div class="key">{{txtTenTB.label}}</div>
						<div class="value" style="padding-right: 5px !important">
							<input type="text" class="form-control" v-bind:value="txtTenTB.value"
								@change="e => txtTenTB.value = e.target.value" :disabled="!txtTenTB.Enabled"
								:readonly="txtTenTB.ReadOnly">
						</div>
						<button id="btnThongTinTBBS" class="btn btn-second fullw" @click="btnThongTinTBBS_Click"> {{button.btnThongTinTBBS.Text}} </button>
						<!-- <button class="btn btn-second fullw" @click="btnThongTinKhacClick">Thông tin khác</button> -->
					</div>
					<div class="info-row">
						<div class="key">Địa chỉ TB</div>
						<div class="value">
							<div class="input-more-button">
								<button class="btn" :disabled="!button.btnThayDoiDiaChiTB.Enabled" v-b-modal.popupdiachiTB>
									<span class="-ap icon-more_horiz"></span>
								</button>
								<!-- <input type="text" class="form-control " v-bind:value="txtDiaChiTB.value"
									@change="e => txtDiaChiTB.value = e.target.value" :disabled="!txtDiaChiTB.Enabled"> -->
								<ModalChonDiaChi modalId="popupdiachiTB" :data="diachiTB" @xacnhan="getdiachiTB" />
								<bss-error-marker :has-error="$v.diachiTB.DIACHI.$error">
									<input type="text" v-model="$v.diachiTB.DIACHI.$model" ref="txtDiaChiTB" class="form-control"
										:disabled="!txtDiaChiTB.Enabled" required title="Bạn chưa nhập địa chỉ"
										:readonly="txtDiaChiTB.ReadOnly" />
								</bss-error-marker>
							</div>
						</div>
					</div>
					<div class="info-row">
						<div class="key">Địa chỉ LĐ</div>
						<div class="value">
							<div class="input-more-button">
								<button class="btn" :disabled="!button.btnThayDoiDiaChiLD.Enabled" v-b-modal.popupdiachiLD>
									<span class="-ap icon-more_horiz"></span>
								</button>
								<!-- <input type="text" class="form-control " v-bind:value="txtDiaChiLD.value"
									@change="e => txtDiaChiLD.value = e.target.value" :disabled="!txtDiaChiLD.Enabled"> -->
								<ModalChonDiaChi modalId="popupdiachiLD" :data="diachiLD" @xacnhan="getdiachiLD" />
								<bss-error-marker :has-error="$v.diachiLD.DIACHI.$error">
									<input type="text" v-model="$v.diachiLD.DIACHI.$model" ref="txtDiaChiLD" class="form-control"
										:disabled="!txtDiaChiLD.Enabled" required title="Bạn chưa nhập địa chỉ"
										:readonly="txtDiaChiLD.ReadOnly" />
								</bss-error-marker>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-7 col-12">
							<div class="info-row">
								<div class="key">
									<div class="check-action">
										<input type="checkbox" class="check" v-model="chkKhuyenMai.Checked">
										<span class="name">Khuyến mại</span>
									</div>
								</div>
								<div class="value">
									<div class="input-more-button">
										<button class="btn" @click="btnChonKM_click" :disabled="!btnChonKhuyenMai.Enabled">
											<span class="-ap icon-more_horiz"></span>
										</button>
										<div class="select-custom" ref="dskhuyenmai">
											<select2 :z-index="2000" :settings="{ dropdownParent: $refs['dskhuyenmai'] }" ref="cboKhuyenMai"
												v-model="cboKhuyenMai.value" class="select2" :disabled="!cboKhuyenMai.Enabled"
												:options="DSKHUYENMAI.map(e=> ({id: e.KHUYENMAI_ID,text: e.TEN_KM}))"></select2>
										</div>
									</div>

								</div>
								<div class="value w30 nowrap">
									<button class="btn btn-second" @click="btnChiTietKM_click" :disabled="!btnCTKhuyenMai.Enabled">
										<span class="one-eye f20 inline vcenter"></span> Chi tiết
									</button>
								</div>
							</div>
						</div>
						<div class="col-sm-5 col-12">
							<div class="info-row">
								<div class="key w90">Tổng tiền</div>
								<div class="value">
									<div class="input-more-button">
										<button class="btn" @click="btnTienCTKM_Click">
											<span class="-ap icon-more_horiz"></span>
										</button>
										<input type="text" class="form-control red tright" v-bind:value="cp_TongTien"
											@change="e => cp_TongTien = e.target.value" :readonly="cp_TongTien.ReadOnly">
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-7 col-12">
							<div class="info-row">
								<div class="key">
									<div class="check-action">
										<input type="checkbox" class="check" v-model="chkTraTruoc.Checked">
										<span class="name">Trả trước</span>
									</div>
								</div>
								<div class="value">
									<div class="input-more-button">
										<button class="btn" @click="btnChonTT_click" :disabled="!btnChonTraTruoc.Enabled">
											<span class="-ap icon-more_horiz"></span>
										</button>
										<div class="select-custom" ref="dstratruoc">
											<select2 :z-index="2000" :settings="{ dropdownParent: $refs['dstratruoc'] }" ref="cboTraTruoc"
												v-model="cboTraTruoc.value" class="select2" :disabled="!cboTraTruoc.Enabled"
												:options="DSTRATRUOC.map(e=> ({id: e.KHUYENMAI_ID,text: e.TEN_KM}))"></select2>
										</div>
									</div>

								</div>
								<div class="value w30 nowrap">
									<button class="btn btn-second" @click="btnChiTietTT_click" :disabled="!btnCTTraTruoc.Enabled">
										<span class="one-eye f20 inline vcenter"></span> Chi tiết
									</button>
								</div>
							</div>
						</div>
						<div class="col-sm-5 col-12">
							<div class="info-row">
								<div class="key w90">Tổng VAT</div>
								<div class="value">
									<input type="text" class="form-control red tright" v-bind:value="cp_TongVat"
										@change="e => cp_TongVat = e.target.value" :readonly="cp_TongVat.ReadOnly">
								</div>
							</div>
						</div>
					</div>
					<div class="info-row">
						<div class="key">Ghi chú</div>
						<div class="value">
							<textarea name="" class="form-control" style="height: 66px;resize: none;" v-bind:value="txtGhiChu.value"
								@change="e => txtGhiChu.value = e.target.value" :disabled="!txtGhiChu.Enabled"
								:readonly="txtGhiChu.ReadOnly"></textarea>
						</div>
					</div>
				</div>
				<div class="gutter gutter-horizontal" style="width: 16px;"></div>
				<div class="box-col" id="RightForm" style="width: calc(50% - 8px);">
					<div class="row">
						<div class="col-sm-6 col-12">
							<div class="info-row">
								<div class="key w90">
									Dịch vụ
								</div>
								<div class="value">
									<div class="select-custom" ref="ds_dichvuvt">
										<select2 :z-index="2000" :settings="{ dropdownParent: $refs['ds_dichvuvt'] }"
											v-model="cboDichVuVT.value" class="select2"
											:options="ds_dichvuvt && ds_dichvuvt.length > 0 ? ds_dichvuvt.map(e=>({id:e.DICHVUVT_ID,text:e.TEN_DVVT})) : []">
										</select2>
									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-6 col-12">
							<div class="info-row">
								<div class="key w90">Loại hình</div>
								<div class="value">
									<div class="select-custom" ref="ds_loaihinhtb">
										<select2 :z-index="2000" :settings="{ dropdownParent: $refs['ds_loaihinhtb'] }"
											v-model="cboLoaiHinhTB.value" class="select2"
											:options="ds_loaihinhtb && ds_loaihinhtb.length > 0 ? ds_loaihinhtb.map(e=>({id:e.loaitb_id,text:e.loaihinh_tb})) : []"></select2>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12 col-12">
							<div class="info-row">
								<div class="key w90">Kiểu yêu cầu</div>
								<div class="value">
									<div class="select-custom" ref="ds_kieuld">
										<select2 :z-index="2000" :settings="{ dropdownParent: $refs['ds_kieuld'] }"
											v-model="cboKieuLD.value" class="select2"
											:options="ds_kieuld && ds_kieuld.length > 0 ? ds_kieuld.map(e=>({id:e.KIEULD_ID,text:e.TEN_KIEULD})) : []"></select2>
									</div>
								</div>
								<div class="value w30 nowrap">
									<button class="btn btn-second" @click="cboKieuLD_ButtonClick">
										<span class="nc-icon-outline ui-2_filter"></span>
									</button>
								</div>
							</div>
						</div>
					</div>
					<div class="title-bg-main ">
						<span class="title">Thông tin dịch vụ</span>
					</div>
					<div class="box-form" style="max-height: 260px; overflow: scroll;">
						<!-- <DataGrid class="table-result table-gachle" :columns="lbDichVuGT.header" :dataSource="lbDichVuGT.list"
							:enable-paging-server="false" :allowPaging="true" :showFilter="false" :showColumnCheckbox="false"
							:enabledSelectFirstRow="true" :visibleHeader="false" ref="lbDichVuGT" /> -->
						<div class="row" v-if="dycDVCNTT.length > 0" v-for="(row,index) in dycDVCNTT" :key="index">
							<div class="col-sm-12 col-12">
								<div class="info-row">
									<div v-if="row.sFieldName == 'SOTHANG_NEW'" class="key w150 red">
										{{row.sCaption}}
									</div>
									<div v-else class="key w150">
										{{row.sCaption}}
									</div>
									<div class="value" v-if="(row.iAtt == 0) && row.iDataType == 0">
										<input type="text" :ref="row.sFieldName" class="form-control" v-model="row.sValue"
											:disabled="row.sReadOnly">
									</div>
									<div class="value" v-if="(row.iAtt == 0) && row.iDataType == 1">
										<input v-if="row.sFieldName == 'SOTHANG_NEW'" type="number" :ref="row.sFieldName"
											class="form-control red" v-model="cp_sothangnew" :disabled="row.sReadOnly">
										<input v-else-if="row.sFieldName == 'SO_THANG'" type="number" :ref="row.sFieldName"
											class="form-control" v-model="cp_sothang" :disabled="row.sReadOnly">
										<input v-else-if="row.sFieldName == 'TONGSO_ND'" type="number" :ref="row.sFieldName"
											class="form-control" v-model="cp_tongsond" :disabled="row.sReadOnly">
										<input v-else-if="row.sFieldName == 'LABEL_ID'" type="number" :ref="row.sFieldName"
											class="form-control" v-on:keyup.enter="txtLABEL_ID_changed" :disabled="row.sReadOnly"  v-model="row.sValue">
										<input v-else type="number" :ref="row.sFieldName" class="form-control" v-model="row.sValue"
											:disabled="row.sReadOnly">
											
									</div>
									<div class="value" v-if="row.iAtt == 2">
										<DatePicker v-if="row.sFieldName == 'NGAY_BD'" :format="dateFormat" :ref="row.sFieldName"
											:value-type="'format'" v-model="cp_ngaybd" :disabled="row.sReadOnly">
										</DatePicker>
										<DatePicker v-else-if="row.sFieldName == 'NGAY_KT'" :format="dateFormat" :ref="row.sFieldName"
											:value-type="'format'" v-model="cp_ngaykt" :disabled="row.sReadOnly">
										</DatePicker>
										<DatePicker v-else :format="dateFormat" :ref="row.sFieldName" :value-type="'format'"
											v-model="row.sValue" :disabled="row.sReadOnly">
										</DatePicker>
									</div>
									<div class="value" v-if="row.iAtt == 4">
										<div class="select-custom">
											<select2 v-if='row.sFieldName == "TOCDO_ID" ' :z-index="2000" v-model="cp_tocdoid" class="select2"
												:options="row.dataSource" :ref="row.sFieldName" :disabled="row.sReadOnly">
											</select2>
											<select2 v-else-if='row.sFieldName == "DAILY" ' :z-index="2000" v-model="cp_daily" class="select2"
												:options="row.dataSource" :ref="row.sFieldName" :disabled="row.sReadOnly">
											</select2>
											<select2 v-else-if='row.sFieldName == "PHANLOAI_ID" ' :z-index="2000" v-model="cp_phanloai_id"
												class="select2" :options="row.dataSource" :ref="row.sFieldName" :disabled="row.sReadOnly">
											</select2>
											<select2 v-else :z-index="2000" v-model="row.sValue" class="select2" :options="row.dataSource"
												:ref="row.sFieldName" :disabled="row.sReadOnly">
											</select2>
										</div>
									</div>
									<div class="value" v-if="row.iAtt == 5">
										<div class="input-more-button">
											<button class="btn btn-second" v-if='row.sFieldName == "DINHTUYEN"' :disabled="row.sReadOnly"
												@click="txtDINHTUYENButtonEdit_ButtonClick">
												<span class="-ap icon-more_horiz"></span>
											</button>
											<button class="btn btn-second" v-if='row.sFieldName == "DINHMUC_SMS"' :disabled="row.sReadOnly"
												@click="txtDINHMUC_SMSButtonEdit_ButtonClick">
												<span class="-ap icon-more_horiz"></span>
											</button>
											<button class="btn btn-second" v-else :disabled="row.sReadOnly" @click="repositoryItemButtonEdit_ButtonClick(row.sFieldName)">
												<span class="-ap icon-more_horiz"></span>
											</button>
											<input type="text" :ref="row.sFieldName"
												class="form-control" v-model="row.sValue" :disabled="row.sReadOnly">
										</div>
									</div>
									<div class="value" v-if="row.iAtt == 7">
										<input type="checkbox" class="check" value="1" v-model="row.sValue" :disabled="row.sReadOnly">
									</div>
									<div class="value" v-if="row.iAtt == 9">
										<DatePicker v-if="row.sFieldName == 'NGAY_BD'" :format="dateFormat" :ref="row.sFieldName"
											:value-type="'format'" v-model="cp_ngaybd" :disabled="row.sReadOnly">
										</DatePicker>
										<DatePicker v-else-if="row.sFieldName == 'NGAY_KT'" :format="dateFormat" :ref="row.sFieldName"
											:value-type="'format'" v-model="cp_ngaykt" :disabled="row.sReadOnly">
										</DatePicker>
										<DatePicker v-else :format="dateFormat" :ref="row.sFieldName" :value-type="'format'"
											v-model="row.sValue" :disabled="row.sReadOnly">
										</DatePicker>
									</div>
									<div class="value" v-if="row.iAtt == 10">
										<ejs-multiselect
											:id="row.sFieldName"
											:ref="row.sFieldName"
											:z-index="2000"
											:dataSource="row.dataSource"
											placeholder="Chọn... "
											mode="CheckBox"
											v-model="row.sValue"
											:allowFiltering="true"
											locale='vi-VN'
											:fields="{text: 'text', value: 'id' }"
											:showSelectAll="true"
											selectAllText="Chọn tất cả"
											unSelectAllText="Chọn tất cả"
											:disabled="row.sReadOnly"/>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="title-bg-main mart10">
						<span class="title">Thông tin đơn vị</span>
					</div>
					<div class="box-form" style="max-height: 140px; overflow: scroll;">
						<div class="row" v-if="layoutDV.length > 0" v-for="(row,index) in layoutDV" :key="index">
							<div class="col-sm-12 col-12">
								<div class="info-row">
									<div class="key w110">
										{{row.TEN_LOAIDV}}
									</div>
									<div class="value">
										<div class="select-custom">
											<select2 :z-index="2000" v-model="row.SELECT_DV" class="select2"
												:options="row.DS_DONVI.map(e=>({id:e.DONVI_ID,text:e.TEN_DV}))">
											</select2>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="grid-stack-box">
			<div class="box-col box-form" id="LeftForm1" style="width: calc(50% - 8px);">
				<div class="legend-title">
					<span class="icon fa fa-angle-up"></span> Dịch vụ cộng thêm
				</div>
				<div class="input-more-button">
					<button class="btn" @click="btnDichVuGT_Click">
						<span class="-ap icon-more_horiz"></span>
					</button>
					<!-- <textarea name="" class="form-control" style="height: 100px;resize: none;"></textarea> -->
					<ul class="form-control listview" style="height: 110px;resize: none; overflow: scroll;">
						<li :value="dv" v-for="dv in lbDichVuGT.list" @click="lbDichVuGT.value=dv"
							:class="{active:lbDichVuGT.value==dv}">{{dv.TEN_DVGT}}
						</li>
					</ul>
				</div>
			</div>
			<div class="gutter gutter-horizontal" style="width: 16px;"></div>
			<div class="box-col box-form" id="RightForm1" style="width: calc(50% - 8px);">
				<div class="legend-title">
					<span class="icon fa fa-angle-up"></span> Mua thiết bị
				</div>
				<div class="input-more-button">
					<button class="btn" @click="btnMuaThietBi_Click">
						<span class="-ap icon-more_horiz"></span>
					</button>
					<!-- <textarea name="" class="form-control" style="height: 100px;resize: none;"></textarea> -->
					<ul class="form-control listview" style="height: 110px;resize: none; overflow: scroll;">
						<li :value="dv" v-for="dv in lbMuaThietBi.list" @click="lbMuaThietBi.value=dv"
							:class="{active:lbMuaThietBi.value==dv}">{{dv}}</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="box-form">
			<div class="legend-title">Danh sách phiếu yêu cầu</div>
			<DataGrid class="table-result table-gachle" :columns="grcDanhSach.header" :dataSource="grcDanhSach.list"
				:enable-paging-server="false" :allowPaging="true" :showFilter="true" :showColumnCheckbox="false"
				:enabledSelectFirstRow="true" ref="grcDanhSach" panelDataHeight="300px" />
		</div>
	</div>

	<b-modal id="popupComponents" size="huge" :title="popupComponentHeader" :hide-header="popupComponentHeader?false:true"
		hide-footer body-class="modal-body p-0">
		<component :is="popupComponent" ref="generalPopup" :dulieu="popupComponentData" v-bind="popupComponentAttr"
			isPopup="true" v-on="popupComponentEvts"></component>
		<!--v-dynamic-events="popupComponentEvents"-->
	</b-modal>

	<ModalNormalizeCAinformation ref="ModalNormalizeCAinformation" @xacnhan="timthongtinHD" />

	<b-modal id="frmUploadEProfile" title="Quản lý file hồ sơ khách hàng" modal-class="hoso-dientu"
		header-class="popup-header" content-class="tracuu-content" body-class="none-padding tracuu-body" size="huge"
		hide-footer>
		<UploadEProfileContent :ma_thue_bao="txtMaTB.value" :txtMaGD="txtMaGD.value ? txtMaGD.value : ''" :isCA="true" />
	</b-modal>
  <frmGiaHanHangLoat ref='frmImportCA'></frmGiaHanHangLoat>
	<frmNhapDSThanhVien ref="frmNhapDSThanhVien" />
</div>
