<div class="main-wrapper">
    <breadcrumb :header="header"/>
    <div class="list-actions-top">
        <ul class="list" style="position: unset;">
            <li>
                <a href="#" @click.prevent="tsbtnTraCuu_Click">
                    <span class="icon one-search"></span>Tra cứu
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="btnCatMo_Click" :class="{disabled: !btnCatMo}">
                    <span class="icon one-key"></span>Cắt mở
                </a>
            </li>

        </ul>
    </div>
    <div class="page-content">
        <div class="row">
            <div class="col-sm-6 col-12">
                <div class="box-form">
                    <div class="legend-title">
                        Thông tin thuê bao
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w70">Số máy</div>
                                <div class="value">
                                    <div class="input-more-button -left">
                                        <button class="btn">
                                            <span>84</span>
                                        </button>
                                        <input v-model.trim="frm.soTb" @keyup.enter="txtSoTB_KeyPress" type="text" class="form-control highlight">
                                    </div>
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="key w70">Thao tác</div>
                                <div class="value">
                                    <div class="list-checks marb5 mart7">
                                        <div class="item">
                                            <div class="check-action">
                                                <input v-model="frm.goiDi" type="checkbox" class="check">
                                                <span class="name">Gọi đi</span>
                                            </div>
                                        </div>
                                        <div class="item">
                                            <div class="check-action" :class="{disable: !enableGoiDen}">
                                                <input v-model="frm.goiDen" type="checkbox" class="check">
                                                <span class="name">Gọi đến</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="info-row">
                                <div class="key w70">Lý do</div>
                                <div class="value">
                                    <div class="select-custom">
                                        <SelectExt v-model="frm.lyDoHuyId" ref="cboLyDoHuy" :allowFiltering="true" dataTextField="LYDO"
                                            dataValueField="MA" :dataSource="options.dsLyDoHuy"></SelectExt>
                                    </div>
                                </div>
                            </div>


                            <div class="info-row">
                                <div class="key w70">PIN</div>
                                <div class="value">
                                    <input v-model="frm.pin" type="text" class="form-control" value="">
                                </div>
                                <div class="key w50" style="padding-left: 10px;">PIN2</div>
                                <div class="value">
                                    <input v-model="frm.pin2" type="text" class="form-control" value="">
                                </div>
                            </div>
                            
                            <div class="info-row">
                                <div class="key w70">Loại TB</div>
                                <div class="value">
                                    <input v-model="frm.loaiTb" type="text" class="form-control red" value="">
                                </div>
                                
                            </div>
                            
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w70">Ngày KH</div>
                                <div class="value">
                                    <input v-model="frm.ngayKh" type="text" class="form-control red" value="">
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="key w70">MSIN</div>
                                <div class="value">
                                    <input v-model="frm.msin" type="text" class="form-control red" value="">
                                </div>
                            </div>
                            
                            <div class="info-row">
                                <div class="key w70">PUK</div>
                                <div class="value">
                                    <input v-model="frm.puk" type="text" class="form-control" value="">
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="key w70">PUK2</div>
                                <div class="value">
                                    <input v-model="frm.puk2" type="text" class="form-control" value="">
                                </div>
                            </div>
                            <div class="info-row">
                                <div class="key w70">Tỉnh, TP</div>
                                <div class="value">
                                    <input v-model="frm.maTinh" type="text" class="form-control" value="">
                                </div>
                                
                            </div>
                        </div>
                        
                    </div>

                    <div class="info-row">
                        <div class="key w70">Tên TB</div>
                        <div class="value">
                            <input v-model="frm.tenTb" type="text" class="form-control" value="">
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w70">Địa chỉ</div>
                        <div class="value">
                            <input v-model="frm.diaChi" type="text" class="form-control" value="">
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w70">Ghi chú</div>
                        <div class="value">
                            <input v-model="frm.ghiChu" type="text" class="form-control" value="">
                        </div>
                    </div>
                    
                </div>

            </div>
            <div class="col-sm-6 col-12">
                <div class="box-form" style="min-height: 372px;">
                    <div class="legend-title">
                        Các dịch vụ đang sử dụng
                    </div>
                    <div class="table-content" >
                        <DataGrid3 :columns="[ 
                                {fieldName: 'MA_DV', headerText: 'Mã DV', allowFiltering: false, width:'100'}, 
                                {fieldName: 'TEN_DV', headerText: 'Tên dịch vụ', allowFiltering: false}, 
                            ]" ref="gridDichVu" :dataSource="dsSuDungDV" :pageSize="5"
                            :enable-paging-server="false" :allowPaging="true" :showFilter="false">
                        </DataGrid3>
                        <!-- <table class="table-result table-gachle">
                            <thead class="center">
                                <tr>
                                    <th class="cell-header">Mã ĐV</th>
                                    <th class="cell-header">Tên dịch vụ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="dv in dsSuDungDV">
                                    <td class="w100 text-right"><strong>{{dv.MA_DV}}</strong></td>
                                    <td class="text-right">{{dv.TEN_DV}}</td>
                                </tr>
                            </tbody>
                        </table> -->
                    </div>
                </div>
            </div>
            <div class="col-sm-3 col-12">
                
            </div>
        </div>
        
            
        <div class="tabs nav tab-over">
            <a href="#tab1" style="min-width: 195px;" class="active" data-toggle="tab">Lịch sử thuê bao</a>
            <a href="#tab2" style="min-width: 195px;" data-toggle="tab">Lịch sử dịch vụ 3G</a>
        </div>
        <div class="tab-content">
            <div id="tab1" class="tab-pane active">
                <div class="table-content">
                    <DataGrid3 :columns="[ 
                            {fieldName: 'NGAY_THANG', headerText: 'Ngày thực hiện', allowFiltering: true, width:'150'}, 
                            {fieldName: 'SO_THUNG', headerText: 'STT', allowFiltering: true, width:'100'}, 
                            {fieldName: 'MA_DV', headerText: 'Mã Dv', allowFiltering: true, width:'100'}, 
                            {fieldName: 'THAO_TAC', headerText: 'Thao tác', allowFiltering: true, width:'100'}, 
                            {fieldName: 'GHI_CHU', headerText: 'Ghi chú', allowFiltering: true}, 
                            {fieldName: 'NGUOI_DUNG', headerText: 'Người dùng', allowFiltering: true, template:cNguoiDungTemplate, width:'100'}, 
                            {fieldName: 'SO_MSIN_CU', headerText: 'MSIN cũ', allowFiltering: true, width:'100'}, 
                            {fieldName: 'SO_MSIN_MOI', headerText: 'MSIN mới', allowFiltering: true, width:'100'}, 
                            {fieldName: 'MA_TINH_CU', headerText: 'Tỉnh cũ', allowFiltering: true, width:'100'}, 
                            {fieldName: 'MA_TINH_MOI', headerText: 'Tỉnh mới', allowFiltering: true, width:'100'}, 
                        ]" ref="gridLichSuTb" :dataSource="dsLichSuTb"
                        :enable-paging-server="false" :allowPaging="true" :showFilter="true">
                    </DataGrid3>
                </div>
            </div>
            <div id="tab2" class="tab-pane">
                <div class="table-content">
                    <DataGrid3 :columns="[ 
                        {fieldName: 'MA_DV', headerText: 'Mã Dv', allowFiltering: true, width:'100'}, 
                        {fieldName: 'SO_THUNG', headerText: 'STT', allowFiltering: true, width:'100'}, 
                        {fieldName: 'DICHVU', headerText: 'Dịch vụ', allowFiltering: true, width:'150'}, 
                        {fieldName: 'GOI', headerText: 'Gói', allowFiltering: true, width:'150'}, 
                        {fieldName: 'THAOTAC', headerText: 'Thao tác', allowFiltering: true, width:'100'}, 
                        {fieldName: 'BATDAU', headerText: 'Ngày bắt đầu', allowFiltering: true, width:'150'}, 
                        {fieldName: 'KETTHUC', headerText: 'Ngày kết thúc', allowFiltering: true, width:'150'}, 
                        {fieldName: 'NGUOITH', headerText: 'Người cập nhật', allowFiltering: true, width:'100'}, 
                    ]" ref="gridLichSu3G" :dataSource="dsLichSu3G"
                    :enable-paging-server="false" :allowPaging="true" :showFilter="true">
                    </DataGrid3>
                </div>
            </div>
            
        </div>
    </div>
</div>