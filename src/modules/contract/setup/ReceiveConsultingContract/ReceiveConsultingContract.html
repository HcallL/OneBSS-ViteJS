<div class="main-wrapper">
    <breadcrumb :header="header" />
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="#" @click.prevent="btnSearchClicked">
                    <span class="icon one-search"></span>Tìm kiếm
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="TiepNhan" v-if="tiepnhan">
                    <span class="icon one-check"></span>Tiếp nhận
                </a>
                <a v-else href="#" class="disabledInput"> 
                    <span class="icon one-check"></span>Tiếp nhận
                </a>
            </li>
            <li>
                <a href="javascript:;" @click.prevent="HuyBo">
                    <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Hủy bỏ
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="TraPhieu" v-if="traphieu">
                    <span class="icon one-file-back"></span>Trả phiếu
                </a>
                <a v-else href="#" class="disabledInput"> 
                    <span class="icon one-file-back"></span>Trả phiếu
                </a>
            </li>     
        </ul>  
    </div>
    <div class="page-content">
        <div class="row">
            <div class="col-sm-6 col-12">
                <div class="box-form">
                    <div class="legend-title">Thông tin tìm kiếm phiếu tư vấn</div>
                    <div class="row">
                            <div class="info-row">
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w80">Ngày tiếp nhận</div>
                                        <div class="input-icon-right">
                                            <ejs-datepicker
                                                :format="config.dateConfig.format"
                                                v-model="TxtNgayTiepNhan"
                                                :showClearButton="false"
                                                :value="config.dateConfig.value"
                                            />
                                        </div>
                                    </div>
                                    <div class="info-row">
                                        <div class="key w80">Kiểu YC</div>
                                        <div class="select-custom">
                                            <select name="" id="" class="form-control" v-model="listbox.yeu_cau.value">
                                                <option v-for="yeu_cau in listbox.yeu_cau.list" v-bind:value="yeu_cau.KIEULD_ID">{{
                                                    yeu_cau.TEN_KIEULD }}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="info-row">
                                        <div class="key w80">
                                            <div class="check-action -color">
                                                <input
                                                    type="checkbox"
                                                    v-model="checkNgayNhan"
                                                    class="check"/>
                                                <span class="name">Từ ngày</span>
                                            </div>                
                                        </div>
                                        <div class="input-icon-right">
                                            <ejs-datepicker
                                                :format="config.dateConfig.format"
                                                :showClearButton="false"
                                                :value="config.dateConfig.value"
                                                :enabled="checkNgayNhan"
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w80">Mã GD</div>
                                            <div class="">
                                                <input type="text" class="form-control highlight" v-model="TxtMaGD" >
                                            </div>
                                    </div>
                                    <div class="info-row">
                                        <div class="key w80">Trạng thái</div>
                                            <div class="select-custom">
                                                <select name="" id="" class="form-control" v-model="listbox.trang_thai.value">
                                                    <option  v-for="trang_thai in listbox.trang_thai.list" v-bind:value="trang_thai.status">{{ trang_thai.trang_thai }}</option>
                                                </select>
                                            </div>
                                    </div>
                                    <div class="info-row">
                                        <div class="key w80">Đến ngày</div>
                                            <div class="input-icon-right">
                                                <ejs-datepicker
                                                    :format="config.dateConfig.format"
                                                    :showClearButton="false"
                                                    :value="config.dateConfig.value"
                                                    :enabled="checkNgayNhan"
                                                />
                                            </div>
                                    </div>
                                </div>
                            </div>
                    </div>
                        <div class="info-row">
                            <div class="key w80">Lý do trả</div>
                            <div class="select-custom">
                                <select name="" id="" class="form-control" v-model="listbox.ly_do_tra.value">
                                    <option  v-for="ly_do in listbox.ly_do_tra.list" v-bind:value="ly_do.LYDOTONTC_ID">{{ ly_do.LYDOTON_TC }}</option>
                                </select>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w80">Nội dung trả</div>
                            <div>
                                <textarea data-v-0ffcf221="" name="" id="" cols="30" rows="10" class="form-control" style="height: 145px; resize: none;" v-model="TxtNoiDung"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-12">
                <div class="box-form">
                    <div class="legend-title">Thông tin hợp đồng</div>
                    <div class="row">
                            <div class="info-row">
                            <div class="row">
                                <div class="col-sm-8 col-12">
                                    <div class="info-row">
                                        <div class="key w80">Tên KH</div>
                                        <div class="">
                                            <input type="text" class="form-control" v-model="TxtTenKH">
                                        </div>
                                    </div>
                                    <div class="info-row">
                                        <div class="key w80">Loại giấy tờ</div>
                                        <div class="select-custom">
                                            <select name="" id="" class="form-control" v-model="listbox.loai_giay_to.value">
                                                <option  v-for="giay_to in listbox.loai_giay_to.list" v-bind:value="giay_to.loaigt_id">{{ giay_to.loai_gt }}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="info-row">
                                        <div class="key w80">Địa chỉ KH</div>
                                        <div class="">
                                            <input type="text" class="form-control" v-model="TxtDiaChi">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4 col-12">
                                    <div class="info-row">
                                        <div class="key w85">Kiểu YC</div>
                                        <div class="">
                                            <input type="text" class="form-control" v-model = "TxtKieuYC">
                                        </div>
                                    </div>
                                    <div class="info-row">
                                        <div class="key w85">Số GT</div>
                                        <div class="">
                                            <input type="text" class="form-control">
                                        </div>
                                    </div>
                                    <div class="info-row">
                                        <div class="key w85">Ngày cấp</div>
                                        <div class="input-icon-right">
                                            <ejs-datepicker
                                                :format="config.dateConfig.format"
                                                :showClearButton="false"
                                                :value="config.dateConfig.value"
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>
                    </div>
                    </div>
                    <div class="nav tabs tab-over">
                        <a href="#tab1" data-toggle="tab" class="active">Hình ảnh giấy tờ</a>
                        <a href="#tab2" data-toggle="tab">Hình ảnh hợp đồng</a>
                    </div>
                    <div class="tab-content">
                        <div class="tab-pane active" id="tab1">
                            <img :src="listbox.listImage.list.url" alt="">
                        </div>
                        <div class="tab-pane" id="tab2">
                            <img :src="listbox.listImage.list.url" alt="">
                        </div>
                    </div>        
                </div>
            </div>
        </div>
        <div class="box-form">
            <div class="legend-title">Danh sách phiếu tư vấn</div>
            <div class="table-content">
                <table class="table-result table-gachle table-filter">
                    <DataGrid v-bind:columns="[{ fieldName: '', headerText: '', allowFiltering: true, allowSorting: false, width: 90, template: LapDatMoiTemplate, cssClass: 'text-center'},
                    { fieldName: 'ma_gd', headerText: 'Mã GD', allowFiltering: true },
                    { fieldName: 'ngay_yc', headerText: 'Ngày YC', allowFiltering: true },
                    { fieldName: 'ngaygiao', headerText: 'Ngày giao', allowFiltering: true },
                    { fieldName: 'ten_kh', headerText: 'Tên KH', allowFiltering: true },
                    { fieldName: 'so_dt', headerText: 'Số ĐT', allowFiltering: true, cssClass: 'text-right'},
                    { fieldName: 'diachi_kh', headerText: 'Địa chỉ', allowFiltering: true },
                    { fieldName: 'dv_giao', headerText: 'Đơn vị giao', allowFiltering: true },
                    { fieldName: 'ten_kieuld', headerText: 'Kiểu YC', allowFiltering: true },
                    { fieldName: 'ghichu', headerText: 'Ghi chú', allowFiltering: true }]"
                        v-bind:dataSource="ketquatimkiem.list"
                        :enable-paging-server="false"
                        :showFilter="true"
                        :allowPaging="true"
                        :showColumnCheckbox="true"
                        :enabledSelectFirstRow="true"
                        @selectedRowChanged="selectedRowChanged">
                    </DataGrid>
                </table>
            </div>    
        </div>
    </div>
</div>