<!-- <b-modal ref="LichSuPheDuyetModal" size="xl" hide-header hide-header-close hide-footer body-class="p-0"
  no-close-on-backdrop @show="handleShowModal"> -->
<div class="modal-content popup-box">
  <div class="popup-header">
    <div class="title">
      <span class="icon one-notepad"></span> Danh sách Phiếu duyệt yêu cầu thay đổi thông tin khách hàng
    </div>
    <div class="close -ap icon-close" @click="hideModal"></div>
  </div>
  <div class="list-actions-top">
    <ul class="list">
      <li>
        <a href="javascript:;" @click="btnSearch_click">
          <span class="icon one-search"></span>Tìm kiếm
        </a>
      </li>
    </ul>
  </div>
  <div class="popup-body">
    <div class="box-form">
      <div class="legend-title">Thông tin tìm kiếm</div>
      <div class="row">
        <div class="col-sm-3 col-12">
          <div class="info-row">
            <div class="key w98">{{ txtMaKH.text }}</div>
            <div class="value">
              <div class="input-more-button">
                <button class="btn" @click.prevent="ShowSearchAccount" :title="txtMaKH.value" :disabled="!txtMaKH.Enabled">
                  <span class="-ap icon-more_horiz"></span>
                </button>
                <input type="text" class="form-control" :disabled="!txtMaKH.Enabled" :value="txtMaKH.value"
                  @change="v=>txtMaKH.value=v.target.value" @keyup.enter="MaKHChanged">
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-3 col-12">
          <div class="info-row">
            <div class="key w98">{{ txtMaGD.text }}</div>
            <div class="value">
              <input type="text" class="form-control" :disabled="!txtMaGD.Enabled" :value="txtMaGD.value"
                @change="v=>txtMaGD.value=v.target.value">
            </div>
          </div>
        </div>
        <div class="col-sm-3 col-12">
          <div class="info-row">
            <div class="key w98">Từ ngày</div>
            <div class="value">
              <DatePicker :format="dateFormat" :value-type="'format'" placeholder="Chọn ngày..." v-model="dtpNgayBD.value"
                :disabled="!dtpNgayBD.Enabled">
              </DatePicker>
            </div>
          </div>
        </div>
        <div class="col-sm-3 col-12">
          <div class="info-row">
            <div class="key w98">Đến ngày</div>
            <div class="value">
              <DatePicker :format="dateFormat" :value-type="'format'" placeholder="Chọn ngày..." v-model="dtpNgayKT.value"
                :disabled="!dtpNgayKT.Enabled">
              </DatePicker>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div :class="formWidth >= 1400 ? 'grid-stack-box' : ''">
      <div class="box-form" :class="formWidth >= 1400 ? 'col-sm-6 col-12' : 'col-sm-12 col-12'">
        <div class="legend-title">Đơn vị cập nhật</div>
        <div class="row">
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w98">{{ txtNVYC.text }}</div>
              <div class="value">
                <input type="text" class="form-control" :disabled="!txtNVYC.Enabled" :value="txtNVYC.value"
                  @change="v=>txtNVYC.value=v.target.value">
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w98">{{ txtSDTNV.text }}</div>
              <div class="value">
                <input type="text" class="form-control" :disabled="!txtSDTNV.Enabled" :value="txtSDTNV.value"
                  @change="v=>txtSDTNV.value=v.target.value">
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w98">{{ txtDVYC.text }}</div>
              <div class="value">
                <input type="text" class="form-control" :disabled="!txtDVYC.Enabled" :value="txtDVYC.value"
                  @change="v=>txtDVYC.value=v.target.value">
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w98">{{ dtpNgayYC.text }}</div>
              <div class="value">
                <DatePicker :format="dateFormat" :value-type="'format'" placeholder="Chọn ngày..." v-model="dtpNgayYC.value"
                  :disabled="!dtpNgayYC.Enabled">
                </DatePicker>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w98">{{ txtNVDuyet.text }}</div>
              <div class="value">
                <input type="text" class="form-control" :disabled="!txtNVDuyet.Enabled" :value="txtNVDuyet.value" @change="v=>txtNVDuyet.value=v.target.value">
              </div>                  
            </div>
          </div>  
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w98">{{ txtDVDuyet.text }}</div>
              <div class="value">
                <input type="text" class="form-control" :disabled="!txtDVDuyet.Enabled" :value="txtDVDuyet.value" @change="v=>txtDVDuyet.value=v.target.value">
              </div>                  
            </div>
          </div>
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w98">{{ txtKetQuaDuyet.text }}</div>
              <div class="value">
                <input type="text" class="form-control" :disabled="!txtKetQuaDuyet.Enabled" :value="txtKetQuaDuyet.value" @change="v=>txtKetQuaDuyet.value=v.target.value">
              </div>                  
            </div>
          </div>
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w98">{{ dtpNgayDuyet.text }}</div>
              <div class="value">
                <DatePicker :format="dateFormat" :value-type="'format'" placeholder="Chọn ngày..." v-model="dtpNgayDuyet.value" :disabled="!dtpNgayDuyet.Enabled">
                </DatePicker>
              </div>                  
            </div>
          </div>
          <div class="col-sm-12 col-12">
            <div class="info-row">
              <div class="key w98">{{ txtLyDoDuyet.text }}</div>
              <div class="value">
                <input type="text" class="form-control" :disabled="!txtLyDoDuyet.Enabled" :value="txtLyDoDuyet.value"
                  @change="v=>txtLyDoDuyet.value=v.target.value">
              </div>
            </div>
          </div>
        </div>        
      </div>
      <div class="box-form" :class="formWidth >= 1400 ? 'col-sm-6 col-12' : 'col-sm-12 col-12'">
        <div class="legend-title">
          <span>Hình ảnh tải lên</span>
        </div>
        <div v-for="item in cbb_AnhGT.ds_hinhanh" :key="item.id" class="value k marb10">
          <img class="image_gt marr10" title="Click here" @click="openImage(item)" :src="item.url">
        </div>
      </div>
    </div>
    <div class="box-form">
      <div class="legend-title">Danh sách phiếu yêu cầu</div>
      <DataGrid v-bind:columns="[
          {fieldName: 'phieu_id', headerText: 'Phiếu ID', allowFiltering: true, allowSorting: false, isGroupedColumn: false},
          {fieldName: 'ten_kh', headerText: 'Tên KH mới', allowFiltering: true, allowSorting: false},
          {fieldName: 'so_gt', headerText: 'Số giấy tờ mới', allowFiltering: true, allowSorting: false},
          {fieldName: 'so_dt', headerText: 'Số điện thoại mới', allowFiltering: true, allowSorting: false},
          {fieldName: 'kq_duyet', headerText: 'Kết quả duyệt', allowFiltering: true, allowSorting: false},
          {fieldName: 'lydo_duyet', headerText: 'Lý do duyệt', allowFiltering: true, allowSorting: false},
          {fieldName: 'tg_duyet', headerText: 'Thời gian duyệt', allowFiltering: true, allowSorting: false},          
          {fieldName: 'ten_nv', headerText: 'Nhân viên duyệt', allowFiltering: true, allowSorting: false},  
          {fieldName: 'ten_dv', headerText: 'Đơn vị duyệt', allowFiltering: true, allowSorting: false},  
          ]" v-bind:dataSource="DS_Phieu" :showFilter="true" :allowPaging="true" ref="DS_Phieu_Grid"
        :allowGrouping="true" :enablePagingServer="false" :allowExcelExport="true" @selectedItemsChanged="grdPhieuYC_SelectionChanged">
      </DataGrid>
    </div>
  </div>
  <b-modal id="popupComponents1" size="huge" :title="popupComponentHeader" :hide-header="popupComponentHeader?false:true"
    hide-footer modal-class="modal-custom" body-class="modal-body p-0">
    <component :is="popupComponent" ref="generalPopup1" :dulieu="popupComponentData" v-bind="popupComponentAttr"
      isPopup="true" v-on="popupComponentEvts"></component>
  </b-modal>
</div>
<!-- </b-modal> -->