<div class="main-wrapper">
    <breadcrumb title_in="Chuẩn hóa thông tin CA" />
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a ref="tsbNhapMoi" @click="tsbNhapMoi_Click">
                    <span class="icon one-file-plus"></span>Nhập mới
                </a>
            </li>
            <li>
                <a ref="tsbCapNhat" @click="tsbCapNhat_Click">
                    <span class="icon one-reload1"></span>Cập nhật
                </a>
            </li>
            <li>
                <a ref="tsbXoaHopDong" @click="tsbXoaHopDong_Click">
                    <span class="icon one-trash"></span>Xoá HĐ
                </a>
            </li>
            <li>
                <a ref="tsbUpHoSo" @click="tsbUpHoSo_Click">
                    <span class="icon one-file-arrow-up"></span>Up hồ sơ
                </a>
            </li>
            <li>
                <a ref="tsbtnGiaoPhieu" @click="tsbtnGiaoPhieu_Click">
                    <span class="icon one-file-arrow-right1"></span>Giao phiếu
                </a>
            </li>
            <li>
                <a ref="tstDongBoCMS" @click="tstDongBoCMS_Click">
                    <span class="icon one-sync1"></span>Đồng bộ
                </a>
            </li>

        </ul>

    </div>
    <div class="page-content">
        <div class="box-form padt8 padb5 fw6">
            <div class="text-right">
                <div class="list-checks fw6">
                    <div class="item ">
                        <span class="shape inline vcenter w40 h20 hl4"></span> Kiểm tra kĩ
                    </div>
                    <div class="item">
                        <div class="check-action">
                            <input ref="ckbChonTatCa" @change="ckbChonTatCa_CheckedChanged" type="checkbox"
                                class="check">
                            <span class="name">Chọn tất cả</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="grid-stack-box">
            <div class="box-col" id="boxLeft" style="width: calc(50% - 8px);">
                <div class="box-form">
                    <div class="legend-title">
                        <span v-b-toggle.collapse-ttkh class="icon fa fa-angle-up">
                        </span>
                        <span v-b-toggle.collapse-ttkh class="icon fa fa-angle-down"></span> Thông tin khách hàng ĐHSX
                    </div>
                    <b-collapse visible id="collapse-ttkh">
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">Kiểu yêu cầu</div>
                                    <div class="value">
                                        <div class="select-custom">
                                            <Select2Ext ref="cboKieuLD" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Dịch vụ</div>
                                    <div class="value">
                                        <div class="select-custom">
                                            <Select2Ext ref="cboDichVuVT" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w120">LH Thuê bao</div>
                            <div class="value">
                                <div class="select-custom">
                                    <Select2Ext ref="cboLoaiHinhThueBao" />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">Mã GD</div>
                                    <div class="value">
                                        <div class="input-more-button">
                                            <button @click="txtMaGD_ButtonClick" class="btn">
                                                <span class="one-search f20"></span>
                                            </button>
                                            <input @keyup.enter="txtMaGD_KeyPress" ref="txtMaGD" type="text"
                                                class="form-control hl">
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Ngày yêu cầu</div>
                                    <div class="value">
                                        <VueDateExt type="date" format="DD/MM/YYYY" ref="dtpNgayYeuCau" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">Mã HĐ</div>
                                    <div class="value">
                                        <input ref="txtMaHD" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Ngày lập HĐ</div>
                                    <div class="value">
                                        <VueDateExt type="date" format="DD/MM/YYYY" ref="dtpNgayLapHD" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">Mã Khách hàng</div>
                                    <div class="value">
                                        <input ref="txtMaKH" type="text" class="form-control">

                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Tên khách hàng</div>
                                    <div class="value">
                                        <input ref="txtTenKH" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w120">Địa chỉ khách hàng</div>
                            <div class="value">
                                <input ref="txtDiaChiKH" type="text" class="form-control">

                            </div>
                        </div>
                    </b-collapse>
                </div>
                <div class="box-form">
                    <div class="legend-title">
                        <span v-b-toggle.collapse-tttb class="icon fa fa-angle-up">
                        </span>
                        <span v-b-toggle.collapse-tttb class="icon fa fa-angle-down">
                        </span> 
                        Thông tin thuê bao
                    </div>
                    <b-collapse visible id="collapse-tttb">
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">Mã TB</div>
                                    <div class="value">
                                        <div class="input-more-button">
                                            <button @click="txtMaTB_ButtonClick" class="btn">
                                                <span class="-ap icon-more_horiz"></span>
                                            </button>
                                            <input @keyup.enter="txtMaTB_KeyPress" ref="txtMaTB" type="text"
                                                class="form-control hl">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Tên TB (chủ thể)</div>
                                    <div :title="ErrorText.txtTenTB" v-if="ErrorControl.includes('txtTenTB')"
                                        class="value w20 padt7">
                                        <span class="one-alert f20 text-warning"></span>
                                    </div>
                                    <div class="value">
                                        <input ref="txtTenTB" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w120">Địa chỉ LĐ</div>
                            <div class="value">
                                <div class="input-more-button">
                                    <button @click="txtThayDoiDiaChi_Click" class="btn">
                                        <span class="-ap icon-more_horiz"></span>
                                    </button>
                                    <input type="text" ref="txtDiaChiLD" class="form-control hl4">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">User name</div>
                                    <div :title="ErrorText.txtUserName" v-if="ErrorControl.includes('txtUserName')"
                                        class="value w20 padt7">
                                        <span class="one-alert text-warning f20"></span>
                                    </div>
                                    <div class="value">
                                        <input ref="txtUserName" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Số tháng SD</div>

                                    <div class="value">
                                        <input ref="txtSoThangSD" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">Ngày BĐ</div>
                                    <div class="value">
                                        <VueDateExt class="highlight" type="date" format="DD/MM/YYYY" id="dtpNgayBD" ref="dtpNgayBD" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Ngày KT</div>

                                    <div class="value">
                                        <VueDateExt class="highlight" type="date" format="DD/MM/YYYY" id="dtpNgayKT" ref="dtpNgayKT" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">Serial number</div>
                                    <div :title="ErrorText.txtSerial" v-if="ErrorControl.includes('txtSerial')"
                                        class="value w20 padt7">
                                        <span class="one-alert f20 text-warning"></span>
                                    </div>
                                    <div class="value">
                                        <input ref="txtSerial" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Mã số thuế</div>

                                    <div class="value">
                                        <input ref="txtMST" type="text" class="form-control hl4">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">Số ĐT</div>
                                    <div :title="ErrorText.txtSDT" v-if="ErrorControl.includes('txtSDT')"
                                        class="value w20 padt7">
                                        <span class="one-alert f20 text-warning"></span>
                                    </div>
                                    <div class="value">
                                        <input ref="txtSDT" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Email</div>

                                    <div :title="ErrorText.txtEmail" v-if="ErrorControl.includes('txtEmail')"
                                        class="value w20 padt7">
                                        <span class="one-alert f20 text-warning"></span>
                                    </div>
                                    <div class="value">
                                        <input ref="txtEmail" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">Loại giấy tờ</div>

                                    <div class="value">
                                        <Select2Ext class="highlight" ref="cboLoaiGT" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Số giấy tờ</div>

                                    <div class="value">
                                        <input ref="txtSoGT" type="text" class="form-control hl4">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">Chức danh</div>

                                    <div class="value">
                                        <input ref="txtChucDanh" type="text" class="form-control hl4">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Ngày hết hạn GT</div>

                                    <div class="value">
                                        <VueDateExt class="highlight" type="date" format="DD/MM/YYYY" id="dtpNgayHetHan" ref="dtpNgayHetHan" />
                                        <!-- <input ref="dtpNgayHetHan" class="form-control hl4"> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">Gói cước</div>

                                    <div class="value">
                                        <Select2Ext class="highlight" ref="cboGoiCuoc" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Mục đích</div>

                                    <div class="value">
                                        <div class="highlight">
                                            <treeselect
                                            :multiple="true"
                                            v-model="cboMucDichCTS"
                                            :options="cboMucDichCTS_dataSource"
                                            placeholder="Chọn mục đích"
                                            :max-height="200"
                                            >
                                            </treeselect>
                                            <!-- <Select2Ext class="highlight" ref="cboMucDichCTS" /> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">ID thực thể</div>
                                    <div :title="ErrorText.txtThucTheID" v-if="ErrorControl.includes('txtThucTheID')"
                                        class="value w20 padt7">
                                        <span class="one-alert f20 text-warning"></span>
                                    </div>
                                    <div class="value">
                                        <input ref="txtThucTheID" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">ID chứng thư</div>

                                    <div :title="ErrorText.txtCTSID" v-if="ErrorControl.includes('txtCTSID')"
                                        class="value w20 padt7">
                                        <span class="one-alert f20 text-warning"></span>
                                    </div>
                                    <div class="value">
                                        <input ref="txtCTSID" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">HT Sinh khóa</div>
                                    <div :title="ErrorText.cboHinhThucSinhKhoaId"
                                        v-if="ErrorControl.includes('cboHinhThucSinhKhoaId')" class="value w20 padt7">
                                        <span class="one-alert f20 text-warning"></span>
                                    </div>
                                    <div class="value">
                                        <div class="select-custom">
                                            <Select2Ext class="highlight" ref="cboHinhThucSinhKhoaId" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key">Loại CTS</div>

                                    <div class="value">
                                        <Select2Ext class="highlight" ref="cboLoaiCTSId" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w120">Trạng thái TB</div>

                            <div class="value">
                                <input ref="txtTrangThaiTB" type="text" class="form-control red">
                            </div>
                        </div>
                    </b-collapse>
                </div>
                <div class="box-form" >
                    <div class="legend-title">
                        <span v-b-toggle.collapse-tthd class="icon fa fa-angle-up">
                        </span>
                        <span v-b-toggle.collapse-tthd class="icon fa fa-angle-down">
                        </span>  Đơn vị đích
                    </div>
                        <div style="height: 100px;resize: none; overflow: scroll;">
                            <b-collapse visible id="collapse-tthd">
                                <div v-for="item in ds_dv">
                                    <div class="col-sm-12 col-12">
                                        <div class="info-row">
                                            <div class="key w120">{{item.ten_loaidv}}</div>
                                            <SelectExt :dataSource="item.dataSource" v-model="item.value" :placeholder="item.placeholder" :dataValueField="item.dataValueField" :dataTextField="item.dataTextField" :ref="item.name" />
                                        </div>
                                    </div>
                                </div>
                            </b-collapse>
                        </div>
                </div>
                <div class="box-form">
                    <div class="legend-title">
                        Thông tin hợp đồng thuê bao
                    </div>
                    <div class="table-content" style="height: 170px;">
                        <DataGridCustom :columns="[
                            {
                                fieldName: 'ma_tb',
                                headerText: 'Mã thuê bao',
                                allowFiltering: true,
                                allowSorting: true,
                                width: 'auto',
                            },
                            {
                                fieldName: 'ten_tb',
                                headerText: 'Tên thuê bao',
                                allowFiltering: true,
                                allowSorting: true,
                                width: 'auto',
                            },
                            {
                                fieldName: 'trangthai_hd',
                                headerText: 'Trạng thái HĐ',
                                allowFiltering: true,
                                allowSorting: true,
                                width: 'auto',
                            },
                            {
                                fieldName: 'diachi_ld',
                                headerText: 'Địa chỉ lắp đặt',
                                allowFiltering: true,
                                allowSorting: true,
                                width: 'auto',
                            },
                            {
                                fieldName: 'status',
                                headerText: 'Trạng thái',
                                allowFiltering: true,
                                allowSorting: true,
                                width: 'auto',
                            },
                        ]" ref="grcThueBao" />
                    </div>
                </div>
            </div>
            <div class="gutter gutter-horizontal" style="width: 16px;"></div>
            <div class="box-col" id="boxRight" style="width: calc(50% - 8px);">
                <div class="box-form">
                    <div class="legend-title">
                        <span v-b-toggle.collapse-ttcms class="icon fa fa-angle-up">
                        </span>
                        <span v-b-toggle.collapse-ttcms class="icon fa fa-angle-down">
                        </span> Thông tin CMS
                    </div>
                    <b-collapse visible id="collapse-ttcms">
                        <div class="info-row">
                            <div class="key w120">
                                <div class="check-action">
                                    <input type="checkbox" ref="ckbDongBoCMSUserName"
                                        @change="ckbDongBoAll_CheckedChanged('ckbDongBoCMSUserName')" class="check">
                                    <span class="name">Username</span>
                                </div>
                            </div>
                            <div class="value">
                                <input ref="txtCMSUserName" @keyup.enter="txtCMSUserName_KeyPress" type="text"
                                    class="form-control hl">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w120">
                                Mã số thuế
                            </div>
                            <div class="value">
                                <input ref="txtCMSMaSoThue" @keyup.enter="txtCMSMaSoThue_KeyPress" type="text"
                                    class="form-control hl">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w120">
                                <div class="check-action">
                                    <input type="checkbox" ref="ckbDongBoSerial"
                                        @change="ckbDongBoAll_CheckedChanged('ckbDongBoSerial')" class="check">
                                    <span class="name">Serial number</span>
                                </div>
                            </div>
                            <div class="value">
                                <input @keyup.enter="txtCMSSerial_KeyPress" ref="txtCMSSerial" type="text"
                                    class="form-control hl">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w120">
                                <div class="check-action">
                                    <input type="checkbox" ref="ckbDongBoTenChuThe"
                                        @change="ckbDongBoAll_CheckedChanged('ckbDongBoTenChuThe')" class="check">
                                    <span class="name">Tên chủ thể</span>
                                </div>
                            </div>
                            <div class="value">
                                <input ref="txtCMSTenChuThe" @keyup.enter="txtCMSTenChuThe_KeyPress" type="text"
                                    class="form-control hl">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        <div class="check-action">
                                            <input ref="ckbDongBoSDT" @change="ckbDongBoAll_CheckedChanged('ckbDongBoSDT')"
                                                type="checkbox" class="check">
                                            <span class="name">Số ĐT</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <input ref="txtCMSSoDT" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        <div class="check-action">
                                            <input ref="ckbDongBoEmail"
                                                @change="ckbDongBoAll_CheckedChanged('ckbDongBoEmail')" type="checkbox"
                                                class="check">
                                            <span class="name">Email</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <input ref="txtCMSEmail" type="text" class="form-control hl">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        <div class="check-action">
                                            <input type="checkbox" ref="ckbDongBoNgayBD"
                                                @change="ckbDongBoAll_CheckedChanged('ckbDongBoNgayBD')" class="check">
                                            <span class="name">Ngày bắt đầu</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <VueDateExt type="date" format="DD/MM/YYYY" id="dtpCMSNgayBD" ref="dtpCMSNgayBD" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        <div class="check-action">
                                            <input ref="ckbDongBoNgayKT"
                                                @change="ckbDongBoAll_CheckedChanged('ckbDongBoNgayKT')" type="checkbox"
                                                class="check">
                                            <span class="name">Ngày kết thúc</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <VueDateExt type="date" format="DD/MM/YYYY" ref="dtpCMSNgayKT" id="dtpCMSNgayKT" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        Gói cước
                                    </div>
                                    <div class="value">
                                        <input ref="txtGoiCuocCMS" type="text" class="form-control hl4">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        <div class="check-action">
                                            <input ref="ckbDongBoSoThang"
                                                @change="ckbDongBoAll_CheckedChanged('ckbDongBoSoThang')" type="checkbox"
                                                class="check">
                                            <span class="name">Số tháng</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <input ref="txtCMSSoThang" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        Loại giấy tờ
                                    </div>
                                    <div class="value">

                                        <input ref="txtCMSLoaiGT" type="text" class="form-control hl4" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        Số giấy tờ
                                    </div>
                                    <div class="value">
                                        <input ref="txtCMSSoGT" type="text" class="form-control hl4">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        Mục đích
                                    </div>
                                    <div class="value">
                                        <input ref="txtMucDichCMS" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        Độ dài khóa
                                    </div>
                                    <div class="value">
                                        <input ref="txtCMSDoDaiKhoa" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        <div class="check-action">
                                            <input ref="ckbDongBoIdThucThe"
                                                @change="ckbDongBoAll_CheckedChanged('ckbDongBoIdThucThe')" type="checkbox"
                                                class="check">
                                            <span class="name">ID Thực thể</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <input ref="txtIDThucTheCMS" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w120">
                                        <div class="check-action">
                                            <input ref="cbkDongBoIDCTS"
                                                @change="ckbDongBoAll_CheckedChanged('cbkDongBoIDCTS')" type="checkbox"
                                                class="check">
                                            <span class="name">ID Chứng thư</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <input ref="txtIDChungThuSoCMS" type="text" class="form-control">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w120">
                                Địa chỉ
                            </div>
                            <div class="value">
                                <input ref="txtCMSDiaChi" type="text" class="form-control">
                            </div>
                        </div>
                    </b-collapse>
                </div>
                <div class="box-form">
                    <div class="info-row marb0">
                        <div class="key padt0">
                            <button @click="btnLamMoiCMS_Click" class="btn btn-second fullw">
                                <span class="one-reload f20 inline vcenter"></span> Làm mới
                            </button>
                        </div>
                        <div class="col-md-10"></div>
                    </div>
                </div>
                <div class="box-form">
                    <div class="legend-title">
                        <span v-b-toggle.collapse-tttt class="icon fa fa-angle-up">
                        </span>
                        <span v-b-toggle.collapse-tttt class="icon fa fa-angle-down">
                        </span></span>
                        Thông tin thực thể
                    </div>
                    
                    <b-collapse visible id="collapse-tttt">
                        <div class="table-content" style="height: 250px;">
                                <DataGridCustom :columns="[
                                    {
                                        fieldName: 'username',
                                        headerText: 'Username',
                                        allowFiltering: true,
                                        allowSorting: true,
                                        width: '100',
                                    },
                                    {
                                        fieldName: 'ee_name',
                                        headerText: 'Tên chủ thể',
                                        allowFiltering: true,
                                        allowSorting: true,
                                        width: '120',
                                    },
                                    {
                                        fieldName: 'trangthai_hd',
                                        headerText: 'Prefix',
                                        allowFiltering: true,
                                        allowSorting: true,
                                        width: '100',
                                    },
                                    {
                                        fieldName: 'ee_name',
                                        headerText: 'Tên chủ thể',
                                        allowFiltering: true,
                                        allowSorting: true,
                                        width: '100',
                                    },
                                    {
                                        fieldName: 'uid_subfix',
                                        headerText: 'Subfix',
                                        allowFiltering: true,
                                        allowSorting: true,
                                        width: '100',
                                    },
                                    {
                                        fieldName: 'email',
                                        headerText: 'Email',
                                        allowFiltering: true,
                                        allowSorting: true,
                                        width: '100',
                                    },
                                    {
                                        fieldName: 'subject_dn',
                                        headerText: 'Subject DN',
                                        allowFiltering: true,
                                        allowSorting: true,
                                        width: '100',
                                    },
                                    {
                                        fieldName: 'st',
                                        headerText: 'Tỉnh',
                                        allowFiltering: true,
                                        allowSorting: true,
                                        width: '100',
                                    }
                                ]" ref="grcThucTheCMS" @rowSelected="gdvThuTheCMS_FocusedRowChanged" />
                        </div>
                    </b-collapse>
                </div>
                    <div class="box-form">
                        <div class="legend-title">
                            Thông tin chứng thư số
                        </div>
                        <b-collapse visible id="collapse-tttt">
                            <div class="table-content thongtincts" style="height: 250px;">
                                    <DataGridCustom :columns="[
                                        {
                                            fieldName: 'id',
                                            headerText: 'ID chứng thư',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '90',
                                        },
                                        {
                                            fieldName: 'serial_number',
                                            headerText: 'Serial number',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '120',
                                        },
                                        {
                                            fieldName: 'start_time',
                                            headerText: 'Ngày bắt đầu',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '120',
                                        },
                                        {
                                            fieldName: 'end_time',
                                            headerText: 'Ngày kết thúc',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'overtime',
                                            headerText: 'Số tháng nợ',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'time_validity',
                                            headerText: 'Số tháng',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'status_name',
                                            headerText: 'Trạng thái',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'request_config_name',
                                            headerText: 'Loại chứng thư',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'certificate_profile_name',
                                            headerText: 'Gói cước (CMS)',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'subject_dn',
                                            headerText: 'Subject DN',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'subject_email',
                                            headerText: 'Email CTS',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'targets',
                                            headerText: 'Mục đích',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'rc_type_name',
                                            headerText: 'Kiểu cấp CTS',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'reason',
                                            headerText: 'Lý do',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'serial_number',
                                            headerText: 'Serial cha',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'rc_id',
                                            headerText: 'RC ID',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        },
                                        {
                                            fieldName: 'rc_type',
                                            headerText: 'RC TYPE',
                                            allowFiltering: true,
                                            allowSorting: true,
                                            width: '100',
                                        }
                                    ]" ref="grcChungThuSoCMS" @rowClicked="gdvChungThuSoCMS_Clicked" @rowSelected="gdvChungThuSoCMS_FocusedRowChanged" />
                            </div>
                        </b-collapse>
                    </div>
            </div>
        </div>
    </div>
    <DiaChiModal ref="diaChiModal" :data="dataDiaChi" @accept="onAcceptDiaChi" />
    <frmTimKiemHopDong ref="frmTimKiemHopDong" @xacnhan="timthongtinHD" />
    <ejs-dialog :enableResize='true' :key="componentKey" :visible='false' ref='hosoDialog' :position='position'
    :header='"Quản lý file hồ sơ khách hàng"' showCloseIcon='true' :target='targetTop' width='100%' :open="open_thanhToanPopUp">
    <!-- <thanhToan ref='thanhToanPopUp'  @paymentSuccess="paymentSuccess"/> -->
        <keep-alive>
        <div class="popupComponentPayment">
            <component :is="userComponentModule"  ref='hosoPopUp' :key="componentKey" :ispopup="true" :ma_thue_bao="ma_thue_bao" :txtMaGD="txtMaGD" :isCA="true"  v-bind="popupComponentAttr" v-on="popupComponentEvts" />
        </div>
        </keep-alive>
  </ejs-dialog>
  <ejs-dialog :enableResize='true' class="popupGiaophieu" :isModal="true" :allowDragging="true" :visible="false" ref="generalDialog" :header="modalTitle" :position="position"
    showCloseIcon=true target=".main-wrapper" :closeOnEscape="true" width="90%" height="800" v-on="dialogEvts" :overlayClick="overlayClick">
        <div>
            <component :is="dialogComponent" ref="generalComponent" :data="popupComponentData" v-bind="popupComponentAttr" :isPopup="true" v-on="popupComponentEvts"></component>
        </div>
    </ejs-dialog>
    <ejs-dialog
      :isModal="true"
      :enableResize="true"
      :resizeHandles="['All']"
      :visible="false"
      ref="GiaoPhieuView"
      :header='"Giao phiếu điều hành thi công"'
      showCloseIcon="true"
      target=".main-wrapper"
      width="90%"
      allowDragging="true"
      :animationSettings="animationSettings"
      @close="GiaoPhieuView_OnClose"
    >
      <div>
        <GiaoPhieuView v-if="giaoPhieuViewDialog.isVisiable" type="modal"  v-bind="giaoPhieuViewDialog.input" />
      </div>
    </ejs-dialog>
    <!-- <ejs-dialog id="frmUploadEProfile" title="Quản lý file hồ sơ khách hàng" modal-class="hoso-dientu" header-class="popup-header"
      content-class="tracuu-content" body-class="none-padding tracuu-body" size="xl" hide-footer>
      <UploadEProfileContent :ma_thue_bao="ma_thue_bao" :txtMaGD="$refs.txtMaGD ? $refs.txtMaGD.value : ''" :isCA="true" />
    </ejs-dialog > -->
</div>