<div class="main-wrapper">
  <breadcrumb :header="header" />
  <div class="list-actions-top">
    <ul class="list">
      <li v-if="tsbtnLayTT.visible">
        <a href="#" @click.prevent="tsbtnLayTTClick" title="Sửa thông tin khuyến mại và đặt cọc"> <span class="icon one-reload1 "></span>Lấy TT </a>
      </li>
      <li v-if="tsbtnCapNhat.visible">
        <a href="#" @click.prevent="tsbtnCapNhatClick" :class="{disabled:!tsbtnCapNhat.enable}"> <span class="icon one-save"></span>Cập nhật</a>
      </li>
      <li v-if="tsbtnXuLy.visible">
        <a href="#" @click.prevent="tsbtnXuLyClick" :class="{disabled:!tsbtnXuLy.enable}"> <span class="icon one-file-plus"></span>Xử Lý </a>
      </li>
      <li v-if="tsbtnTraPhieu.visible">
        <a href="#" @click.prevent="tsbtnTraPhieuClick" :class="{disabled:!tsbtnTraPhieu.enable}"> <span class="icon ui-1_circle-remove nc-icon-glyph"></span>Trả Phiếu </a>
      </li>

      <li v-if="tsbtnHuyXuLy.visible">
        <a href="#" @click.prevent="tsbtnHuyXuLyClick" :class="{disabled:!tsbtnHuyXuLy.enable}"> <span class="icon one-trash"></span>Huỷ Xử lý </a>
      </li>
      <li v-if="tsbtnChuyenLM.visible">
        <a href="#" @click.prevent="tsbtnChuyenLMClick" :class="{disabled:!tsbtnChuyenLM.enable}"> <span class="icon one-file-attach"></span>Chuyển lắp mới</a>
      </li>
    </ul>
  </div>
  <div class="page-content">
    <div class="nav tabs tab-over">
      <a href="#tiep_nhan" data-toggle="tab" @click="currentTab='tiep_nhan'" class="active">Tiếp Nhận</a>
      <a href="#xu_ly" data-toggle="tab" @click="currentTab='xu_ly'">Xử lý</a>
    </div>
    <div class="tab-content nocorner bor0 pad0 bg-none" style="box-shadow: none;">
      <div id="tiep_nhan" class="tab-pane active">
        <div class="tab-content">
          <div class="box marb20">
            <div class="legend-title">{{currentTab=="tiep_nhan"?"Danh Sách tiếp nhận":"Danh Sách xử lý"}}</div>

            <div class="table-content" v-if="currentTab=='tiep_nhan'">
              <DataGrid
                ref="dtGridDSTiepNhan"
                :editSettings=" { allowEditing: true , mode:'Batch'}"
                :columns="dtGridDSTiepNhan.columns"
                :dataSource="dtGridDSTiepNhan.dataSource"
                :showFilter="true"
                :showColumnCheckbox="false"
                dataKeyField="hdkh_id"
                :defaultColumnCheckboxChecked="false"
                @rowSelected="rowSelectedDSPhieuDXL"
                :enabledSelectFirstRow="true"
                :allowPaging="true"
                :enable-paging-server="false"
              >
              </DataGrid>
            </div>

            <div class="table-content" v-if="currentTab=='xu_ly'">
              <DataGrid
                ref="dtGridDSTiepNhan"
                :editSettings=" { allowEditing: true , mode:'Batch'}"
                :columns="[ { fieldName: 'ma_gd', headerText: 'Mã GD', allowFiltering: true, allowSorting: true },
                  { fieldName: 'ten_kh', headerText: 'Tên Khách Hàng', allowFiltering: true, allowSorting: true },
                  { fieldName: 'diachi_kh', headerText: 'Địa chỉ lắp đặt', allowFiltering: true, allowSorting: true },
                  { fieldName: 'dienthoai_lh', headerText: 'Điện thoại liên hệ', allowFiltering: true, allowSorting: true },
                  { fieldName: 'ngaylap_hd', headerText: 'Ngày yêu cầu', allowFiltering: true, allowSorting: true },
                  { fieldName: 'nd_giao', headerText: 'Nội dung giao', allowFiltering: true, allowSorting: true },
        
                  { fieldName: 'ten_dv', headerText: 'Đơn vị lâp HĐ/PL', allowFiltering: true, allowSorting: true }]"
                :dataSource="dtGridDSTiepNhan.dataSource"
                :showFilter="true"
                :showColumnCheckbox="false"
                dataKeyField="hdkh_id"
                :defaultColumnCheckboxChecked="false"
                @rowSelected="rowSelectedDSPhieuDXL"
                :enabledSelectFirstRow="true"
                @recordDoubleClick="rowDoubleClicked"
                :allowPaging="true"
                :enable-paging-server="false"
              >
              </DataGrid>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
