
<div class="main-wrapper">
    <div class="breadcrumb-top">
        <div class="main-title">đăng ký gói học sinh, sinh viên - di động trả
            trước</div>
        <ul class="breadcrumb">
            <li class="breadcrumb-item"><a href="#"><span class="nc-icon-outline
                        ui-1_home-simple"></span> Trang chủ
                    </a></li>
                <li class="breadcrumb-item"><a href="#">Trả trước</a></li>
                <li class="breadcrumb-item"><a href="#">Đăng ký gói học sinh, sinh viên </a></li>
        </ul>
    </div>
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="#" @click.prevent="onNhapMoiClicked"
                    :class="{disabled:buttonState.isDisableNhapMoi}">
                    <span class="icon one-file-plus"></span>Nhập mới (F5)
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="onGhiLaiClicked"
                    :class="{disabled:buttonState.isDisableGhiLai}">
                    <span class="icon one-save"></span>Ghi lại (F9)
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="onXoaClicked"
                    :class="{disabled:buttonState.isDisableXoaHD}">
                    <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Xoá
                    HĐ (F8)
                </a>
            </li>
            <li>
                <a href="#"  @click.prevent="guiMaXacThuc" 
                :class="{disabled:hdtbId==0}">
                    <span class="icon one-email"></span>Gửi mã xác thực
                </a>
            </li>
            <li>
                <a v-show="!daDangKyHS" href="#" @click.prevent="dangKyGoiCuoc"
                :class="{disabled:hdtbId==0}">
                    <span class="icon one-user-add"></span>Đăng ký
                </a>
                <a v-show="daDangKyHS" href="#" @click.prevent="huyGoiCuoc"
                :class="{disabled:hdtbId==0}">
                    <span class="icon one-user-remove"></span>Hủy gói
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="box-form">
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key w90">Mã giao dịch</div>
                        <div class="value">
                            <SearchDsHopDongTb 
                            id="popupSearchHD"
                            v-bind:dataHD="{
                                loaihd_id: 101,
                                dichvuvt_id: 2,
                                tthd_id: 1
                              }"
                            v-on:chon-magd="selectedMagdFromPopup"
                            ref="popupSearchHD"
                            />
                            <div class="input-more-button">
                                <button class="btn" @click.prevent="ShowPopupSearchHopDong">
                                    <span class="-ap icon-more_horiz"></span>
                                </button>
                                <input type="text" class="form-control
                                    highlight" v-on:keyup.enter="onMaGDEnter"
                                    v-model="maGD">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key w90">Ngày yêu cầu</div>
                        <div class="value">
                            <div class="input-icon-right">
                                <input type="text" class="form-control" v-model="ngay_yc" readonly>
                                <span class="icon one-calendar"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key w90">Mã hợp đồng</div>
                        <div class="value">
                            <input type="text" class="form-control"
                                v-model="maHD">
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key w90">Mã xác thực</div>
                        <div class="value">
                            <input type="text" class="form-control"
                            :class="{disabled:hdtbId==0}"
                                v-model="options.maXacThuc"
                                ref = "maXacThuc"
                                >
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-form">
            <div class="legend-title">Thông tin khách hàng</div>
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key w100">Số máy (*)</div>
                                <div class="value">
                                    <div class="input-more-button">
                                        <span class="btn highlight text bold"
                                            style="border-color: #666;">
                                            84
                                        </span>
                                        <input type="number" class="form-control
                                            highlight"
                                            v-on:keyup.enter="onMaTbEnter"
                                            v-model="$v.options.maTb.$model"
                                            :class="{'is-invalid':
                                            $v.options.maTb.$error}"
                                            ref="maTb"
                                            >
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key w120">Đối tượng SD</div>
                                <div class="value">
                                    <div class="select-custom">
                                        <bss-error-marker :hasError="$v.options.doiTuongSDId.$error">  
                                            <SelectExt placeholder="Chưa chọn"
                                            :dataSource="dsDoiTuongSD"
                                            dataValueField="doituongsd_id"
                                            dataTextField="ten_dt"
                                            v-model="options.doiTuongSDId"
                                            ref="doiTuongSD"
                                            >
                                            </SelectExt>
                                        </bss-error-marker>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key w100">Số sim:</div>
                                <div class="value">
                                    <input type="text" class="form-control"
                                        v-model="options.soSim" readonly>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key w120">Gói cước</div>
                                <div class="value">
                                    <input type="text" class="form-control"
                                        v-model="options.tenGoiCuoc" readonly>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key w100">Tên HS - SV</div>
                                <div class="value">
                                    <input type="text" class="form-control"
                                        v-model.trim="$v.options.tenHSSV.$model"
                                        :class="{'is-invalid':
                                        $v.options.tenHSSV.$error}"
                                        ref="tenHSSV"
                                        >
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key w120">Ngày sinh</div>
                                <div class="value">
                                    <div class="input-icon-right">
                                        <bss-error-marker :hasError="$v.options.ngaySinh.$error">
                                        <KDatePicker
                                            :config="dateconfig"
                                            v-model="options.ngaySinh"
                                            ref="ngaySinh"
                                            />
                                        </bss-error-marker>

                                        </div>
                                    </div>
                                    <div class="value w30 nowrap padt7">
                                        <div class="check-action">
                                            <input type="checkbox" id="checkbox"
                                                class="check"
                                                v-model="options.isBaoHo">
                                            <span class="name">Bảo hộ</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div v-show="!options.isBaoHo">
                            <div class="row">
                                <div class="col-sm-7 col-12">
                                    <div class="info-row">
                                        <div class="key w100">Loại giấy tờ (*)</div>
                                        <div class="value">
                                            <div class="select-custom">
                                                <bss-error-marker :hasError="$v.options.loaiGiayToId.$error">
                                                <SelectExt placeholder="Chưa
                                                    chọn"
                                                    :dataSource="dsLoaiGiayTo"
                                                    dataValueField="loaigt_id"
                                                    dataTextField="tenloai_gt"
                                                    v-model="options.loaiGiayToId"
                                                    ref="loaiGiayTo"
                                                    >
                                                </SelectExt>
                                                </bss-error-marker>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-5 col-12">
                                    <div class="info-row">
                                        <div class="key w120">Số giấy tờ (*)</div>
                                        <div class="value">
                                            <input type="number"
                                                class="form-control"
                                                v-model="$v.options.soGiayTo.$model"
                                                :class="{'is-invalid':
                                                $v.options.soGiayTo.$error}"
                                                ref="soGiayTo"
                                                >
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-7 col-12">
                                    <div class="info-row">
                                        <div class="key w100">Ngày cấp (*)</div>
                                        <div class="value">
                                            <div class="input-icon-right">
                                                <bss-error-marker :hasError="$v.options.ngayCapGiayTo.$error">
                                                <KDatePicker
                                                    :config="dateconfig"
                                                    v-model="options.ngayCapGiayTo"
                                                    ref="ngayCapGiayTo"
                                                    />
                                                    </bss-error-marker>
                                            </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 col-12">
                                        <div class="info-row">
                                            <div class="key w120">Nơi cấp</div>
                                            <div class="value">
                                                <bss-error-marker :hasError="$v.options.noiCapGiayTo.$error">
                                                <SelectExt placeholder="Chưa
                                                    chọn"
                                                    :dataSource="dsTinh"
                                                    dataValueField="tentat_neo"
                                                    dataTextField="tentinh_neo"
                                                    v-model="options.noiCapGiayTo"
                                                    ref="noiCapGiayTo"
                                                    >
                                                </SelectExt>
                                                </bss-error-marker>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-7 col-12">
                                        <div class="info-row">
                                            <div class="key w100">Số CMND (*)</div>
                                            <div class="value">
                                                <input type="number"
                                                    class="form-control"
                                                    v-model="$v.options.soCMND.$model"
                                                    :class="{'is-invalid':
                                                    $v.options.soCMND.$error, 'disabled':options.loaiGiayToIdNeo!=3}"
                                                    ref="soCMND"
                                                    >
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 col-12">
                                        <div class="info-row">
                                            <div class="key w120 red">Nếu giấy
                                                tờ là
                                                hộ
                                                chiếu</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-7 col-12">
                                        <div class="info-row">
                                            <div class="key w100">Giới tính (*)</div>
                                            <div class="value">
                                                <div class="select-custom">
                                                    <bss-error-marker :hasError="$v.options.gioiTinhId.$error">
                                                    <SelectExt placeholder="Chưa chọn"
                                                        :dataSource="dsGioiTinh"
                                                        dataValueField="gioitinh_id"
                                                        dataTextField="gioitinh"
                                                        v-model="options.gioiTinhId"
                                                        ref="gioiTinh"
                                                        ></SelectExt>
                                                    </bss-error-marker>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 col-12">
                                        <div class="info-row">
                                            <div class="key w120">Quốc tịch (*)</div>
                                            <div class="value">
                                                <div class="select-custom">
                                                    <bss-error-marker :hasError="$v.options.quocTichId.$error">
                                                    <SelectExt placeholder="Chọn
                                                        quốc tịch"
                                                        :dataSource="dsQuocTich"
                                                        dataValueField="quoctich_id"
                                                        dataTextField="tenquoctich"
                                                        v-model="options.quocTichId"
                                                        ref="quocTich"
                                                        >
                                                    </SelectExt>
                                                    </bss-error-marker>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="box-form" v-show="options.isBaoHo">
                                <div class="legend-title">Thông tin người Bảo Hộ</div>
                                <div class="row">
                                    <div class="col-sm-7 col-12">
                                        <div class="info-row">
                                            <div class="key w130">Họ tên người
                                                bảo hộ</div>
                                            <div class="value">
                                                <input type="text"
                                                    class="form-control"
                                                    v-model="$v.options.nguoiBaoHo.ten.$model"
                                                    :class="{'is-invalid':
                                                    $v.options.nguoiBaoHo.ten.$error}"
                                                    ref="tenNguoiBaoHo"
                                                    >
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 col-12">
                                        <div class="info-row">
                                            <div class="key w90">Ngày sinh</div>
                                            <div class="value">
                                                <div class="input-icon-right">
                                                   <bss-error-marker :has-error="$v.options.nguoiBaoHo.ngaySinh.$error">
                                                    <KDatePicker
                                                        :config="dateconfig"
                                                        v-model="options.nguoiBaoHo.ngaySinh"
                                                        ref="ngaySinhNguoiBaoHo"
                                                        />
                                                    </bss-error-marker>
                                                        

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-7 col-12">
                                            <div class="info-row">
                                                <div class="key w130">Loại giấy
                                                    tờ (*)</div>
                                                <div class="value">
                                                    <div class="select-custom">
                                                        <bss-error-marker :has-error="$v.options.nguoiBaoHo.loaiGiayToId.$error">
                                                        <SelectExt
                                                            placeholder="Chưa
                                                            chọn"
                                                            :dataSource="dsLoaiGiayToBaoHo"
                                                            dataValueField="loaigt_id"
                                                            dataTextField="tenloai_gt"
                                                            v-model="options.nguoiBaoHo.loaiGiayToId"
                                                            ref="loaiGiayToNguoiBaoHo"
                                                            >
                                                        </SelectExt>
                                                    </bss-error-marker>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-5 col-12">
                                            <div class="info-row">
                                                <div class="key w90">Số giấy tờ
                                                    (*)</div>
                                                <div class="value">
                                                    
                                                            <input type="number"
                                                                class="form-control"
                                                                v-model="$v.options.nguoiBaoHo.soGiayTo.$model"
                                                                :class="{'is-invalid':
                                                                $v.options.nguoiBaoHo.soGiayTo.$error}"
                                                                ref="soGiayToNguoiBaoHo"
                                                                >
                                                        
                                                        
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-7 col-12">
                                            <div class="info-row">
                                                <div class="key w130">Số CMND (*)</div>
                                                <div class="value">
                                                    <input type="number"
                                                    class="form-control
                                                    " 
                                                    v-model="$v.options.nguoiBaoHo.soCMND.$model"
                                                    :class="{'is-invalid':
                                                    $v.options.nguoiBaoHo.soCMND.$error, 'disabled': options.nguoiBaoHo.loaiGiayToIdNeo != 3}"
                                                    ref="loaiGiayToNguoiBaoHo"
                                                    >
                                                   
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-5 col-12">
                                            <div class="info-row">
                                                <div class="key w120 red">Nếu giấy
                                                    tờ là
                                                    hộ
                                                    chiếu</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-sm-7 col-12">
                                            <div class="info-row">
                                                <div class="key w130">Nơi cấp GT</div>
                                                <div class="value">
                                                    <div class="select-custom">
                                                        <bss-error-marker :has-error="$v.options.nguoiBaoHo.noiCapGiayTo.$error">
                                                        <SelectExt
                                                            placeholder="Chưa
                                                            chọn"
                                                            :dataSource="dsTinhBaoHo"
                                                            dataValueField="tentat_neo"
                                                            dataTextField="tentinh_neo"
                                                            v-model="options.nguoiBaoHo.noiCapGiayTo"
                                                            ref="noiCapGiayToNguoiBaoHo"
                                                            >
                                                        </SelectExt>
                                                    </bss-error-marker>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-5 col-12">
                                            <div class="info-row">
                                                <div class="key w90">Ngày cấp</div>
                                                <div class="value">
                                                    <div
                                                        class="input-icon-right">
                                                        <bss-error-marker :has-error="$v.options.nguoiBaoHo.ngayCapGiayTo.$error">
                                                        <KDatePicker
                                                            :config="dateconfig"
                                                            v-model="options.nguoiBaoHo.ngayCapGiayTo"
                                                            ref="ngayCapGiayToNguoiBaoHo"
                                                            />
                                                        </bss-error-marker>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="info-row">
                                            <div class="key w130">Địa chỉ người
                                                bảo hộ </div>
                                            <div class="value">
                                                <input type="text"
                                                    class="form-control"
                                                    v-model="$v.options.nguoiBaoHo.diachi.$model"
                                                    :class="{'is-invalid':$v.options.nguoiBaoHo.diachi.$error}"
                                                    ref="diachiNguoiBaoHo"
                                                    >
                                            </div>
                                        </div>
                                    </div>

                                    <a href="#" class="link underline mart10
                                        block"
                                        @click.prevent="onLayLichSuDKHSSVClicked">Lấy
                                        lịch sử
                                        đăng ký/lịch sử cập nhật</a>
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="row">
                                        <div class="col-sm-7 col-12">
                                            <div class="info-row">
                                                <div class="key w130">Loại khách
                                                    hàng
                                                    (*)</div>
                                                <div class="value">
                                                    <div class="select-custom">
                                                        <bss-error-marker :has-error="$v.options.loaiKHId.$error">
                                                        <SelectExt
                                                            placeholder="Chưa
                                                            chọn"
                                                            :dataSource="dsLoaiKH"
                                                            dataValueField="loaisv_neo_id"
                                                            dataTextField="tenloai_hssv"
                                                            v-model="options.loaiKHId"
                                                            ref="loaiKH"
                                                            >
                                                        </SelectExt>
                                                    </bss-error-marker>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-5 col-12">
                                            <div class="info-row">
                                                <div class="key w90">Tên trường
                                                    (*)</div>
                                                <div class="value">
                                                    <div class="select-custom">
                                                        <bss-error-marker :has-error="$v.options.truongHocId.$error">
                                                        <SelectExt
                                                            placeholder="Chưa chọn"
                                                            :dataSource="dsTruongHoc"
                                                            dataValueField="TRUONGHOC_ID"
                                                            dataTextField="TEN_TRUONG"
                                                            v-model="options.truongHocId"
                                                            @change="onTruongHocSelectedChanged($event)"
                                                            ref="truongHoc"
                                                            >
                                                        </SelectExt>
                                                    </bss-error-marker>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-7 col-12">
                                                <div class="info-row">
                                                    <div class="key w130">Tình
                                                        trạng (*)</div>
                                                    <div class="value">
                                                        <div
                                                            class="select-custom">
                                                            <bss-error-marker :has-error="$v.options.tinhTrangSVId.$error">
                                                            <SelectExt
                                                                placeholder="Chưa
                                                                chọn"
                                                                :dataSource="dsTinhTrangSV"
                                                                dataValueField="TT_HSSV_ID"
                                                                dataTextField="TINHTRANG"
                                                                v-model="options.tinhTrangSVId"
                                                                ref="tinhTrangSV"
                                                                ></SelectExt>
                                                            </bss-error-marker>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-5 col-12">
                                                <div class="info-row">
                                                    <div class="key w90">Khoá
                                                        học (*)</div>
                                                    <div class="value">
                                                        <input type="text"
                                                            class="form-control"
                                                            v-model="options.khoaHoc"
                                                            :class="{'is-invalid':
                                                            $v.options.khoaHoc.$error}"
                                                            ref="khoaHoc"
                                                            >
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-7 col-12">
                                                <div class="info-row">
                                                    <div class="key w130">Số thẻ
                                                        (*)</div>
                                                    <div class="value">
                                                        <input type="text"
                                                            class="form-control"
                                                            v-model="options.soThe"
                                                            :class="{'is-invalid':
                                                            $v.options.soThe.$error}"
                                                            ref="soThe"
                                                            >
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-3 col-12">
                                                <div class="info-row">
                                                    <div class="key w90">Ngày
                                                        cấp (*)</div>
                                                    <div class="value">
                                                        <div
                                                            class="input-icon-right">
                                                            <bss-error-marker :hasError="$v.options.ngayCapThe.$error">
                                                            <KDatePicker
                                                                :config="dateconfig"
                                                                v-model="options.ngayCapThe"
                                                                ref="ngayCapThe"
                                                                />
                                                    </bss-error-marker>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-2 col-12">
                                                    <div class="info-row">
                                                        <div class="key w50">Lớp
                                                            (*)</div>
                                                        <div class="value">
                                                            <input type="text"
                                                                class="form-control"
                                                                v-model="options.lop"
                                                                :class="{'is-invalid':
                                                                $v.options.lop.$error}"
                                                                ref="lop"
                                                                >
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="info-row">
                                                <div class="key w130">Địa chỉ TB
                                                    (*)</div>
                                                <div class="value">
                                                    <input type="text"
                                                        class="form-control"
                                                        v-model="options.diachiTb"
                                                        :class="{'is-invalid':
                                                        $v.options.diachiTb.$error}"
                                                        ref="diachiTb"
                                                        >
                                                </div>
                                            </div>
                                            <div class="info-row">
                                                <div class="key w130">Ghi chú</div>
                                                <div class="value">
                                                    <textarea name=""
                                                        class="form-control"
                                                        style="height:
                                                        56px;resize:
                                                        none;"
                                                        v-model="options.ghiChu"
                                                        :class="{'is-invalid':
                                                        $v.options.ghiChu.$error}"
                                                        ref="ghiChu"
                                                        ></textarea>
                                                </div>
                                            </div>
                                            <div class="modal"
                                                v-bind:style="{display:
                                                displayStyleImageLocal}"
                                                style="margin-top:100px;">
                                                <div class="modal-dialog"
                                                    style="width:
                                                    100%; max-width:
                                                    250px;">
                                                    <div class="modal-content
                                                        popup-box">
                                                        <div
                                                            class="popup-header">
                                                            <div
                                                                v-if="anhDaChonLocal
                                                                !=null"
                                                                class="title"><span
                                                                    class="-ap
                                                                    icon
                                                                    icon-apps
                                                                    text-main"></span><span>{{anhDaChonLocal.name}}</span>
                                                               
                                                            </div>
                                                            <div class="close
                                                                -ap icon-close"
                                                                v-on:click="displayStyleImageLocal='none'"
                                                                data-dismiss="modal">
                                                            </div>
                                                        </div>
                                                        <div class="popup-body">
                                                            <div class="row">
                                                                <div
                                                                    v-if="anhDaChonLocal
                                                                    &&
                                                                    anhDaChonLocal.base64!=null">
                                                                    <img
                                                                        :src="anhDaChonLocal.base64"
                                                                        alt=""
                                                                        class="fullw
                                                                        img-thuebao"
                                                                        />
                                                                </div>
                                                                <div
                                                                    class="center
                                                                    mart10">
                                                                    <button
                                                                        class="btn
                                                                        btn-main"
                                                                        v-on:click="$refs.AnhChonLai.click()">Chọn
                                                                        ảnh khác
                                                                    </button>
                                                                    <input id="AnhChonLai"
                                                                type="file"
                                                                @change="chonAnh($event)"
                                                                ref="AnhChonLai" accept="image/*"
                                                                hidden="true">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="info-row">
                                                <div class="key w130 nowrap">
                                                </div>
                                                <div class="value w30 nowrap">
                                                    <div class="list-checks
                                                        mart7">
                                                        <div class="item"
                                                            v-show="anh_upload.anh1.base64==null">
                                                            <a href="#"
                                                                class="link
                                                                underline"
                                                                @click.prevent="$refs.file1.click()">Chọn
                                                                ảnh 1</a>
                                                            <input id="file1"
                                                                type="file" accept="image/*"
                                                                @change="chonAnh($event)"
                                                                ref="file1"
                                                                hidden="true">
                                                        </div>
                                                        <div class="item"
                                                            v-show="anh_upload.anh1.base64!=null">
                                                            <a href="#"
                                                                id="xemAnh1"
                                                                class="link
                                                                underline"
                                                                @click.prevent="xemAnhDaChonLocal($event)">Xem
                                                                ảnh 1</a>


                                                        </div>
                                                        <div class="item"
                                                            v-show="anh_upload.anh2.base64==null">
                                                            <a href="#"
                                                                class="link
                                                                underline" 
                                                                @click.prevent="$refs.file2.click()">Chọn
                                                                ảnh 2</a>
                                                            <input id="file2"
                                                                type="file" accept="image/*"
                                                                @change="chonAnh($event)"
                                                                ref="file2"
                                                                hidden="true">
                                                        </div>
                                                        <div class="item"
                                                            v-show="anh_upload.anh2.base64!=null">
                                                            <a href="#"
                                                                id="xemAnh2"
                                                                class="link
                                                                underline"
                                                                @click.prevent="xemAnhDaChonLocal($event)">Xem
                                                                ảnh 2</a>


                                                        </div>
                                                        <div class="item"
                                                            v-show="anh_upload.anh3.base64==null">
                                                            <a href="#"
                                                                class="link
                                                                underline"
                                                                @click.prevent="$refs.file3.click()">Chọn
                                                                ảnh 3</a>
                                                            <input id="file3"
                                                                type="file" accept="image/*"
                                                                @change="chonAnh($event)"
                                                                ref="file3"
                                                                hidden="true">
                                                        </div>
                                                        <div class="item"
                                                            v-show="anh_upload.anh3.base64!=null">
                                                            <a href="#"
                                                                id="xemAnh3"
                                                                class="link
                                                                underline"
                                                                @click.prevent="xemAnhDaChonLocal($event)">Xem
                                                                ảnh 3</a>


                                                        </div>
                                                        <div class="item"
                                                            v-show="anh_upload.anh4.base64==null">
                                                            <a href="#"
                                                                class="link
                                                                underline" 
                                                                @click.prevent="$refs.file4.click()">Chọn
                                                                ảnh 4</a>
                                                            <input id="file4"
                                                                type="file" accept="image/*"
                                                                @change="chonAnh($event)"
                                                                ref="file4"
                                                                hidden="true">
                                                        </div>
                                                        <div class="item"
                                                            v-show="anh_upload.anh4.base64!=null">
                                                            <a href="#"
                                                                id="xemAnh4"
                                                                class="link
                                                                underline"
                                                                @click.prevent="xemAnhDaChonLocal($event)">Xem
                                                                ảnh 4</a>


                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="value tright">
                                                    <button class="btn btn-main
                                                        nocorner
                                                        marb5"
                                                        style="width: 160px;" v-on:click="uploadAnhCCBS()">Tải
                                                        ảnh</button>
                                                    <br/>
                                                        <button class="btn
                                                            btn-main
                                                            nocorner"
                                                            data-toggle="modal"
                                                            v-on:click="openPopupXemAnh()"
                                                            style="width:
                                                            160px;">Xem
                                                            ảnh CCBS
                                                        </button>
                                                    </div>
                                                   
                                                    <div class="modal" id="anh"
                                                        v-bind:style="{display:
                                                        displayStyleImage}"
                                                        style="margin-top:100px;">
                                                        <div
                                                            class="modal-dialog"
                                                            style="width: 80%;
                                                            max-width: 70vw;
                                                            max-height:70vh">
                                                            <div
                                                                class="modal-content
                                                                popup-box">
                                                                <div
                                                                    class="popup-header">
                                                                    <div
                                                                        v-if="anhDaChon!=null"
                                                                        class="title"><span
                                                                            class="-ap
                                                                            icon
                                                                            icon-apps
                                                                            text-main"></span><span>{{anhDaChon.image_name}}</span>
                                                                    </div>
                                                                    <div>

                                                                    </div>
                                                                    <div
                                                                        class="close
                                                                        -ap
                                                                        icon-close"
                                                                        v-on:click="displayStyleImage='none'; displayStylePopup='block'"
                                                                        data-dismiss="modal">
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="popup-body">
                                                                    <div
                                                                        v-if="anhDaChon">
                                                                        <img
                                                                            :src="`data:image/png;base64,${anhDaChon.image_base}`"
                                                                            alt=""
                                                                            class="fullw
                                                                            img-full"
                                                                            />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="modal"
                                                    id="popupTCTTTB"
                                                    v-bind:style="{display:
                                                    displayStylePopup}"
                                                    style="margin-top:
                                                    100px;">
                                                    <div
                                                        class="modal-dialog"
                                                        style="width:
                                                        100%; max-width:
                                                        1220px; margin-top:100px">
                                                        <div
                                                            class="modal-content
                                                            popup-box">
                                                            <div class="popup-header">
                                                                <div class="title"><span
                                                                        class="-ap icon
                                                                        icon-apps text-main"></span>Ảnh
                                                                    thuê bao di động trên CCBS</div>
                                                                <div class="close -ap
                                                                    icon-close"
                                                                    v-on:click="closePopup()"
                                                                    data-dismiss="modal">
                                                                </div>
                                                            </div>
                

                                                            <div
                                                                class="popup-body">
                                                                <div
                                                                    class="box-form">
                                                                    <div
                                                                        class="legend-title">Số
                                                                        máy:
                                                                        <label>{{options.maTb}}
                                                                        </label></div>
                                                                    <div
                                                                        class="row">
                                                                        <div
                                                                            v-for="(item,
                                                                            index)
                                                                            in
                                                                            thongtin_anh"
                                                                            :key="index"
                                                                            class="col-sm-3
                                                                            col-12">
                                                                            <div
                                                                                v-if="item.image_base!=null"
                                                                                class="image"
                                                                                @click="imgClick(item)">
                                                                                <img
                                                                                    :src="`data:image/png;base64,${item.image_base}`"
                                                                                    alt=""
                                                                                    class="fullw
                                                                                    img-thuebao"
                                                                                    />
                                                                            </div>
                                                                            <div
                                                                                v-else
                                                                                class="image">
                                                                                <img
                                                                                    src="https://www.chanchao.com.tw/vietnamwood/images/default.jpg"
                                                                                    alt=""
                                                                                    class="fullw">
                                                                            </div>
                                                                            <div
                                                                                v-if="item.image_base!=null"
                                                                                class="text
                                                                                center
                                                                                mart10">
                                                                                <span>{{item.image_file}}
                                                                                </span>
                                                                            </div>
                                                                            <div
                                                                                v-else
                                                                                class="text
                                                                                center
                                                                                mart10">
                                                                                <span></span>
                                                                            </div>
                                                                            <div
                                                                                class="center
                                                                                mart10">
                                                                                <button
                                                                                    class="btn
                                                                                    btn-main"
                                                                                    v-on:click="imgClick(item)">Xem
                                                                                    {{item.image_name}}</button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="nav tab-over tabs mart10">
                                            <a href="#" v-bind:class="{active :
                                                tab.isActiveTabLSDangKyHS}"
                                                @click.prevent="onLichSuDKTabClicked">Lịch
                                                sử DK HSSV</a>
                                            <a href="#" v-bind:class="{active :
                                                tab.isActiveTabLSCapNhatTT}"
                                                @click.prevent="onLichSuCapNhatTabClicked">Lịch
                                                sử cập nhật thông tin</a>
                                        </div>
                                        <div class="table-content"
                                            v-show="tab.isActiveTabLSDangKyHS">
                                            <table class="table-result
                                                table-gachle">
                                                <tr>
                                                    <td>
                                                        <div>
                                                            <DataGrid
                                                                v-bind:columns="dsLichSuDKHSSV.header"
                                                                v-bind:dataSource="dsLichSuDKHSSV.list"
                                                                :enable-paging-server="false"
                                                                :allowPaging="true"
                                                                :showFilter="true">
                                                            </DataGrid>
                                                        </div>

                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div class="table-content"
                                            v-show="tab.isActiveTabLSCapNhatTT">
                                            <table class="table-result
                                                table-gachle">
                                                <tr>
                                                    <td>
                                                        <div>
                                                            <DataGrid
                                                                v-bind:columns="dsLichSuCapNhat.header"
                                                                v-bind:dataSource="dsLichSuCapNhat.list"
                                                                :enable-paging-server="false"
                                                                :allowPaging="true"
                                                                :showFilter="true"
                                                                :showColumnCheckbox="false">
                                                            </DataGrid>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>