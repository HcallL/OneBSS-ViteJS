<b-modal
size="xl"
no-close-on-backdrop
hide-footer
hide-header
hide-header-close
body-class="modal-body p-0"
@shown="onShownModal"
@hidden="onHiddenModal"
:id="id"
:key="key">
    <div class="modal-content popup-box">
                <div class="popup-header">
                    <div class="title"><span class="icon one-notepad"></span> Danh sách hợp đồng thuê bao</div>
                     <div class="close -ap icon-close" data-dismiss="modal" @click="$bvModal.hide(id)"></div>
                </div>
                <div class="list-actions-top">
                    <ul class="list">
		    	        <li>
                    	    <a href="javascript:void(0)" @click="timkiem()">
                        	<span class="icon one-search"></span>Tìm kiếm
                    	    </a>
                 	    </li>
                        <li>
                            <a href="javascript:void(0)" @click="chapnhan()" :class="{'disable-btn': isDisableBtn}">
                                <span class="icon nc-icon-glyph ui-1_check-circle-08"></span> Chấp nhận
                            </a>
                        </li>

                    </ul>
                </div>
                <div class="popup-body">
                    <div class="box-form">
                        <div class="legend-title">Thông tin tìm kiếm</div>
                        <div class = "row">
                           <div class="col-sm-6 col-12">
                               <div class="info-row">
                            	   <div class="key w100">
                                       <div class="check-action">
                                           <input type="checkbox" class="check" v-model='chkLoaiHD'>
                                           <span class="name">Loại HĐ/PL</span>
                                       </div>
                                   </div>
                                   <div class="value">
                                       <div class="select-custom">
                                           <SelectExt
                                                v-model="modelCbo.cboLoaiHD"
                                                :settings="{dropdownParent: $refs['cboLoaiHD']}"
                                                :dataSource="modelCbo.vcboLoaiHD"
                                                dataTextField="TEN_LOAIHD"
                                                @change="changeCBO()"
                                                :disabled="!chkLoaiHD"
                                                dataValueField="LOAIHD_ID"/>
                                       </div>
                                   </div>
                                </div>
                    	   </div>
			   <div class="col-sm-6 col-12">
                               <div class="info-row">
                                  <div class="key">Mã giao dịch</div>
                                  <div class="value">
                                     <input type="text" class="form-control fw6" v-model="txtMaGD">
                                  </div>
                               </div>
                    	   </div>
			</div>
			<div class = "row">
                           <div class="col-sm-6 col-12">
                               <div class="info-row">
                            	   <div class="key w100">
                                       <div class="check-action">
                                           <input type="checkbox" class="check" v-model="chkDVVT">
                                           <span class="name">Dịch vụ VT</span>
                                       </div>
                                   </div>
                                   <div class="value">
                                       <div class="select-custom">
                                           <SelectExt
                                                v-model="modelCbo.cboDVVT"
                                                :settings="{dropdownParent: $refs['cboLoaiHD']}"
                                                :dataSource="modelCbo.vcboDVVT"
                                                dataTextField="ten_dvvt"
                                                @change="changeCBO2()"
                                                :disabled="!chkDVVT"
                                                dataValueField="dichvuvt_id"/>
                                       </div>
                                   </div>
                                </div>
                    	   </div>
			   <div class="col-sm-6 col-12">
                               <div class="info-row">
                                  <div class="key">Số máy/Acc</div>
                                  <div class="value">
                                     <input type="text" class="form-control fw6" v-model="txtAcc">
                                  </div>
                               </div>
                    	   </div>
			</div>
			<div class="legend-title">Danh sách hợp đồng thuê bao</div>
                        <div class="table-content">
                        <DataGrid ref="gridDsHD" v-bind:columns="[
                            {fieldName: 'MA_GD', headerText: 'Mã GD', allowFiltering: true, allowSorting: true, width:150},
                            {fieldName: 'MA_TB', headerText: 'Số máy/Acc', allowFiltering: true, allowSorting: true, width:150},
                            {fieldName: 'TEN_TB', headerText: 'Tên thuê bao', allowFiltering: true, allowSorting: true},
                            {fieldName: 'DIACHI_TB', headerText: 'Địa chỉ thuê bao', allowFiltering: true, allowSorting: true},

                            ]"
                            @rowDoubleClicked="onDoubleClickRow"
                            v-bind:dataSource="dtList"
                            :allowPaging="true"
                            :enablePagingServer="false"
                            :panelDataHeight="'300px'"
                            :showFilter="true"
                            @selectedRowChanged="selectedItemsDsHoSo">
                        </DataGrid>

                        </div>

                    </div>
                </div>
            </div>
</b-modal>
