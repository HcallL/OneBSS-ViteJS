<ejs-dialog :enableResize="true" :isModal="true" :allowDragging="true" zIndex="1000" :visible="false" :animationSettings="animationSettings" ref="dialogDangKyHoaDonDienTu78" :position="position" :header="state.popupTitle" showCloseIcon="true" width="90%" target="#app .main-wrapper">
    <div class=""> 
         <div class="list-actions-top">
            <ul class="list">
                <li v-if = "display_button.themmau">
                    <a href="#" @click.prevent="btnThemMau_ItemClick">
                        <span class="icon nc-icon-glyph ui-1_bold-add"></span> Thêm mẫu
                    </a>
                </li>
                <li  v-if = "display_button.chuyenphuctap">
                    <a href="#" @click.prevent="btnChuyenPhucTac_ItemClick">
                        <span class="icon  one-calendar-sync"></span> Chuyển sang phức tạp
                    </a>
                </li>
                <li  v-if = "display_button.chuyendongian"> 
                    <a href="#" @click.prevent="btnChuyenDonGian_ItemClick">
                        <span class="icon  ui-1_edit-74 nc-icon-glyph"></span> Chuyển sang đơn giản
                    </a>
                </li>
                <li  v-if = "display_button.guiycit360">
                    <a href="#" @click.prevent="btnGuiYCIT360_ItemClick">
                        <span class="icon one-mobile-plus"></span> Gửi YC IT360
                    </a>
                </li>
                <li  v-if = "display_button.dongbodulieu">
                    <a href="#" @click.prevent="btnDongBoDuLieu_ItemClick">
                        <span class="icon  one-download"></span> Đồng bộ dữ liệu
                    </a>
                </li> 
            </ul> 
        </div>
        <div class="popup-body">
             
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="box-form">
                        <div class="legend-title">Thông tin khách hàng</div> 
                        <div class="info-row">
                            <div class="key">
                                Tên khách hàng/ công ty
                            </div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="controls.txtTenCty">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key">
                                Mã số thuế
                            </div>
                            <div class="value">
                                <input ref="txtMST" type="text" class="form-control" v-model="controls.txtMST">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key">
                                Tên tắt cty/ domain
                            </div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="controls.txtTenTat">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key">
                                ID khách hàng/Hệ thống
                            </div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="controls.txtIdKH">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key">
                                Người đại diện
                            </div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="controls.txtNguoiDaiDien">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key">
                                Tỉnh/ thành phố
                            </div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="controls.txtTinhThanh">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key">
                                Điện thoại
                            </div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="controls.txtDienThoai">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key">
                                Email
                            </div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="controls.txtEmail">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key">
                                Địa chỉ
                            </div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="controls.txtDiaChi">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key">
                                Số lượng đang ký
                            </div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="controls.txtSoLuongMau">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key">
                                Token/HSM
                            </div>
                            <div class="value">
                                <select2 :options="cboToKen.list" v-model="cboToKen.value"> 
                                </select2>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key">
                                Trạng thái hệ thống
                            </div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="controls.txtTrangThai">
                            </div>
                        </div>
                    </div>
					<div class="box-form">
                        <div class="legend-title">Mẫu đã đăng ký</div> 
						<div class="table-content" style="height: 290px;">
                            <DataGrid ref="gdvMauDaDK" class="table-result table-gachle"
                                v-bind:columns="grcMauDaDK.headers"
                                v-bind:dataSource="grcMauDaDK.list"
                                :enable-paging-server="false"
                                :allowPaging="true"
                                :showFilter="true">
                            </DataGrid>
                        </div>
					</div>
                </div>
                <div class="col-sm-6 col-12">
                    <div class="box-form">
                        <div class="legend-title">Tác vụ</div> 
                        <div class="table-content" style="height: 290px;">
                            <DataGrid class="table-result table-gachle"
                                v-bind:columns="grcTacVu.headers"
                                v-bind:dataSource="grcTacVu.list"
                                :enable-paging-server="false"
                                :allowPaging="true"
                                :showFilter="true">
                            </DataGrid>
                        </div>
                    </div>
					<div class="box-form">
                        <div class="legend-title">Mẫu trên hợp đồng hiện tại</div> 
                        <div class="table-content" style="height: 290px;">
                            <DataGrid ref="gdvMauDangKyTrenHD" class="table-result table-gachle"
                                v-bind:columns="grcMauDangKyTrenHD.headers"
                                v-bind:dataSource="grcMauDangKyTrenHD.list"
                                :enable-paging-server="false"
                                :allowPaging="true"
                                :showFilter="true">
                            </DataGrid>
                        </div>
					</div>
				</div>
            </div>
		 </div>
         <b-modal id="modal-scoped" size="sm"> 
            <template #default="{ hide }">
              <p>Khách hàng có 2 hệ thống là 32, 78. Bạn đồng bộ hệ thống nào?</p> 
            </template> 
            <template #modal-footer="{ ok, cancel }"> 
              <b-button variant="outline-secondary" @click="onDongBoDuLieu_Click('32')">
                Đồng bộ dữ liệu HT thông tư 32
              </b-button>
              <b-button variant="outline-secondary" @click="onDongBoDuLieu_Click('78')">
                Đồng bộ dữ liệu HT thông tư 78
              </b-button> 
              <b-button variant="outline-secondary" @click="cancel()">
                Thoát
              </b-button>
            </template>
          </b-modal>
          <CreateIssue ref="dialogCreateIssue"/>
          <ChonMauHDDT ref="dialogChonMauHDDT" @onChapNhan="onChapNhan"/>
          
    </div>
  </ejs-dialog>
  