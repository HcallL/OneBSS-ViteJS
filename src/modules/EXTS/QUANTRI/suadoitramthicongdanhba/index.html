<div class="main-wrapper">
  <div class="list-actions-top">
    <ul class="list">
      <li @click="onNhapMoi">
        <a href="#" :class="{'disable-btn': isDisableNhapMoi}">
          <span class="icon one-file-plus"></span>Nhập mới 
        </a>
      </li>
      <li @click="onGhiLai">
        <a
          href="javascript:void(0)"
          :class="{'disable-btn': isDisableBtnGhiLai}"
        >
          <span class="icon one-sav"></span>Ghi lại 
        </a>
      </li>
      <li @click="onHuyBo">
        <a href="#" :class="{'disable-btn': isDisableHuyBo}">
          <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Hủy
        </a>
      </li>
    </ul>
  </div>
  
  <div class="page-content">
    <div class="main-title">
      sửa đổi trạm thi công
    </div>
    <div class="box-form">
      <div class="row">
        <div class="col-sm-6 col-12">
          <div class="row">
            <div class="col-sm-7 col-12">
              <div class="info-row">
                <div class="key w100">Dịch vụ</div>
                <div class="value">
                  <div class="select-custom">
                    <SelectExt
                      v-model.trim="thuebao.dichvuvt_id"
                      :disabled="true"
                      :dataSource="dsDichVuVT"
                      dataTextField="TEN_DVVT"
                      dataValueField="DICHVUVT_ID"
                    ></SelectExt>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-5 col-12">
              <div class="info-row">
                <div class="key w100">Trạng thái TB</div>
                <div class="value">
                    <input type="text" v-model="thuebao.trangthai_tb" class="form-control" disabled="disabled" />
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-7 col-12">
              <div class="info-row">
                <div class="key w100">Kiểu lắp đặt</div>
                <div class="value">
                  <div class="select-custom">
                    <SelectExt
                      v-model="thuebao.kieuld_id"
                      :disabled="true"
                      :dataSource="dsKieuLD"
                      dataTextField="TEN_KIEULD"
                      dataValueField="KIEULD_ID"
                    ></SelectExt>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-5 col-12">
              <div class="info-row">
                <div class="key w100">Loại hình</div>
                <div class="value">
                  <div class="select-custom">
                    <SelectExt
                      v-model.trim="thuebao.loaitb_id"
                      :settings="{dropdownParent: $refs['dsLoaiHinhTB']}"
                      :disabled="true"
                      :dataSource="dsLoaiHinhTB"
                      dataTextField="LOAIHINH_TB"
                      dataValueField="LOAITB_ID"
                    ></SelectExt>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-7 col-12">
              <div class="info-row">
                <div class="key w100">Mức cước TB</div>
                <div class="value">
                  <div class="select-custom">
                    <SelectExt
                      v-model.trim="thuebao.muccuoctb_id"
                      :settings="{dropdownParent: $refs['dsMucCuocTB']}"
                      :disabled="true"
                      :dataSource="dsMucCuocTB"
                      dataTextField="TENMUC"
                      dataValueField="MUCCUOC_ID"
                    ></SelectExt>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-5 col-12">
              <div class="info-row">
                <div class="key w100">Đối tượng</div>
                <div class="value">
                  <div class="select-custom">
                    <SelectExt
                      v-model="thuebao.doituong_id"       
                      :disabled="true"              
                      :dataSource="dsDoiTuong"
                      dataTextField="TEN_DT"
                      dataValueField="DOITUONG_ID"
                    ></SelectExt>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-7 col-12">
              <div class="info-row">
                <div class="key w100">Số máy/Acc</div>
                <div class="value">
                  <div class="input-more-button">
                    <button class="btn" @click="onShowSearchAccount">
                      <span class="-ap icon-more_horiz"></span>
                    </button>
                    <input
                      type="text"
                      v-model="thuebao.ma_tb"
                      class="form-control highlight"
                      @keypress="maKH_keyPress"
                      :readonly="!isDisableNhapMoi"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-5 col-12">
              <div class="info-row">
                <div class="key w100">Số ảo</div>
                <div class="value">
                  <input type="text" v-model="thuebao.ma_lt" class="form-control" disabled="disabled" />
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-7 col-12">
              <div class="info-row">
                <div class="key w100">Tên thuê bao</div>
                <div class="value">
                  <input
                    type="text"
                    class="form-control"
                    v-model="thuebao.ten_tb"
                    disabled="disabled"
                  />
                </div>
              </div>
            </div>
            <div class="col-sm-5 col-12">
              <div class="info-row">
                <div class="key w100">
                  Ngày sinh 
                </div>
                <div class="value">
                  <input
                    type="text"
                    class="form-control"
                    v-model="thuebao.ngay_sinh"
                    disabled="disabled"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="info-row">
            <div class="key w100">Khu vực</div>
            <div class="value">
              <div class="select-custom">
                <SelectExt
                  v-model="thuebao.khuvuc_id"                  
                  :dataSource="dsKhuVuc"
                  dataTextField="TEN_KV"
                  dataValueField="KHUVUC_ID"
                ></SelectExt>
              </div>
            </div>
          </div>
          <div class="info-row">
            <div class="key w100">NV kĩ thuật QL</div>
            <div class="value">
              <input type="text" class="form-control" />
            </div>
          </div>
          <div class="info-row">
            <div class="key w100">Địa chỉ TB</div>
            <div class="value">
              <input
                type="text"
                class="form-control"
                v-model="thuebao.diachi_tb"
                disabled="disabled"
              />
            </div>
          </div>
          <div class="info-row">
            <div class="key w100">Địa chỉ LĐ</div>
            <div class="value">
              <input
                type="text"
                class="form-control"
                v-model="thuebao.diachi_ld"
                disabled="disabled"
              />
            </div>
          </div>
          <div class="row">
            <div class="col-sm-7 col-12">
              <div class="info-row">
                <div class="key w100">Đơn vị QL</div>
                <div class="value">
                  <div class="select-custom">
                    <SelectExt
                      v-model.trim="thuebao.donvi_id"
                      :settings="{dropdownParent: $refs['dsDonViQLTC']}"                      
                      :dataSource="dsDonViQLTC"
                      dataTextField="TEN_DV"
                      dataValueField="DONVI_ID"
                    ></SelectExt>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-5 col-12">
              <div class="info-row">
                <div class="key w100">Mã ĐH Vip</div>
                <div class="value">
                  <input
                    type="text"
                    class="form-control"
                    v-model="thuebao.ma_dhvip"
                    disabled="disabled"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="info-row">
            <div class="key w100">Ghi chú</div>
            <div class="value">
              <input
                type="text"
                class="form-control"
                v-model="thuebao.ghi_chu"
                disabled="disabled"
              />
            </div>
          </div>
        </div>

        
        <div class="col-sm-6 col-12">
         
          <div class="info-row">
            <!-- Danh ba con-->
            <!-- Dịch vụ cố định-->
            <div class="row" v-show="thuebao.dichvuvt_id===1||thuebao.thuebao_id===0">
              <div class="info-row">
                <div class="key w100">Ngày sử dụng</div>
                <div class="value">
                  <div class="input-icon-right">
                    <input
                      type="text"
                      class="form-control"
                      v-model="thuebao.ngay_sudung"
                      disabled="disabled"
                    />
                    <span class="icon one-calendar"></span>
                  </div>
                </div>
              </div>
    
              <div class="row">
                <div class="col-sm-8 col-12">
                  <div class="info-row">
                    <div class="key w100">Cước TB</div>
                    <div class="value">
                      <input
                        type="number"
                        class="form-control tright"
                        v-model="thuebao.cuoc_tb"
                        disabled="disabled"
                      />
                    </div>
                  </div>
                </div>
                <div class="col-sm-4 col-12">
                  <div class="info-row">
                    <div class="key w80">Cước DV</div>
                    <div class="value">
                      <input
                        type="number"
                        class="form-control tright"
                        disabled="disabled"
                      />
                    </div>
                  </div>
                </div>
              </div>
    
              <div class="info-row">
                <div class="key w100">Trang bị</div>
                <div class="value">
                  <div class="select-custom">
                    <SelectExt
                      v-model="db_con.trangbi_id"
                      :disabled="true"
                      :settings="{dropdownParent: $refs['dsTrangBi']}"                  
                      :dataSource="dsTrangBi"
                      dataTextField="TENTRANGBI"
                      dataValueField="TRANGBI_ID"
                    ></SelectExt>
                  </div>
                </div>
              </div>
    
              <div class="row">
                <div class="col-sm-8 col-12">
                  <div class="info-row">
                    <div class="key w100">Trạm VT</div>
                    <div class="value">
                      <div class="input-icon-right">
                        <SelectExt
                          v-model="thuebao.tramtb_id"
                          :dataSource="dsTramVT"
                          dataTextField="TEN_HIENTHI"
                          dataValueField="DONVI_ID"
                        />
                      </div>
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w100">Vệ tinh</div>
                    <div class="value">
                      <div class="input-icon-right">
                        <SelectExt
                          v-model="db_con.vetinh_id"
                          :dataSource="dsVeTinh"
                          dataTextField="TEN_HIENTHI"
                          dataValueField="DONVI_ID"
                        />
                      </div>
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w100">Host lắp đặt</div>
                    <div class="value">
                      <div class="input-icon-right">
                        <SelectExt
                          v-model="thuebao.host_id"
                          :dataSource="dsHost"
                          dataTextField="TEN_HIENTHI"
                          dataValueField="DONVI_ID"
                        />
                      </div>
                    </div>
                  </div>

                </div>

                <div class="col-sm-4 col-12">
                  <div class="info-row">
                    <div class="key w90">Số Chính</div>
                    <div class="value">
                      <input
                        type="text"
                        class="form-control"
                        v-model="db_con.so_chinh"
                        readonly="true"
                      />
                    </div>
                  </div>
                </div>
              </div>  

               
                  <div class="col-sm-8 col-12">    
                    <div class="row">
                      <div class="info-row">
                        <div class="key w100">Trạm NE</div>
                        <div class="value">
                          <input type="text" class="form-control" readonly="true" >
                        </div>
                      </div>                    
                      <div class="row">
                        <div class="col-sm-6 col-12">
                          <div class="info-row">
                            <div class="key w100">Loại cáp</div>
                            <SelectExt
                              v-model="db_con.loaicap_id"
                              :dataSource="dsLoaiCap"
                              :disabled="true"
                              dataTextField="LOAICAP"
                              dataValueField="LOAICAP_ID"
                            />
                          </div>
                          <div class="info-row">
                            <div class="key w100">Tủ cáp gốc</div>
                            <div class="value">
                              <input
                                type="text"
                                class="form-control"
                                v-model="db_con.tucap_goc"
                                readonly="true"
                              />
                            </div>
                          </div>
                          <div class="info-row">
                            <div class="key w100">Đôi cáp gốc</div>
                            <div class="value">
                              <input
                                type="number"
                                class="form-control"
                                v-model="db_con.doicap_goc"
                                readonly="true"
                              />
                            </div>
                          </div>
                          <div class="info-row">
                            <div class="key w100">Cáp gốc</div>
                            <div class="value">
                              <input
                                type="text"
                                class="form-control"
                                v-model="db_con.cap_goc"
                                readonly="true"
                              />
                            </div>
                          </div>
                        </div>
                      <div class="col-sm-6 col-12">
                        <div class="info-row">
                          <div class="key w90">Hộp cáp ngọn</div>
                          <div class="value">
                            <input
                              type="text"
                              class="form-control"
                              v-model="db_con.hopcap_ngon"
                              readonly="true"
                            />
                          </div>
                        </div>
                        <div class="info-row">
                          <div class="key w90">Tủ cáp ngọn</div>
                          <div class="value">
                            <input
                              type="text"
                              class="form-control"
                              v-model="db_con.tucap_ngon"
                              readonly="true"
                            />
                          </div>
                        </div>
                        <div class="info-row">
                          <div class="key w90">Đôi cáp ngọn</div>
                          <div class="value">
                            <input
                              type="text"
                              class="form-control"
                              v-model="db_con.doicap_ngon"
                              readonly="true"
                            />
                          </div>
                        </div>
                        <div class="info-row">
                          <div class="key w90">Cáp ngọn</div>
                          <div class="value">
                            <input
                              type="text"
                              class="form-control"
                              v-model="db_con.cap_ngon"
                              readonly="true"
                            />
                          </div>
                        </div>
                      </div>
                    </div>  


                  </div>
                  </div>
                  
                  <div class="col-sm-4 col-10">
                    <div class="info-row">
                      <div class="key w80">NE</div>
                      <div class="value">
                        <input
                            type="text"
                            class="form-control"
                            v-model="db_con.ne"
                            readonly="true"
                          />
                      </div>
                    </div>
    
                      <div class="info-row">
                        <div class="key w80">Mã TN</div>
                        <div class="value">
                          <input
                            type="text"
                            class="form-control"
                            v-model="db_con.matn"
                            readonly="true"
                          />
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w80">Tuyến cáp</div>
                        <div class="value">
                          <input
                            type="text"
                            class="form-control"
                            v-model="db_con.tuyencap"
                            readonly="true"
                          />
                        </div>
                      </div>
    
                      <div class="info-row">
                        <div class="key w80">Liên tủ</div>
                        <div class="value">
                          <input
                            type="text"
                            class="form-control"
                            v-model="db_con.lientu"
                            readonly="true"
                          />
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w80">Cự ly</div>
                        <div class="value">
                          <input
                            type="text"
                            class="form-control"
                            v-model="db_con.culy"
                            readonly="true"
                          />
                        </div>
                      </div>                            
                  </div>

              
            </div>            
            
            
            <!--Kết thúc dịch vụ cố định-->
            <!-- Dịch vụ IMS-->
            <div class="row" v-show="thuebao.dichvuvt_id===11">

              
              <div class="col-sm-8 col-12">
                <div class="info-row">
                  <div class="key w100">Trạm VT</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt 
                        v-model="thuebao.tramtb_id"                         
                        :dataSource="dsTramVT" 
                        dataTextField="TEN_HIENTHI"
                        dataValueField="DONVI_ID" />
                    </div>
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w100">Bras</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt v-model.number="db_con.bras_id" 
                        :dataSource="dsBras" 
                        :disabled="true" 
                        dataTextField="TENBRAS"
                        dataValueField="BRAS_ID" />
                    </div>
                  </div>
                </div>
               <div class="row">
                  <div class="col-sm-6 col-8">
                    <div class="info-row">
                      <div class="key w90">Username</div>
                      <div class="value">
                        <input type="text" class="form-control" v-model="db_con.username" readonly="true">
                      </div>
                    </div>
                    <div class="info-row">
                      <div class="key w90">Slot</div>
                      <div class="value">
                        <input type="number" class="form-control" v-model="db_con.slot"  readonly="true">
                      </div>
                    </div>                

                    <div class="info-row">
                      <div class="key w90">Port</div>
                      <div class="value">
                        <input type="number" class="form-control" v-model="db_con.port"  readonly="true">
                      </div>
                    </div>
                    <div class="info-row">
                      <div class="key w90">Loại cáp</div>
                      <div class="value">
                        <div class="select-custom">
                          <SelectExt v-model="db_con.loaicap_id" 
                            :disabled="true" 
                            :dataSource="dsLoaiCap" dataTextField="LOAICAP"
                            dataValueField="LOAICAP_ID" />

                        </div>
                      </div>
                    </div>

                    <div class="info-row">
                      <div class="key w90">Tủ cáp gốc</div>
                      <div class="value">
                        <input type="text" class="form-control" v-model="db_con.tucap_goc"   readonly="true">
                      </div>
                    </div>
                    <div class="info-row">
                      <div class="key w90">Đôi cáp gốc</div>
                      <div class="value">
                        <input type="number" class="form-control" v-model="db_con.doicap_goc"   readonly="true">
                      </div>
                    </div>
                    <div class="info-row">
                      <div class="key w90">Cáp gốc</div>
                      <div class="value">
                        <input type="text" class="form-control" v-model="db_con.cap_goc"   readonly="true">
                      </div>
                    </div>

                  </div>
                  <div class="col-sm-6 col-8">
                    
                    <div class="info-row">
                      <div class="key w90">Passwword</div>
                      <div class="value">
                        <input type="text" class="form-control" v-model="db_con.password"  readonly="true">
                      </div>
                    </div>
                    <div class="info-row">
                      <div class="key w90">Rack</div>
                      <div class="value">
                        <input type="number" class="form-control" v-model="db_con.rack"  readonly="true">
                      </div>
                    </div>
                    <div class="info-row">
                      <div class="key w90">Vpi</div>
                      <div class="value">
                        <input type="number" class="form-control" v-model="db_con.vpi"  readonly="true">
                      </div>
                    </div>
                    <div class="info-row">
                      <div class="key w90">Hộp cáp ngọn</div>
                      <div class="value">
                        <div class="select-custom">
                          <input type="text" class="form-control" v-model="db_con.hopcap_ngon"  readonly="true">
                        </div>
                      </div>
                    </div>
                    <div class="info-row">
                      <div class="key w90">Tủ cáp ngọn</div>
                      <div class="value">
                        <input type="text" class="form-control" v-model="db_con.tucap_ngon"  readonly="true">
                      </div>
                    </div>
                    <div class="info-row">
                      <div class="key w90">Đôi cáp ngọn</div>
                      <div class="value">
                        <input type="number" class="form-control" v-model="db_con.doicap_ngon"  readonly="true">
                      </div>
                    </div>
                    <div class="info-row">
                      <div class="key w90">Cáp ngọn</div>
                      <div class="value">
                        <input type="text" class="form-control" v-model="db_con.cap_ngon"  readonly="true">
                      </div>
                    </div>
                  </div>  
                </div>  
              </div>  
              <div class="col-sm-4 col-12">
                <div class="info-row">
                  <div class="key w90">Thiết bị</div>
                  <div class="select-custom">
                    <SelectExt v-model="db_con.thietbi_id" 
                      :disabled="true"
                      :dataSource="dsThietBiIMS" dataTextField="TEN_TBI"
                      dataValueField="THIETBI_ID" />
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w90">Dslam</div>
                  <div class="value">
                    <input type="text" class="form-control" v-model="db_con.tendslam"  readonly="true">
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w90">System</div>
                  <div class="value">
                    <input type="text" class="form-control" v-model="db_con.system"  readonly="true">
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w90">Shelf</div>
                  <div class="value">
                    <input type="number" class="form-control" v-model="db_con.shelf"  readonly="true">
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w90">VCI</div>
                  <div class="value">
                    <input type="number" class="form-control" v-model="db_con.vci"  readonly="true">
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w90"></div>
                  <span>&nbsp;</span>                  
                </div>
                <div class="info-row">
                  <div class="key w90">Tuyến cáp</div>
                  <div class="value">
                    <input type="text" class="form-control" v-model="db_con.tuyencap"  readonly="true">
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w90">Liên tủ</div>
                  <div class="value">
                    <input type="text" class="form-control" v-model="db_con.lientu"  readonly="true">
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w90">Cự ly</div>
                  <div class="value">
                    <input type="number" class="form-control" v-model="db_con.culy"  readonly="true">
                  </div>
                </div>


              </div>

            </div>

            <!-- Kết thúc Dịch vụ IMS-->
              <!-- thông tin về dịch vụ băng rộng -->

              <div class="row" v-show="thuebao.dichvuvt_id===4||thuebao.dichvuvt_id===12">
                <div class="col-sm-8 col-12">
                  <div class="row">
                    <div class="col-sm-6 col-8">
                      <div class="info-row">
                        <div class="key w80">Email</div>
                        <div class="value">
                          <input type="text" class="form-control" v-model="db_con.email" readonly="true">
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w80">Tốc độ</div>
                        <div class="value">
                          <SelectExt v-model="db_con.tocdo_id" :dataSource="dsTocDo" 
                          :disabled="true"  
                          dataTextField="THUONGHIEU"
                            dataValueField="TOCDO_ID" />

                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w80">Tổ thi công</div>
                        <div class="value">
                          <SelectExt v-model="thuebao.tramtb_id" :dataSource="dsTramVT" dataTextField="TEN_HIENTHI"
                            dataValueField="DONVI_ID" />
                        </div>
                      </div>                      
                      
                    </div>
                    <div class="col-sm-6 col-8">
                      <div class="info-row">
                        <div class="key w90">Mức cước</div>
                        <div class="value">
                          <SelectExt v-model.number="db_con.muccuoc_id" 
                            :disabled="true"
                            :dataSource="dsMucCuoc" dataTextField="TENMUC"
                            dataValueField="MUCCUOC_ID" />
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Tốc độ thực</div>
                        <div class="value">
                          <SelectExt v-model="db_con.tocdothuc_id" :dataSource="dsTocDo" 
                            :disabled="true"  
                          dataTextField="THUONGHIEU"
                            dataValueField="TOCDO_ID" />
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">BRAS</div>
                        <div class="value">
                          <div class="input-more-button">
                            <button class="btn">
                              <span class="-ap icon-info f20"></span>
                            </button>
                            <div class="select-custom">
                              <SelectExt v-model.number="db_con.bras_id" 
                                :dataSource="dsBras"
                                :disabled="true"
                                dataTextField="TENBRAS"
                                dataValueField="BRAS_ID" />
                            </div>
                          </div>

                        </div>
                      </div>

                    </div>

                  </div>


                </div>

                <div class="col-sm-4 col-12">
                  <div class="info-row">
                    <div class="key w80">Ma TN</div>
                    <div class="value">
                      <input type="text" class="form-control" v-model="db_con.matn" readonly="true">
                    </div>
                  </div>

                  <div class="info-row">
                    <div class="key w80">Passwword</div>
                    <div class="value">
                      <input type="text" class="form-control" v-model="db_con.password" readonly="true">
                    </div>
                  </div>

                  <div class="info-row">
                    <div class="key w80">DSLAM</div>
                    <div class="value">
                      <div class="select-custom">
                        <SelectExt v-model.number="db_con.dslam_id"
                          :disabled="true"
                          :dataSource="dsDslam"
                          dataTextField="TENDSLAM"
                          dataValueField="DSLAM_ID" />
                      </div>
                    </div>
                  </div>

                </div>

                
              </div>
              <!--thông tin về dịch vụ băng rộng-->

              <!-- thông tin về dịch vụ megwan, metronet  -->

              <div class="row" v-show="thuebao.dichvuvt_id===8">
                <div class="col-sm-8 col-12">
                  <div class="row">
                    <div class="col-sm-7 col-8">
                      <div class="info-row">
                        <div class="key w90">Vệ tinh</div>
                        <div class="select-custom">
                          <SelectExt v-model="db_con.vetinh_id" :disabled="true" :dataSource="dsTramVT" dataTextField="TEN_HIENTHI"
                            dataValueField="DONVI_ID" />
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Chủ quản</div>
                        <div class="select-custom">
                          <SelectExt v-model.number="db_con.chuquan_id" :disabled="true" :dataSource="dsChuQuan" dataTextField="TEN_TAT"
                            dataValueField="CHUQUAN_ID" />
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Loại node</div>

                          <div class="select-custom">
                            <SelectExt v-model.number="db_con.loainode_id" :disabled="true" :dataSource="dsLoaiNode" dataTextField="TEN_NODE"
                              dataValueField="LOAINODE_ID" />
                          </div>                        
                        </div>                      
                      <div class="info-row">
                        <div class="key w90">Tốc độ CIR</div>
                        <div class="value">
                          <SelectExt v-model.number="db_con.tocdocir_id" :disabled="true" :dataSource="dsTocDoKenh"
                            dataTextField="TOC_DO" dataValueField="TOCDO_ID" />
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Hướng KN</div>
                        <div class="value">
                          <input type="text" class="form-control" v-model="db_con.huong_kn" readonly="true">
                        </div>
                      </div>                      
                      <div class="info-row">
                        <div class="key w90">
                          <div class="check-action">
                            <input type="checkbox" class="check"  readonly="true">
                            <span class="name">Đối tác</span>
                          </div>
                        </div>
                        <div class="value">
                          <div class="select-custom">
                            <SelectExt v-model="db_con.doitac_id" :disabled="true" :dataSource="dsDoiTac"
                              dataTextField="TEN_DT" dataValueField="DOITAC_ID" />
                          </div>
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Mã HĐ/ĐT</div>
                        <div class="value">
                          <input type="text" class="form-control" v-model="db_con.mahd_dt">
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Loại cáp</div>
                        <div class="value">
                          <SelectExt v-model="db_con.loaicap_id" 
                            :disabled="true"
                            :dataSource="dsLoaiCap" dataTextField="LOAICAP"
                            dataValueField="LOAICAP_ID" />

                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Tủ cáp gốc</div>
                        <div class="value">
                          <input type="text" class="form-control" v-model="db_con.tucap_goc" readonly="true">
                        </div>
                      </div>

                      <div class="info-row">
                        <div class="key w90">Đôi cáp gốc</div>
                        <div class="value">
                          <input type="number" class="form-control" v-model="db_con.doicap_goc"  readonly="true">
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Cáp gốc</div>
                        <div class="value">
                          <input type="text" class="form-control" v-model="db_con.cap_goc"  readonly="true">
                        </div>                        
                      </div>
                    </div>
                    <div class="col-sm-5 col-8">
                      <div class="info-row">
                        <div class="key w90">Mã TN</div>
                        <div class="value">
                          <input type="text" class="form-control" v-model="db_con.matn"  readonly="true">
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Modem</div>
                        <div class="value">
                          <SelectExt v-model.number="db_con.loaimd_id" :disabled="true" :dataSource="dsLoaiModem" dataTextField="LOAI_MD"
                            dataValueField="LOAIMD_ID" />

                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Thời hạn</div>
                        <div class="value">
                          <div class="select-custom">
                            <SelectExt v-model="db_con.thoihan_id" :disabled="true" :dataSource="dsThoiHan" dataTextField="TENTHOIHAN"
                              dataValueField="THOIHAN_ID" />
                          </div>
                        </div>

                      </div>
                      <div class="info-row">
                        <div class="key w100">
                          <div class="check-action">
                            <input type="checkbox" class="check" @click="pir_checked=!pir_checked"  readonly="true">
                            <span class="name">Tốc độ PIR</span>
                          </div>
                        </div>
                        <div class="value">
                          <div class="select-custom">
                            <SelectExt v-model.number="db_con.tocdopir_id" :disabled="!pir_checked"
                              :dataSource="dsTocDoKenh" dataTextField="TOC_DO" dataValueField="TOCDO_ID" />
                          </div>
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Site ID</div>
                        <div class="value">
                          <input type="text" class="form-control" v-model="db_con.site_id"  readonly="true">
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Cước TKĐT</div>
                        <div class="value">
                          <input type="number" class="form-control" v-model="db_con.cuoc_tkdt" readonly="true">
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Cước TCĐT</div>
                        <div class="value">
                          <input type="number" class="form-control" v-model="db_con.cuoc_ctdt"  readonly="true">
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Hộp cáp ngọn</div>
                        <div class="value">
                          <input type="text" class="form-control" v-model="db_con.hopcap_ngon"  readonly="true">
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Tủ cáp ngọn</div>
                        <div class="value">
                          <input type="text" class="form-control" v-model="db_con.tucap_ngon"  readonly="true">
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Đôi cáp ngọn</div>
                        <div class="value">
                          <input type="number" class="form-control" v-model="db_con.doicap_ngon"  readonly="true">
                        </div>
                      </div>
                      <div class="info-row">
                        <div class="key w90">Cáp ngọn</div>
                        <div class="value">
                          <input type="text" class="form-control" v-model="db_con.cap_ngon"  readonly="true">
                        </div>
                      </div>
                    </div>

                  </div>


                </div>

                <div class="col-sm-4 col-12">
                  <div class="info-row">
                    <div class="key w100">
                      <div class="check-action">
                        <input type="checkbox" class="check"  readonly="true">
                        <span class="name"></span>
                      </div>
                    </div>
                    <div class="value">
                      Luồn giữa kênh
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">Loại kênh</div>
                    <div class="value">
                      <SelectExt v-model.number="db_con.loaikenh_id" :disabled="true" :dataSource="dsLoaiKenh" dataTextField="LOAI_KENH"
                        dataValueField="LOAIKENH_ID" />
                    </div>
                  </div>

                  <div class="info-row">
                    <div class="key w80">Cước TC</div>
                    <div class="value">
                      <input type="number" class="form-control" v-model="db_con.cuoc_tc"  readonly="true">
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">Cước TK</div>
                    <div class="value">
                      <input type="number" class="form-control" v-model="db_con.cuoc_tk"  readonly="true">
                    </div>
                  </div>

                  <div class="info-row">
                    <div class="key w80">Cước HT</div>
                    <div class="value">
                      <input type="number" class="form-control" v-model="db_con.cuoc_ht"  readonly="true">
                    </div>
                  </div>                  
                  <div class="info-row">
                    <div class="key w80">Cước TBi</div>
                    <div class="value">
                      <input type="number" class="form-control" v-model="db_con.cuoc_tbi"  readonly="true">
                    </div>                  
                  </div>
                  <div class="info-row">
                    <div class="key w80">Adsl port</div>
                    <div class="value">
                      <input type="text" class="form-control" v-model="db_con.adslport"  readonly="true">
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">Port MDF</div>
                    <div class="value">
                      <input type="text" class="form-control" v-model="db_con.portmdf"  readonly="true">
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">Tuyến cáp</div>
                    <div class="value">
                      <input type="text" class="form-control" v-model="db_con.tuyencap"  readonly="true">
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">Liên tủ</div>
                    <div class="value">
                      <input type="text" class="form-control" v-model="db_con.lientu"  readonly="true">
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">Cự ly</div>
                    <div class="value">
                      <input type="number" class="form-control" v-model="db_con.culy"  readonly="true">
                    </div>
                  </div>
                  
                </div>

                <!--thông tin về dịch vụ megwan, metronet -->
              </div>

              <!-- thông tin về dịch vụ TSL -->

              <div class="row" v-show="thuebao.dichvuvt_id===9">
                <div class="col-sm-8 col-12">

                  <div class="info-row">
                    <div class="key w100">Loại kênh</div>
                    <div class="value">
                      <div class="select-custom">
                        <SelectExt v-model.number="db_con.loaikenh_id" 
                          :disabled="true"
                          :dataSource="dsLoaiKenh"
                          dataTextField="LOAI_KENH" dataValueField="LOAIKENH_ID" />
                      </div>
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w100">Loại thiết bị</div>
                    <div class="value">
                      <div class="select-custom">
                        <SelectExt v-model.number="db_con.thietbi_id" :disabled="true" :dataSource="dsThietBiTSL" dataTextField="TEN_TBI"
                          dataValueField="THIETBIDC_ID" />
                      </div>
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w100">
                      <div class="check-action">
                        <input type="checkbox" class="check"  :disabled="true">
                        <span class="name">Đối tác</span>
                      </div>
                    </div>
                    <div class="value">
                      <div class="select-custom">
                        <SelectExt v-model="db_con.doitac_id" :disabled="true" :dataSource="dsDoiTac"
                          dataTextField="TEN_DT" dataValueField="DOITAC_ID" />
                      </div>
                    </div>
                  </div>


                  <div class="info-row">
                    <div class="key w100">Mã HĐ đối tác</div>
                    <div class="value">
                      <input type="text" class="form-control" v-model="db_con.mahd_dt" readonly="true">
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w100">ĐC đầu</div>
                    <div class="value">
                      <input type="text" class="form-control" v-model="db_con.diachi_dau"  readonly="true">
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w100">Đơn vị đầu</div>
                    <div class="value">
                      <div class="select-custom">
                        <SelectExt v-model="db_con.donvi_id_dau" :disabled="true" :dataSource="dsDonViQLTC" dataTextField="TEN_DV"
                          dataValueField="DONVI_ID" />
                      </div>
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w100">ĐC cuối</div>
                    <div class="value">
                      <input type="text" class="form-control" v-model="db_con.diachi_cuoi"  readonly="true">
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w100">Đơn vị cuối</div>
                    <div class="value">
                      <div class="select-custom">
                        <SelectExt v-model="db_con.donvi_id_cuoi" :disabled="true" :dataSource="dsDonViQLTC" dataTextField="TEN_DV"
                          dataValueField="DONVI_ID" />
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-sm-4 col-12">
                  <div class="info-row">
                    <div class="key w80">Tốc độ kênh</div>
                    <div class="value">
                      <SelectExt v-model.number="db_con.tocdokenh_id" :disabled="true" :dataSource="dsTocDoKenh" dataTextField="TOC_DO"
                        dataValueField="TOCDO_ID" />
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">Chủ quản</div>
                    <div class="value">
                      <SelectExt v-model.number="db_con.chuquan_id" :disabled="true" :dataSource="dsChuQuan" dataTextField="TEN_TAT"
                        dataValueField="CHUQUAN_ID" />
                    </div>
                  </div>

                  <div class="info-row">
                    <div class="key w80">Cước TKĐT</div>
                    <div class="value">
                      <input type="number" class="form-control" v-model="db_con.cuoc_tkdt"  readonly="true">
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">Cước TCĐT</div>
                    <div class="value">
                      <input type="number" class="form-control" v-model="db_con.cuoc_tcdt"  readonly="true">
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">KV đầu</div>
                    <div class="value">
                      <div class="input-more-button">
                        <button class="btn">
                          <span class="-ap icon-more_horiz"></span>
                        </button>
                        <input type="text" class="form-control " v-model="db_con.khuvuc_dau"  readonly="true">
                      </div>
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">Site ID đầu</div>
                    <div class="value">
                      <input type="text" class="form-control" v-model="db_con.site_id_dau"  readonly="true">
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">KV cuối</div>
                    <div class="value">
                      <div class="input-more-button">
                        <button class="btn">
                          <span class="-ap icon-more_horiz"></span>
                        </button>
                        <input type="text" class="form-control " v-model="db_con.khuvuc_cuoi"  readonly="true">
                      </div>
                    </div>
                  </div>
                  <div class="info-row">
                    <div class="key w80">Site ID cuối</div>
                    <div class="value">
                      <input type="text" class="form-control" v-model="db_con.site_id_cuoi"  readonly="true">
                    </div>
                  </div>
                </div>

                <!--Kết thúc dịch vụ TSL-->
              </div>
            <!-- Kết thúc danh bạ con-->
          </div>
        </div>
      </div>
    </div>
    <div class="box-form">
      <div class="legend-title">
        <div class="title">Danh sách thuê bao</div>
      </div>
      <DataGrid
        v-bind:columns="[
                        {fieldName: 'MA_TT', headerText: 'Mã TT', allowFiltering: true },
                        {fieldName: 'MA_TB', headerText: 'Số máy/Acc', allowFiltering: true},
                        {fieldName: 'MA_LT', headerText: 'Số ảo', allowFiltering: true},
                        {fieldName: 'TEN_TB', headerText: 'Tên thuê bao', allowFiltering: true},
                        {fieldName: 'DIACHI_LD', headerText: 'Địa chỉ lắp đặt', allowFiltering: true},
                        {fieldName: 'NGAY_SDDV', headerText: 'Ngày sử dụng', allowFiltering: true},
                        {fieldName: 'CHUQUAN', headerText: 'Chủ quán', allowFiltering: true},
                        {fieldName: 'TEN_KC', headerText: 'Splitter', allowFiltering: true},
                        {fieldName: 'MA_DHVIP', headerText: 'Mã VIP', allowFiltering: true}
                    ]"
        :enable-paging-server="false"
        :allow-paging="true"
        v-bind:dataSource="dsThueBao"
        :showFilter="true"
        @rowClicked="MaTBChange"
        ref="table"
      ></DataGrid>
    </div>
  </div>
  <b-modal id="popupComponents" size="xl"
  hide-footer
  hide-header
  hide-header-close
  body-class="modal-body p-1">
  <components :is="popupComponent" @form-close="searchAccountClosed" :isPopup="true"></components>
  </b-modal>
</div>
