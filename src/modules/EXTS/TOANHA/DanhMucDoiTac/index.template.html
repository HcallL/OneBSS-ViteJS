<div>
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="javascript: void(0)" @click="onLayTT" title="Hiển thị danh sách">
                    <span class="icon one-file-attach"></span>Lấy TT
                </a>
            </li>
            <li>
                <a href="javascript: void(0)" @click="onNhapMoi" title="Nhập mới" :class="{'disabled': !btn_Enabled.nhapMoi}">
                    <span class="icon one-file-plus"></span>Nhập mới
                </a>
            </li>            
            <li>
                <a href="javascript: void(0)" @click="onGhiLai" title="Ghi lại" :class="{'disabled': !btn_Enabled.ghiLai}">
                    <span class="icon one-save"></span>Ghi lại
                </a>
            </li>            
            <li>
                <a href="javascript: void(0)" @click="onHuy" title="Hủy" :class="{'disabled': !btn_Enabled.huy}">
                    <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Hủy
                </a>
            </li>            
            <li>
                <a href="javascript: void(0)" @click="onXoa" title="Xóa" :class="{'disabled': !btn_Enabled.xoa}">
                    <span class="icon one-trash"></span>Xóa
                </a>
            </li>
            <li>
                <a href="javascript: void(0)" @click="onXuatExcel" title="Xuất Excel">
                    <span class="icon one-xlsx"></span>Xuất Excel
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="box-form">
            <div class="legend-title">Thông tin đối tác</div>
            <!-- <div class="box-form"> -->
                <div class="row">
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w90">Mã đối tác</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="txt_MaDoiTac" :readonly="txt_MaDoiTac_ReadOnly">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-9 col-12">
                        <div class="info-row">
                            <div class="key w100">Tên đối tác <span class="red">(*)</span></div>
                            <div class="value">
                                <input type="text" class="form-control font-weight-bold text" v-model="txt_TenDoiTac" ref="tenDoiTac" :class="{'is-invalid': $v.txt_TenDoiTac.$error }">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w90">Số điện thoại</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="txt_SoDT" ref="soDT" :class="{'is-invalid': $v.txt_SoDT.$error }">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-9 col-12">
                        <div class="info-row">
                            <div class="key w100">Người đại diện</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="txt_NguoiDD" ref="nguoiDD" :class="{'is-invalid': $v.txt_NguoiDD.$error }">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w90">Số tài khoản</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="txt_SoTaiKhoan" ref="soTaiKhoan" :class="{'is-invalid': $v.txt_SoTaiKhoan.$error }">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-9 col-12">
                        <div class="info-row">
                            <div class="key w100">Ngân hàng</div>
                            <div class="value">
                                <div class="select-custom">
                                    <app-combobox
                                        :columns="[
                                            { fieldName: 'ma_nh', headerText: '', width: 50 },
                                            { fieldName: 'ten_nh', headerText: '' }
                                        ]"
                                        @selectedChanged="nganHangSelected" 
                                        :dataSource="cbo_NganHang.items"
                                        :allowPaging="false" 
                                        :enablePagingServer="false"
                                        :gridPanelDataHeight="'200px'"
                                        textField="ten_nh"
                                        valueField="nganhang_id"
                                        ref="nganHangCbo"
                                    >
                                    </app-combobox>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 col-12">
                        <div class="info-row">
                            <div class="key w90">Địa chỉ</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="txt_DiaChi" ref="diaChi" :class="{'is-invalid': $v.txt_DiaChi.$error }">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w90">Mã ĐT Visa</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="txt_MaDTVisa" ref="maDTVisa" :class="{'is-invalid': $v.txt_MaDTVisa.$error }">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-9 col-12">
                        <div class="info-row">
                            <div class="key w100">Username Sub</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="txt_UsernameSub" ref="userNameSub" :class="{'is-invalid': $v.txt_UsernameSub.$error }">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 col-12">
                        <div class="info-row">
                            <div class="key w90">Ghi chú</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="txt_GhiChu" ref="ghiChu" :class="{'is-invalid': $v.txt_GhiChu.$error }">
                            </div>
                        </div>
                    </div>
                </div>
            <!-- </div> -->
        </div>
        <div class="box-form">
            <div class="legend-title">Danh sách đối tác</div>
            <div class="table-content">
                <DataGrid v-bind:columns="[
                        {fieldName: 'ma_dt', headerText: 'Mã đối tác', allowFiltering: true, allowSorting: false, width: 90, cssClass: 'text-blue'},
                        {fieldName: 'ten_dt', headerText: 'Tên đối tác', allowFiltering: true, allowSorting: false, width: 150, cssClass: 'text-bold'},
                        {fieldName: 'so_dt', headerText: 'Số điện thoại', allowFiltering: true, allowSorting: false, width: 90, cssClass: 'text-red'},
                        {fieldName: 'nguoi_dd', headerText: 'Người đại diện', allowFiltering: true, allowSorting: false, width: 110},
                        {fieldName: 'taikhoan', headerText: 'Số tài khoản', allowFiltering: true, allowSorting: false, width: 90, cssClass: 'text-blue'},
                        {fieldName: 'ten_nh', headerText: 'Ngân hàng', allowFiltering: true, allowSorting: false, width: 150},
                        {fieldName: 'diachi', headerText: 'Địa chỉ', allowFiltering: true, allowSorting: false, width: 150},
                        {fieldName: 'ma_dt_visa', headerText: 'Mã đối tác Visa', allowFiltering: true, allowSorting: false, width: 120},
                        {fieldName: 'username_sub', headerText: 'Username Sub', allowFiltering: true, allowSorting: false, width: 120},
                        {fieldName: 'ghichu', headerText: 'Ghi chú', allowFiltering: true, allowSorting: false, width: 130},
                        {fieldName: 'ngay_cn1', headerText: 'Ngày CN', allowFiltering: true, allowSorting: false, width: 80},
                        {fieldName: 'nguoi_cn', headerText: 'Người CN', allowFiltering: true, allowSorting: false, width: 80}
                    ]"
                    v-bind:dataSource="grid_DoiTac.items"
                    :showFilter="true"
                    :allowPaging="true"
                    ref="doiTacGrid"
                    :enablePagingServer="false"
                    :allowExcelExport="true"
                    @rowSelected="onDoiTacSelected"
                >
                </DataGrid>
            </div>
        </div>
    </div>
</div>