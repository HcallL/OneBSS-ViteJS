<div>
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="javascript:void(0)" @click="tsbtnNhapMoi_Click" :class="{'disable-btn-chuyendich': !tsbtnNhapMoi}">
                    <span class="icon one-file-plus"></span>Nhập mới(F5)
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnGhiLai_Click" :class="{'disable-btn-chuyendich': !tsbtnGhiLai}">
                    <span class="icon one-save"></span>Ghi lại (F9)
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnHuyBo_Click" :class="{'disable-btn-chuyendich': !tsbtnHuyBo}">
                    <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Huỷ
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnXoa_Click" :class="{'disable-btn-chuyendich': !tsbtnXoa}">
                    <span class="icon one-trash"></span>Xoá HĐ (F8)
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnThanhToan_Click" :class="{'disable-btn-chuyendich': !tsbtnThanhToan}">
                    <span class="icon nc-icon-glyph shopping_credit-card"></span>Thanh toán
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnInPL_Click" :class="{'disable-btn-chuyendich': !tsbtnInPL}">
                    <span class="icon one-print"></span>In PL
                </a>
            </li>
            <li v-show="false">
                <a href="javascript:void(0)" @click="btnInHopDong_Click" :class="{'disable-btn-chuyendich': !tsbtnInhopdong}">
                    <span class="icon one-print"></span>HĐ/PL
                </a>
            </li>
            <li v-show="false">
                <a href="javascript:void(0)" @click="tsbtnThemTT_Click" :class="{'disable-btn-chuyendich': !tsbtnThemTT}">
                    <span class="icon one-design-square-plus"></span>Thêm TT
                </a>
            </li>
            <li v-show="false">
                <a href="javascript:void(0)" @click="tsbtnXoaTT_Click" :class="{'disable-btn-chuyendich': !tsbtnXoaTT}">
                    <span class="icon one-remove-outline"></span>Xóa TT
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnThemTB_Click" :class="{'disable-btn-chuyendich': !tsbtnThemTB}">
                    <span class="icon one-mobile-plus"></span>Thêm TB
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnXoaTB_Click" :class="{'disable-btn-chuyendich': !tsbtnXoaTB}">
                    <span class="icon one-phone-remove"></span>Xóa TB
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnThemTB_DS_Click" :class="{'disable-btn-chuyendich': !tsbtnThemTB_DS}">
                    <span class="icon one-clipart-plus"></span>Thêm DS
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnThongTinLH_Click" :class="{'disable-btn-chuyendich': !tsbtnThongTinLH}">
                    <span class="icon nc-icon-glyph business_contacts"></span>Liên hệ
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnEmail_Click" :class="{'disable-btn-chuyendich': !tsbtnEmail}">
                    <span class="icon one-email"></span>Email
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnHen_Click" :class="{'disable-btn-chuyendich': !tsbtnHen}">
                    <span class="icon one-calendar-history"></span>Hẹn LĐ
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" @click="tsbtnVatTuMoi_Click" :class="{'disable-btn-chuyendich': !tsbtnVatTuMoi}">
                    <span class="icon one-file-arrow-right"></span>Vật tư
                </a>
            </li>
            <li>
              <a href="javascript:void(0)" @click="ycThayDoiThongTinClick" :class="!hasHDKH ? 'disabled' : ''">
                YC thay đổi thông tin
              </a>
            </li>
            <li>
              <a href="javascript:void(0)" @click="pdThayDoiThongTinClick" :class="!hasHDKH ? 'disabled' : ''">
                PD thay đổi thông tin
              </a>
            </li>
        </ul>
        <div class="more dropdown">
            <a href="javascript:void(0)" data-toggle="dropdown">
                <span class="icon -ap  icon-dots-three-vertical"></span>
            </a>
            <div class="dropdown-menu">
                <a href="javascript:void(0)" @click="tsbtnHen_Click" :class="{'disable-btn-chuyendich': !tsbtnHen}">
                    <span class="dropdown-icon one-henld"></span> Hẹn LĐ
                </a>
                <a href="javascript:void(0)" @click="tsbtnVatTuMoi_Click" :class="{'disable-btn-chuyendich': !tsbtnVatTuMoi}">
                    <span class="dropdown-icon one-vt"></span> Vật tư
                </a>
                <a href="javascript:void(0)" @click="btnCapNhatDV_Click">
                    <span class="dropdown-icon one-notepad"></span> Cập nhật ĐV
                </a>
            </div>
        </div>
    </div>
    <div class="page-content">
        <div class="box-form padt8 padb8 fw6">
            <div class="row">
                <div class="col-sm-2 col-12"></div>
                <div class="col-sm-2 col-12">
                    <div class="info-row marb0">
                        <div class="key w30 nowrap">
                            Kiểu HĐ
                        </div>
                        <div class="value">
                           <div class="select-custom" ref="rcboKieuHD">
                                <SelectExt
                                    v-model="modelCbo.cboKieu_HD"
                                    :settings="{dropdownParent: $refs['rcboKieuHD']}"
                                    :dataSource="modelCbo.vcboKieu_HD"
                                    dataTextField="kieu_hd"
                                    dataValueField="kieuhd_id"/>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row marb0">
                        <div class="key w30 nowrap">
                            <div class="check-action">
                                <input type="checkbox" class="check" @change="chkCTV_CheckedChanged" v-model ='modelCkeckBox.chkCTV'>
                                <span class="name">Cộng tác viên</span>
                            </div>
                        </div>
                        <div class="value">
                            <input type="text" class="form-control" v-model.trim="modelInput.txtCTV">
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row marb0">
                        <div class="key w30 nowrap">
                            <div class="check-action">
                                <input type="checkbox" class="check" @change="chkNguoiGT_CheckedChanged" v-model ='modelCkeckBox.chkNguoiGT'>
                                <span class="name">Người giới thiệu</span>
                            </div>
                        </div>
                        <div class="value">
                            <input type="text" class="form-control" v-model.trim="modelInput.txtNguoiGT">
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 col-12">
                    <div class="info-row marb0">
                        <div class="key w30 nowrap">
                            Tổng tiền
                        </div>
                        <div class="value">
                            <input type="text" class="form-control" v-model="modelInput.txtTongTienHD">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="nav tabs tab-over">
            <a href="#tabB0" data-toggle="tab" @click="onclickTab(0)" :class="[ activetab == 0 ? 'active' : '' ]">Thuê bao dịch chuyển (F2)</a>
            <a href="#tabB1" data-toggle="tab" @click="onclickTab(1)" :class="[ activetab == 1 ? 'active' : '' ]">Khách hàng (F3)</a>
        </div>
        <div class="tab-content">
            <div :class="[ activetab == 0 ? 'active' : '' ]" id="tabB0" v-show="activetab == 0">
                <FormThongTinThueBao ref="ThongTinThueBao"
                    :parent="this"
                    @txtMaTB_KeyPress="txtMaTB_KeyPress"
                    @HienThiTT_DanhBa_KH_NhanCQ="HienThiTT_DanhBa_KH_NhanCQ"
                    @change_hdkh_id="change_hdkh_id"
                    @change_khachhang_id="change_khachhang_id"
                    @onEnterMaGD="onEnterMaGD"
                ></FormThongTinThueBao>
            </div>
            <div :class="[ activetab == 1 ? 'active' : '' ]" id="tabB1" v-show="activetab == 1">
                <FormThongTinKhachHang :parent="this" ref="ThongTinKhachHang"></FormThongTinKhachHang>
            </div>
        </div>
    </div>
    <ThongTinHenKhachHangModal ref="thongTinHenKhachHangModal" :hdkh_id="hdkh_id" :quyenduoc_hen="1"/>
    <CapVatTuTB ref="popupVatTuTB" :inputData="modelVatTu"/>
    <!-- <b-modal
        ref="dialogPayment"
        size="xl"
        body-class="modal-body p-0 modal-ThanhToan-ChuyenDich"
        hide-footer
    >
        <ThanhToan :magiaodich="ThongTinThueBao ? ThongTinThueBao.modelInput.txtMaGD :  null" />
    </b-modal> -->
    <ejs-dialog :enableResize='true'  :visible='false' ref='thanhtoanDialog' :position="{ X: 'center', Y: 'top' }"
        :header='"THANH TOÁN HỢP ĐỒNG"' showCloseIcon='true' :target="'#app .main-wrapper'" width='80%'>
        <keep-alive>
        <div class="popupComponentPayment">
            <component :is="popupComponent"  ref='thanhToanPopUp' :ispopup="true" v-bind="popupComponentAttr" />
        </div>
        </keep-alive>
    </ejs-dialog>
    <frmTC_DBTB_KH @chapnhan="setDBTB" ref="frmTC_DBTB_KH" />
    <InHoSo ref="popupInHoSo" :params="popupInHoSo_Param"/>
    <b-modal id="popupComponentsFormDC" size="xl"
        hide-footer
        :title="popupComponentTitle"
        scrollable
        body-class="modal-body p-0">
        <component :is="popupComponent" ref="popupComponent" v-bind="popupComponentAttr" isPopup="true" @acceptChangeCTV="acceptChangeCTV($event)" @acceptChangeNGT="acceptChangeNGT($event)"></component> <!--v-dynamic-events="popupComponentEvents"-->
    </b-modal>
    <FormChangeCustomerInfor ref="refFormChangeCustomerInfor"></FormChangeCustomerInfor>
  <PopupCapNhatDV ref='popupCapNhatDV_cq' />
</div>
