<div class="frm-thaydoi-datcoc-capnhat">
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="javascript:void(0)" :class="{'disable-btn' : !enableCtrl.tsbtnNhapMoi}" @click="tsbtnNhapMoi_Click">
                    <span class="icon one-file-plus"></span>Nhập mới
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" :class="{'disable-btn' : !enableCtrl.tsbtnGhiLai}" @click="tsbtnGhiLai2_Click">
                    <span class="icon one-save"></span>Ghi lại (F9)
                </a>
            </li>

            <li>
                <a href="javascript:void(0)" :class="{'disable-btn' : !enableCtrl.tsbtnXoa}" @click="tsbtnXoa_Click">
                    <span class="icon one-trash"></span>Xóa
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" :class="{'disable-btn' : !enableCtrl.tsbtnHuyBo}" @click="tsbtnHuyBo_Click">
                    <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Hủy
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" :class="{'disable-btn' : !enableCtrl.tsbtnThanhToan}" @click="tsbtnThanhToan_Click">
                    <span class="icon nc-icon-glyph shopping_credit-card"></span>Thanh toán
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" :class="{'disable-btn' : dgvDanhSach.length <= 1}" @click="tsbtnThemTB_Click">
                    <span class="icon one-mobile-plus"></span>Thêm TB
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" :class="{'disable-btn' : dgvDanhSach.length <= 1}" @click="tsbtnXoaTB_Click">
                    <span class="icon one-phone-remove"></span>Xóa TB
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" :class="{'disable-btn' : !enableCtrl.tsbtnCapNhatDB}" @click="tsbtnCapNhatDB_Click">
                    <span class="icon one-file-check"></span>Hoàn thiện
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" :class="{'disable-btn' : false}" @click="tsbtnThongTinLH_Click">
                    <span class="icon nc-icon-glyph business_contacts"></span>Liên hệ
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" :class="{'disable-btn' : false}" @click="tsbtnEmail_Click">
                    <span class="icon one-email"></span>Email
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" :class="{'disable-btn' : !enableCtrl.tsbtnXemanh}" @click="tsbtnXemanh_Click">
                    <span class="icon nc-icon-glyph business_contacts"></span>Xem ảnh
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="box-form padt8 padb8">
            <div class="row">
                <div class="col-sm-8 col-12">

                </div>
                <div class="col-sm-2 col-12">
                    <div class="info-row marb0">
                        <div class="key w20 nowrap fw6">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="chkCTV" @change="onChangeCheckCtv($event)">
                                <span class="name">Cộng tác viên</span>
                            </div>
                        </div>
                        <div class="value">
                            <input type="text" class="form-control" v-model="txtCTV" readonly>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 col-12">
                    <div class="info-row marb0">
                        <div class="key w20 nowrap fw6">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="chkNguoiGT" @change="onChangeCheckNguoiGt($event)">
                                <span class="name">Người giới thiệu</span>
                            </div>
                        </div>
                        <div class="value">
                            <input type="text" class="form-control" v-model="txtNguoiGT" readonly>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid-stack-box">
            <Split>
                <SplitArea :size="50" :minSize="100">
                    <div class="box-form ">
                        <div class="legend-title red">Thông tin thuê bao</div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w90">Mã giao dịch</div>
                                    <div class="value">
                                        <div class="input-more-button">
                                            <button class="btn" @click="btnLayMaGD_Click()">
                                                <span class="-ap icon-more_horiz"></span>
                                            </button>
                                            <input ref="txtMaGD" type="text" class="form-control" v-model.trim="txtMaGD" v-on:keyup.13="txtMaGD_KeyPress()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w90">Ngày yêu cầu</div>
                                        <div class="value">
                                            <ejs-datepicker
                                            v-model="dtpNgayYeuCau.value"
                                            :enabled="false"
                                            :format="dtpNgayYeuCau.dateFormat">
                                            </ejs-datepicker>
                                        </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w90">Dịch vụ</div>
                                    <div class="value">
                                        <ejs-dropdownlist
                                        locale='vi-VN'
                                        v-model="dataSelected.DICHVUVT_ID"
                                        :dataSource='data.DS_DICHVU_VT'
                                        :allowFiltering='true'
                                        :fields="{value:'DICHVUVT_ID', text: 'TEN_DVVT'}" >
                                        </ejs-dropdownlist>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w90">Loại hình</div>
                                    <div class="value">
                                        <ejs-dropdownlist
                                        locale='vi-VN'
                                        v-model="dataSelected.LOAITB_ID"
                                        :readonly="true"
                                        :dataSource='data.DS_LOAIHINH_TB'
                                        :allowFiltering='true'
                                        :fields="{value:'LOAITB_ID', text: 'LOAIHINH_TB'}" >
                                        </ejs-dropdownlist>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w90">Số máy/Acc</div>
                                    <div class="value">
                                        <div class="input-more-button">
                                            <button class="btn" @click="btnTKMaTB_Click()">
                                                <span class="-ap icon-more_horiz"></span>
                                            </button>
                                            <input ref="txtMaTB" id="txtMaTB" v-model.trim="txtMaTB" type="text" class="form-control highlight" v-on:keyup.13="txtMaTB_KeyPress()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w90">Tốc độ</div>
                                    <div class="value">
                                        <ejs-dropdownlist
                                        locale='vi-VN'
                                        :readonly="true"
                                        v-model="dataSelected.TOCDO_ID"
                                        :dataSource='data.DS_TOCDO_INTERNET'
                                        :allowFiltering='true'
                                        :fields="{value:'TOCDO_ID', text: 'THUONGHIEU'}" >
                                        </ejs-dropdownlist>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w90">Gói đa dịch vụ </div>
                            <div class="value">
                                <input type="text" class="form-control" :value="THUEBAO.TEN_GOI_DADV">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w90">Tên thuê bao</div>
                            <div class="value">
                                <input type="text" class="form-control" :value="THUEBAO.TEN_TB" disabled>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w90">Địa chỉ TB</div>
                            <div class="value">
                                <input type="text" class="form-control" :value="THUEBAO.DIACHI_LD" disabled>
                            </div>
                        </div>
                    </div>                    
                </SplitArea>
                <SplitArea :size="50" :minSize="100">
                    <div class="box-form" style="min-height: 220px;">
                        <div class="legend-title">
                            <div class="red pull-left">Thông tin đặt cọc</div>
                            <div class="pull-right">
                                <a href="#" class="btn btn-main lh14 pad4" v-bind:class = "dgvDatCoc.DataSource.length > 0 ? '' : 'disable-btn'"  title="Xác nhận" v-on:click.prevent="btnXacNhanTTDatCoc()" >
                                  <span class="icon one-save"></span>
                                </a>
                                <a href="#" class="btn btn-main lh14 pad4" v-bind:class = "dgvDatCoc.DataSource.length > 0 ? '' : 'disable-btn'" title="Xoá"  v-on:click.prevent="btnXoaTTDatCoc()">
                                    <span class="icon one-trash"></span>
                                </a>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="info-row">
                            <div class="key w90">Nhóm đặt cọc</div>
                            <div class="value">
                                <ejs-dropdownlist
                                locale='vi-VN'
                                v-model="dataSelected.NHOM_DATCOC_ID"
                                :dataSource='data.DS_NHOM_DATCOC'
                                :allowFiltering='true'
                                :filtering='filtering_nhomdatcoc'
                                :fields="{value:'NHOM_DATCOC_ID', text: 'TEN_NHOM'}" >
                                </ejs-dropdownlist>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w90">Trả trước</div>
                            <div class="value">
                                <div class="input-more-button">
                                    <button class="btn" @click="btnChon_KhuyenMai_Click">
                                        <span class="-ap icon-more_horiz"></span>
                                    </button>
                                    <div class="select-custom">
                                        <ejs-dropdownlist
                                        ref="refDS_KHUYENMAI"
                                        locale='vi-VN'
                                        v-model="dataSelected.KHUYENMAI_ID"
                                        :dataSource='data.DS_KHUYENMAI'
                                        :allowFiltering='true'
                                        :filtering='filtering_tratruoc'
                                        :fields="{value: 'KHUYENMAI_ID', text: 'TEN_KM'}" >
                                        </ejs-dropdownlist>
                                    </div>
                                </div>

                            </div>
                        </div>
                        
                        <div class="info-row">
                            <div class="key w90">Chi tiết</div>
                            <div class="value">
                                <div class="vattu_box">
                                    <div class="input-group">
                                        <div class="li input-text">
                                            <div class="select-custom">
                                                <input ref="ref_ctkhuyenmai" readonly v-model="ct_khuyenmai.text" id="root" placeholder="Chọn chi tiết khuyến mãi"
                                                    class="form-control bg-none" @click="onChangeCustomDropDown('#ctkhuyenmai-pd')">
                                                </input>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="vattu_table" id="ctkhuyenmai-pd" :class="{ displayNone: hideTable }">
                                        <DataGrid
                                            v-bind:columns="[
                                            {fieldName: 'CHITIETKM_ID', headerText: 'ID', width: 70, allowFiltering: true, allowSorting: true},
                                            {fieldName: 'TEN_CTKM', headerText: 'Tên chi tiết khuyến mãi', allowFiltering: true, allowSorting: true},
                                            {fieldName: 'HUONG_DC', headerText: 'Số tháng', width: 120, allowFiltering: true, allowSorting: true}
                                            ]"
                                            :dataSource="data.DS_CHITIETKM" :showFilter="true" 
                                            :showColumnCheckbox="false" :allowSorting="true"
                                            :defaultColumnCheckboxChecked="false" :selectedRow="-1"
                                            :allowPaging="false" :enablePagingServer="false" :enabledSelectFirstRow="false" :allowExcelExport='true'
                                            @selectedRowChanged="onChangeChiTietKhuyenMai"
                                            :panelDataHeight='"200"'
                                            ref="tableNvt">
                                        </DataGrid>
                                        <div class="p-2">
                                            <button type="button" @click="onChangeCustomDropDown('#ctkhuyenmai-pd')" class="btn btn-secondary btn-sm"
                                                aria-label="Close">
                                                <span aria-hidden="true">×</span>
                                            </button>
                                        </div>
                                    </div>
                                  </div>
                                <!--
                                <div class="select-custom">
                                    <ejs-dropdownlist
                                    locale='vi-VN'
                                    ref="refDS_CHITIETKM"
                                    v-model="dataSelected.CHITIETKM_ID"
                                    :dataSource='data.DS_CHITIETKM'
                                    :allowFiltering='true'
                                    :filtering='filtering_chitiet'
                                    :fields="{value:'CHITIETKM_ID', text: 'TEN_CTKM'}" >
                                    </ejs-dropdownlist>
                                </div>
                                -->
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4 col-12">
                                <div class="info-row">
                                    <div class="key w90">Số tháng ĐC</div>
                                    <div class="value">
                                        <input type="text" class="form-control" v-model="txtSoThang" :disabled="!enableCtrl.txtSoThang">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4 col-12">
                                <div class="info-row">
                                    <div class="key w90">Tháng BĐĐC</div>
                                    <div class="value">
                                        <ejs-datepicker
                                            start="Year"
                                            depth="Year"
                                            required
                                            v-model="dtpThangBD.value"
                                            :format="dtpThangBD.dateFormat"
                                            :value="dtpThangBD.value"
                                            :showClearButton="showClearButton"
                                            :enabled="dtpThangBD.enabled"
                                            ></ejs-datepicker>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4 col-12">
                                <div class="info-row">
                                    <div class="key w90">Tháng KTĐC</div>
                                    <div class="value">
                                        <ejs-datepicker
                                            v-model="dtpThangKT.value"
                                            required
                                            :format="dtpThangKT.dateFormat"
                                            :value="dtpThangKT.value"
                                            :showClearButton="showClearButton"
                                            :enabled="dtpThangKT.enabled"
                                            ></ejs-datepicker>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <div v-show="f_tinhcuocngay" class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w90">Ngày BĐĐC</div>
                                    <div class="value">
                                        <div class="input-icon-right">
                                            <ejs-datepicker
                                            v-model="dtpNgayBDDC.value"
                                            required
                                            :format="dtpNgayBDDC.dateFormat"
                                            :value="dtpNgayBDDC.value"
                                            :min='minValNgayBDDC'
                                            :max='maxValNgayBDDC'
                                            :enabled="dtpNgayBDDC.enabled"
                                            :showClearButton="showClearButton"
                                            :strictMode="strict"
                                            ></ejs-datepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                              <div class="info-row">
                                <div class="key w90">Ngày KTĐC</div>
                                <div class="value">
                                    <div class="input-icon-right">
                                        <ejs-datepicker
                                        v-model="dtpNgayKTDC.value"
                                        required
                                        :format="dtpNgayKTDC.dateFormat"
                                        :value="dtpNgayKTDC.value"
                                        :showClearButton="showClearButton"
                                        :enabled="dtpNgayKTDC.enabled"
                                        ></ejs-datepicker>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4 col-12">
                                <div class="info-row">
                                    <div class="key w90">Cước ĐC</div>
                                    <div class="value">
                                        <input ref="txtCuocDC" type="text" class="form-control" v-on:blur="txtCuocDC_Leave"  @input="txtCuocDC_TextChanged" @keypress="onlyNumber" v-model.trim="txtCuocDC" :disabled="!enableCtrl.txtCuocDC">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4 col-12">
                                <div class="info-row">
                                    <div class="key w90">Tiền/tháng</div>
                                    <div class="value">
                                        <input ref="txtTienTD" type="text" class="form-control" disabled v-model="txtTienTD" :disabled="!enableCtrl.txtTienTD">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w90">Ghi chú</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model.trim="txtGhiChu">
                            </div>
                        </div>
                    </div>
                </SplitArea>
            </Split>
        </div>
        <div class="box-form">
            <div class="legend-title">Danh sách thuê bao đặt cọc</div>
            <div class="table-content">
                <DataGrid
                    ref="dgvDatCoc"
                    class="table-result"
                    v-bind:columns="[
                    {fieldName: 'hdtb_id', headerText: '', visible: false },
                    {fieldName: 'tthd_id', headerText: '', visible: false },
                    {fieldName: 'thuebao_id', headerText: '', visible: false },
                    {fieldName: 'ma_tb', headerText: 'Số máy/Acc', allowFiltering: true, width: '130' },
                    {fieldName: 'ten_tb', headerText: 'Tên thuê bao', allowFiltering: true, width: '130' },
                    {fieldName: 'loaihinh_tb', headerText: 'Loại hình', allowFiltering: true, width: '130' },
                    {fieldName: 'loaitb_id', headerText: '', visible: false },
                    {fieldName: 'diachi_ld', headerText: '', visible: false },
                    {fieldName: 'ten_kh', headerText: '', visible: false },
                    {fieldName: 'dichvuvt_id', headerText: '', visible: false },
                    {fieldName: 'doituong_id', headerText: '', visible: false },
                    {fieldName: 'thuebao_id', headerText: '', visible: false },
                    {fieldName: 'rkm_id', headerText: '', visible: false },
                    {fieldName: 'ten_tocdo', headerText: 'Tốc độ', allowFiltering: true, width: '200'},
                    {fieldName: 'tocdo_id', headerText: '', visible: false },
                    {fieldName: '', headerText: 'DVGT', allowFiltering: true, width: '200'},
                    {fieldName: 'ten_goi_ddv', headerText: 'Gói đa DV', allowFiltering: true, width: '200'},
                    {fieldName: 'CHITIET_TT', headerText: 'Chi tiết TT', allowFiltering: true, width: '200'},
                    {fieldName: 'sothang_dc', headerText: 'Số tháng', allowFiltering: true, width: '130'},
                    {fieldName: 'ngay_bd_dc', headerText: 'Ngày BĐĐC', allowFiltering: true, width: '130', visible: f_tinhcuocngay},
                    {fieldName: 'ngay_kt_dc', headerText: 'Ngày KTĐC', allowFiltering: true, width: '130', visible: f_tinhcuocngay },
                    {fieldName: 'thang_bd', headerText: 'Tháng BĐĐC', allowFiltering: true, width: '130', visible: !f_tinhcuocngay},
                    {fieldName: 'thang_kt', headerText: 'Tháng KTĐC', allowFiltering: true, width: '130', visible: !f_tinhcuocngay },
                    {fieldName: 'cuoc_dc', headerText: 'Cước ĐC', textAlign: 'Right', allowFiltering: true, width: '130', format: 'N0', type: 'number'},
                    {fieldName: 'tien_td', headerText: 'Tiền/tháng', textAlign: 'Right', allowFiltering: true, width: '130', format: 'N0', type: 'number'},
                    {fieldName: 'nguoi_cn', headerText: 'Người CN', allowFiltering: true, width: '130' },
                    {fieldName: 'ngay_bd', headerText: 'Ngày BĐMG', allowFiltering: true, width: '130' },
                    {fieldName: 'ngay_kt', headerText: 'Ngày KTMG', allowFiltering: true, width: '130' },
                    {fieldName: 'thang_bd_mg', headerText: 'Tháng BĐMG', allowFiltering: true, width: '130' },
                    {fieldName: 'thang_kt_mg', headerText: 'Tháng KTMG', allowFiltering: true, width: '130' },
                    {fieldName: 'cuoc_dc', headerText: '', visible: false },
                    {fieldName: 'ghichu', headerText: '', visible: false },
                    {fieldName: 'tyle_tb', headerText: '', visible: false },
                    {fieldName: 'tyle_sd', headerText: '', visible: false },
                    {fieldName: 'tien_tb', headerText: '', visible: false },
                    {fieldName: 'tien_sd', headerText: '', visible: false },
                    {fieldName: 'nhom_datcoc_id', headerText: '', visible: false },
                    {fieldName: 'khuyenmai_id', headerText: '', visible: false },
                    {fieldName: 'chitietkm_id', headerText: '', visible: false },
                    {fieldName: 'nhomtb_id', headerText: '', visible: false }                         
                    ]"        
                    v-bind:dataSource="dgvDatCoc.DataSource"
                    :showFilter="true"
                    :allowPaging="true"
                    :enablePagingServer="false"
                    :enabledSelectFirstRow="dgvDatCoc.EnabledSelectFirstRow"
                    @selectedRowChanged="dgvDatCoc_SelectionChanged">
                </DataGrid>
            </div>
        </div>
        <div class="box-form">
            <div class="legend-title">Danh sách hợp đồng đặt cọc của thuê bao</div>
            <div class="table-content">
                <DataGrid
                    class="table-result"
                    v-bind:columns="[
                    {fieldName: 'ma_tb', headerText: 'Số máy/Acc', allowFiltering: true, allowSorting: true, width: '130'},
                    {fieldName: 'ten_tb', headerText: 'Tên thuê bao', allowFiltering: true, allowSorting: true},
                    {fieldName: 'loaihinh_tb', headerText: 'Loại hình', allowFiltering: true, allowSorting: true},
                    {fieldName: 'ngay_bd_dc', headerText: 'Ngày BĐĐC', allowFiltering: true, width: '130', visible: f_tinhcuocngay},
                    {fieldName: 'ngay_kt_dc', headerText: 'Ngày KTĐC', allowFiltering: true, width: '130', visible: f_tinhcuocngay },
                    {fieldName: 'thang_bd', headerText: 'Tháng BĐĐC', allowFiltering: true, width: '130', visible: !f_tinhcuocngay},
                    {fieldName: 'thang_kt', headerText: 'Tháng KTĐC', allowFiltering: true, width: '130', visible: !f_tinhcuocngay },
                    {fieldName: 'cuoc_dc', headerText: 'Cước đặt cọc', allowFiltering: true, allowSorting: true, width: '130', format: 'N0', type: 'number'},
                    {fieldName: 'tien_td', headerText: 'Tiền ĐC/tháng', allowFiltering: true, allowSorting: true, width: '130', format: 'N0', type: 'number'},
                    {fieldName: 'nguoi_cn', headerText: 'Người CN', allowFiltering: true, allowSorting: true},
                    ]"        
                    
                    v-bind:dataSource="dgvDanhSach"
                    :showFilter="true"
                    :allowPaging="true"
                    :enablePagingServer="false"
                   ></DataGrid>
            </div>
        </div>
    </div>
    <frmDSTBCungMa ref="frmDSTBCungMa"></frmDSTBCungMa>
    <b-modal ref="popupSearchAccount" size="xl" hide-footer hide-header hide-header-close body-class="modal-body p-0 frm-capnhat-datcoc">
        <SearchAccount @form-close="acceptSearchAccount" :isPopup="true"/>
    </b-modal>
    <SearchContractModal ref="popupSearchContract" @accept="acceptSearchContract" :loai_hd_id="31" :trangthai_hd="1" />
    <b-modal ref="popupCongTacVien" size="xl" hide-footer hide-header hide-header-close body-class="modal-body p-0 frm-capnhat-datcoc">
        <CongTacVien @form-close="xacNhanCongTacVien" @acceptChangeCTV="xacNhanCongTacVien" :isPopup="true"/>
    </b-modal>
    <b-modal ref="popupNguoiGioiThieu" size="xl" hide-footer hide-header hide-header-close body-class="modal-body p-0 frm-capnhat-datcoc">
        <NguoiGioiThieu @form-close="xacNhanNguoiGioiThieu" @acceptChangeNGT="xacNhanNguoiGioiThieu" :isPopup="true"/>
    </b-modal>
    <b-modal ref="ref-chon-khuyen-mai" id="ref-chon-khuyen-mai" size="xl" hide-footer hide-header hide-header-close body-class="modal-body p-0">
        <ChonKhuyenMai :dulieu="popupChonKhuyenMaiData" @form-close="onChonKhuyenMai"></ChonKhuyenMai>
    </b-modal>
    <b-modal id="frm-thaydoi-datcoc-modal-lienhe" ref="ref-thongtin-lienhe" size="xl" hide-footer hide-header hide-header-close body-class="modal-body p-0">
        <div class="modal-content popup-box">
            <div class="popup-header">
                <div class="title"><span class="icon one-notepad"></span> Thông tin liên hệ</div>
                <div
                    class="close -ap icon-close"
                    data-dismiss="modal"
                    @click="$refs['ref-thongtin-lienhe'].hide()">
                </div>
            </div>
            <div class="popup-body" style="padding: 0;">
                <ThongTinLienHe :hdkh_id="hdkh_id" :khachhang_id="khachhang_id"></ThongTinLienHe>
            </div>
        </div>
    </b-modal>
    <b-modal id="frm-thaydoi-datcoc-modal-email" ref="ref-thongtin-email" size="xl" hide-footer hide-header hide-header-close body-class="modal-body p-0">
        <div class="modal-content popup-box">
            <div class="popup-header">
                <div class="title"><span class="icon one-notepad"></span> Thông tin Email</div>
                <div
                    class="close -ap icon-close"
                    data-dismiss="modal"
                    @click="$refs['ref-thongtin-email'].hide()">
                </div>
            </div>
            <div class="popup-body" style="padding: 0;">
                <ThongTinEmail :hdkh_id="hdkh_id" :khachhang_id="khachhang_id"></ThongTinEmail>
            </div>
        </div>
    </b-modal>
    <ejs-dialog
        ref='thanhtoanDialog'
        header='THANH TOÁN HỢP ĐỒNG'
        target='#app .main-wrapper'
        width='100%'
        :enableResize='true'
        :visible='false'
        :position="{ X: 'center', Y: 'top' }"
        :showCloseIcon='true'
        :open="open_thanhToanPopUp"
        :close="close_thanhToanPopUp">
        <keep-alive>
            <div class="popupComponentPayment">
                <component :is="userComponentModule"  ref='thanhToanPopUp' :ispopup="true" :magiaodich='txtMaGDTT'  v-on="popupComponentEvts" />
            </div>
        </keep-alive>
    </ejs-dialog>
    <keep-alive>
        <component :is="frmTuVanMyTVCom" ref="dialogfrmTuVanMyTV" v-on="frmTuVanMyTVEvents"/>
    </keep-alive>
    <ChonThueBao ref="refChonThueBao" :ds_tb="ds_tb" @acceptChonMaThueBao="acceptChonMaTBHandler"></ChonThueBao>
</div>
