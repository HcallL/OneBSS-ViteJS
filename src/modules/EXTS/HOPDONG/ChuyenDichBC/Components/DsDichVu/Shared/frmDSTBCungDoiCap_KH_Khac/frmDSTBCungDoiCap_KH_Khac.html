<b-modal
  ref="DSTBCungDoiCap_kh_khac"
  size="xl"
  no-close-on-backdrop
  hide-footer
  hide-header
  hide-header-close
  body-class="modal-body p-0"
  @shown="onModalShown">
  <div class="modal-content popup-box frm-ds-thuebao-cung-doicap-kh-khac" style="height: calc(100vh - 50px);">
    <div class="popup-header">
      <div class="title">Chọn mã truy nhập (Khách hàng khác)</div>
      <div
        class="close -ap icon-close"
        data-dismiss="modal"
        @click="hide">
      </div>
    </div>
    <div class="list-actions-top">
      <ul class="list">
        <li>
          <a href="javascript: void(0)" @click="tsbtnTimKiem_Click">
            <span class="icon one-search"></span>Tìm kiếm
          </a>
        </li>
        <li>
          <a href="javascript: void(0)" @click="tsbtnChapNhan_Click">
            <span class="icon ui-1_check-circle-08 nc-icon-glyph"></span>Chấp nhận
          </a>
        </li>
      </ul>
    </div>
    <div class="page-content">
      <div class="box-form">
        <div class="legend-title">
          Thông tin tra cứu
        </div>
        <div class="row">
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w90">Tra cứu theo</div>
              <div class="value">
                <div class="row">
                  <div class="col-sm-6 col-12">
                    <div class="select-custom" ref="cboDKTraCuu">
                      <SelectExt v-model="cboDKTraCuu.Value"
                                 :settings="{dropdownParent: $refs['cboDKTraCuu']}"
                                 :dataSource="cboDKTraCuu.DataSource"
                                 dataTextField="kieu_tk"
                                 dataValueField="kieutk_id"/>
                    </div>
                  </div>
                  <div class="col-sm-6 col-12">
                    <input type="text" class="form-control" v-model="txTextBoxTC">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-3 col-12">
            <div class="info-row">
              <div class="key w80">
                <div class="check-action">
                  <input type="checkbox" class="check" v-model="chkDichVuVT">
                  <span class="name">Dịch vụ</span>
                </div>
              </div>
              <div class="value">
                <div class="select-custom" ref="cboDichVuVT">
                  <SelectExt v-model="cboDichVuVT.Value"
                             :settings="{dropdownParent: $refs['cboDichVuVT']}"
                             :dataSource="cboDichVuVT.DataSource"
                             :disabled="!chkDichVuVT"
                             dataTextField="ten_dvvt"
                             dataValueField="dichvuvt_id"/>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-3 col-12">
            <div class="info-row">
              <div class="key w80">
                <div class="check-action">
                  <input type="checkbox" class="check" v-model="chkDonVi">
                  <span class="name">Đơn vị</span>
                </div>
              </div>
              <div class="value">
                <div class="select-custom" ref="cboDonVi">
                  <SelectExt v-model="cboDonVi.Value"
                             :settings="{dropdownParent: $refs['cboDonVi']}"
                             :dataSource="cboDonVi.DataSource"
                             :disabled="!chkDonVi"
                             dataTextField="ten_dv"
                             dataValueField="donvi_id"/>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w90">
                <div class="check-action">
                  <input type="checkbox" class="check" v-model="chkDK2">
                  <span class="name">Tra theo</span>
                </div>
              </div>
              <div class="value">
                <div class="row">
                  <div class="col-sm-6 col-12">
                    <div class="select-custom" ref="cboDK2">
                      <SelectExt v-model="cboDK2.Value"
                                 :settings="{dropdownParent: $refs['cboDK2']}"
                                 :dataSource="cboDK2.DataSource"
                                 :disabled="!chkDK2"
                                 dataTextField="kieu_tk"
                                 dataValueField="kieutk_id"/>
                    </div>
                  </div>
                  <div class="col-sm-6 col-12">
                    <input type="text" class="form-control" :disabled="!chkDK2"
                           v-model="txtTraCuu2">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w80">
                {{ this.label2 }}
              </div>
              <div class="value">
                <input type="text" class="form-control" v-model="txtMaKH">
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 col-12">
            <div class="info-row">
              <div class="key w90">
                <div class="check-action">
                  <input type="checkbox" class="check" v-model="chkDK3">
                  <span class="name">Tra theo</span>
                </div>
              </div>
              <div class="value">
                <div class="row">
                  <div class="col-sm-6 col-12">
                    <div class="select-custom" ref="cboDK3">
                      <SelectExt v-model="cboDK3.Value"
                                 :settings="{dropdownParent: $refs['cboDK3']}"
                                 :dataSource="cboDK3.DataSource"
                                 :disabled="!chkDK3"
                                 dataTextField="kieu_tk"
                                 dataValueField="kieutk_id"/>
                    </div>
                  </div>
                  <div class="col-sm-6 col-12">
                    <input type="text" class="form-control" :disabled="!chkDK3"
                           v-model="txtDK3">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-3 col-12">
            <div class="info-row">
              <div class="key w80">
                Số máy/Acc
              </div>
              <div class="value">
                <input type="text" class="form-control" v-model="txtMaTB">
              </div>
            </div>
          </div>
          <div class="col-sm-3 col-12">
            <div class="info-row">
              <div class="key w80">
                Số ảo
              </div>
              <div class="value">
                <input type="text" class="form-control" v-model="txtMa_lt">
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="box-form">
        <div class="legend-title">Danh sách khách hàng</div>
        <DataGrid ref="dsKhachHang"
                  class="table-result"
                  v-bind:columns="[
                        {fieldName: 'stt', headerText: 'Stt', allowFiltering: true, width: '50' },
                        {fieldName: 'ma_kh', headerText: 'Mã KH', allowFiltering: true, width: '130' },
                        {fieldName: 'makh_cu', headerText: 'Mã KH cũ', allowFiltering: true, width: '130' },
                        {fieldName: 'ma_hd', headerText: 'Mã HĐ/PL', allowFiltering: true, width: '150' },
                        {fieldName: 'ten_kh', headerText: 'Tên khách hàng', allowFiltering: true, width: '130' },
                        {fieldName: 'diachi_kh', headerText: 'Địa chỉ khách hàng', allowFiltering: true, width: '130' },
                    ]"
                  v-bind:dataSource="gridKhachHang"
                  :showFilter="true"
                  :allowPaging="true"
                  :enablePagingServer="false"
                  :panelDataHeight="'200px'"
                  @selectedRowChanged="onSelectedRowChanged_KH"></DataGrid>
      </div>
      <div class="box-form">
        <div class="legend-title">Danh sách thuê bao</div>
        <DataGrid ref="dsThueBao"
                  class="table-result"
                  v-bind:columns="[
                        {fieldName: 'ma_tb', headerText: 'Số máy/Account', allowFiltering: true, width: '150' },
                        {fieldName: 'ma_lt', headerText: 'Số ảo', allowFiltering: true, width: '130' },
                        {fieldName: 'loaihinh_tb', headerText: 'Loại hình', allowFiltering: true, width: '130' },
                        {fieldName: 'ten_tb', headerText: 'Tên thuê bao', allowFiltering: true, width: '150' },
                        {fieldName: 'diachi_ld', headerText: 'Địa chỉ lắp đặt', allowFiltering: true, width: '130' },
                        {fieldName: 'trangthai_tb', headerText: 'Trạng thái', allowFiltering: true, width: '130' },
                        {fieldName: 'matb_tn', headerText: 'Mã truy nhập', allowFiltering: true, width: '130' },
                        {fieldName: 'madoicap', headerText: 'Mã đôi cáp', allowFiltering: true, width: '130' },
                        {fieldName: 'site_id', headerText: 'Site ID', allowFiltering: true, width: '200' },
                    ]"
                  v-bind:dataSource="gridThueBao"
                  :showFilter="true"
                  :allowPaging="true"
                  :enablePagingServer="false"
                  :panelDataHeight="'100px'"
                  @selectedRowChanged="onSelectedRowChanged_TB"></DataGrid>
        <!--          <DataGrid ref="tblThueBao" v-bind:columns="gridbox.thuebao.cols"-->
        <!--                    v-bind:dataSource="gridbox.thuebao.list" :showFilter="true" @selectedRowChanged="grdThueBaoChanged" :allowPaging="true" :enablePagingServer="false" :totalRecords="gridbox.thuebao.list.length">-->
        <!--          </DataGrid>-->
        <!-- <gridview id="table3" :datalist="gridbox.thuebao.list" :headers="gridbox.thuebao.header" v-bind:flcol="false" v-bind:checkheader="false" lastcoltemplate="0" @recordChange="grdThueBaoChanged"></gridview> -->
      </div>
    </div>
  </div>
</b-modal>
