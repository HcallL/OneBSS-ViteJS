<ejs-dialog 
    :visible='false' 
    ref="popupDongBoCCDC" 
    :animationSettings="{ effect: 'Zoom' }" 
    :showCloseIcon=true
    :enableResize=true 
    :allowDragging=true 
    width='80%' 
    height="100%" 
    :isModal='true' 
    :cssClass="'popup-box'"
    zIndex=1000>
    <div>
        <div class="popup-box">
            <div class="popup-header">
                <div class="title">
                    <span class="icon nc-icon-outline business_coins"></span> Đồng bộ CCDC - QLTS
                </div>                
            </div>
            <div class="list-actions-top">
                <ul class="list">
                    <li>
                        <a @click='tsbtnLayTT'>
                            <span class="icon ui-1_check-circle-08 nc-icon-glyph"></span> Lấy TT
                        </a>
                    </li>
                    <li>
                        <a @click='tsbtnSave'>
                            <span class="icon one-search"></span> Cập Nhật CCDC
                        </a>
                    </li>
                    <li>
                        <a @click='tsbtnDongBoQLTS_Click' :class="{'disabledInput': !Enabled.tsbtnDongBoQLTS}">
                            <span class="icon one-excel"></span> Đồng bộ QLTS
                        </a>
                    </li>

                </ul>
            </div>
            <div class="popup-body">
                <div class="row">
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w90">Số phiếu</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="sophieu"
                                    disabled='true'>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w70">Ngày xuất</div>
                            <div class="value">
                                <div class="input-icon-right">
                                    <ejs-datetimepicker locale='vi' v-model="dtpNgayDK"
                                        :format="'dd/MM/y HH:mm:ss'">
                                    </ejs-datetimepicker>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w70">Xuất xứ</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="txtXuatXu" >
                            </div>
                            <div class="input-more-button">
                                <button class="btn" @click="btnXuatXu_Click">
                                    <span class="-ap icon-chevron-thin-down"></span>
                                </button>
                            </div>
                        </div>
                    </div>                  
                </div>
                <div class="nav tabs tab-over">
                    <a href="#" class="active">Danh sách vật tư</a>
                </div>
                <div class="tab-content">
                    <div class="group-buttons mart0">
                        
                        <button class="btn btn-second padt3 padb3" @click="btnChon_Click">
                            <span class="icon nc-icon-glyph ui-1_circle-add"></span> Chọn CCDC                          
                        </button>
                        <button class="btn btn-second padt3 padb3" @click="btnChonBo_Click" >
                            <span class="nc-icon-glyph ui-1_simple-remove"></span>Bỏ chọn CCDC
                        </button>
                    </div>
                    <div class="table-content">                            
                        <DataGrid class="table-result table-gachle tree-grid-2" v-bind:columns="[
                                { allowEditing: false ,fieldName: 'LOHANG', headerText: 'Lô hàng',  allowFiltering: true},
                                { allowEditing: false ,fieldName: 'MA_VT', headerText: 'Mã vật tư',  allowFiltering: true},
                                { allowEditing: false ,fieldName: 'TEN_VT', headerText: 'Tên vật tư',  allowFiltering: true},
                                { allowEditing: false ,fieldName: 'SERIAL', headerText: 'Serial',  allowFiltering: true},
                                { allowEditing: false ,fieldName: 'MA_TBI', headerText: 'Mã Tbị',  allowFiltering: true},                                
                                { allowEditing: false ,fieldName: 'SOLUONG', headerText: 'Số lượng',  allowFiltering: true, format: 'n3', type: 'number',},
                                { allowEditing: false ,fieldName: 'DONGIA', headerText: 'Đơn giá',  allowFiltering: true, format: 'n3', type: 'number', },
                                { allowEditing: false ,fieldName: 'HANG_SX', headerText: 'Hãng SX',  allowFiltering: true}, 
                                { allowEditing: false ,fieldName: 'MA_NHOM', headerText: 'Mã nhóm',  allowFiltering: true}, 
                                { allowEditing: false ,fieldName: 'GIATRI', headerText: 'Thành tiền',  allowFiltering: true, format: 'n3', type: 'number',}, 
                                { allowEditing: false ,fieldName: 'XUATXU', headerText: 'Xuất xứ',  allowFiltering: true, freeze:'Right'}, 
                                { allowEditing: false ,fieldName: 'ID_CHITIET', headerText: 'ID Chi tiết',  allowFiltering: true , freeze:'Right'},
                                {fieldName: '', headerText: 'CCDC', allowSorting:false , allowFiltering:false, cssClass: 'text-center', allowEditing:false , width: 80, template:CheckCCDC, freeze: 'Right'},
                                {fieldName: 'KEY', headerText:'', visible:false, isPrimaryKey:true}   
                                ]" 
                                v-bind:dataSource="DSVatTu" 
                                ref="DSVatTu" 
                                :showColumnCheckbox='true'
                                :showFilter="true" 
                                dataKeyField="KEY" 
                                :enabledSelectFirstRow="false"                               
                                :allowPaging="true" 
                                :enablePagingServer='false'            
                                @selectedItemsChanged = "grvDSVatTu_CheckedRow"                  
                            >
                        </DataGrid>
                    </div>

                </div>                
            </div>
        </div>
    </div>

</ejs-dialog>