<ejs-dialog
    :enableResize='true'
    :allowDragging='true'
    :visible='false'
    ref="popupChiaCuonCap"
    :animationSettings='animationSettings'
    showCloseIcon=true 
    width='80%'  
    :target='target'
    :header='"CHIA CUỘN CÁP"' 
    :open="Open"
    :close="Close">    
    <div class="">     
         <!-- Form -->
        <div class="list-actions-top">
            <ul class="list">
                <li @click="onClickXacNhan">
                    <a>
                        <span class="icon files_archive-3d-check nc-icon-glyph"></span> Xác nhận
                    </a>
                </li>
            </ul>
        </div>
        <div class="popup-body" >
                
           
            <div class="box-form">
                
                <div class="box-move-select-table">
                    <div class="box-col">
                        <div class="legend-title mart10">
                            <div class="pull-left padt5">
                                Danh sách vật tư của đơn hàng
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="table-content">                       
                            <DataGrid3 ref="gridVatTuDonHang" class="table-result table-gachle" v-bind:columns="[
                                {fieldName: 'MA_VT', headerText: 'Mã vật tư', allowFiltering: true },
                                {fieldName: 'TEN_VT', headerText: 'Tên vật tư', allowFiltering: true },  
                                {fieldName: 'DVI_TINH', headerText: 'ĐVT', allowFiltering: true},     
                                {fieldName: 'SL_XUAT', headerText: 'Cuộn cáp', allowFiltering: true , allowEditing:true },     
                                {fieldName: 'MA_VT', headerText:'', visible:false, isPrimaryKey:true}     
                                ]" 
                                :dataSource="DSVTDonHang" 
                                :showFilter="true" 
                                dataKeyField="MA_VT"
                                :allowPaging="true"
                                :enablePagingServer="false"
                                @selectedRowChanged=""   
                                :editSettings='editSettings'
                                :selectionSettings="{enableToggle: false}"
                                @cellSaved="editGridVatTuDonHang"                         
                                >
                            </DataGrid3>
  
                        </div>               
                    </div>
                    <div class="actions">
                      
                    </div>
                    <div class="box-col">
                        <div class="legend-title mart10">
                            <div class="pull-left padt5">
                                Danh sách vật tư xuất đăng ký
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="table-content">                      

                            <DataGrid3 ref="gridVatTuDangKy" class="table-result table-gachle" v-bind:columns="[
                                {fieldName: 'TEN_KHO', headerText: 'Kho', allowFiltering: true },
                                {fieldName: 'TEN_VT', headerText: 'Tên vật tư', allowFiltering: true },  
                                {fieldName: 'SOLUONG_GROUP', headerText: 'Số lượng', allowFiltering: true , allowEditing:true},     
                                {fieldName: 'SL_KD', headerText: 'Số lượng KD', allowFiltering: true },     
                                {fieldName: 'VTDK_ID', headerText:'', visible:false, isPrimaryKey:true}   
                                ]" 
                                :dataSource="DSVTDangKy"                          
                                :showFilter="true" 
                                dataKeyField="VTDK_ID"
                                :allowPaging="true"
                                :enablePagingServer="false"
                                @selectedRowChanged=""   
                                :editSettings='editSettings'
                                :selectionSettings="{enableToggle: false}"
                                @cellSaved="editGridVatTuDangKy"                          
                                >
                            </DataGrid3>
                        </div>                             
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</ejs-dialog>


