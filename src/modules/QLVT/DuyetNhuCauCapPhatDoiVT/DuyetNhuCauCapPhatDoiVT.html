<div>
    <!-- <breadcrumb :header="header" /> -->
    <div class="list-actions-top">
        <ul class="list">
            <li @click="btnLayTT_Click">
                <a>
                    <span class="icon one-file-attach"></span>Lấy TT
                </a>
            </li>
            <li v-if="visible.tsbtnGiaoPhieu" @click="tsbtnGiaoPhieu_Click">
                <a>
                    <span class="icon one-user-add"></span>{{Text.tsbtnGiaoPhieu}}
                </a>
            </li>
            <li v-if="visible.tsbtnTraLai" @click="tsbtnTraLai_Click">
                <a>
                    <span class="icon one-file-back"></span>Trả phiếu
                </a>
            </li>
            <li v-if="visible.btnHuyBo" @click="btnHuyBo_Click">
                <a>
                    <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Hủy phiếu
                </a>
            </li>
            <li v-if="visible.tsbtnNhapKho" @click="tsbtnNhapKho_Click">
                <a>
                    <span class="icon one-file-back"></span>{{Text.tsbtnNhapKho}}
                </a>
            </li>
            <li v-if="visible.tsbtnHoanThanh" @click="tsbtnHoanThanh_Click">
                <a>
                    <span class="icon one-file-back"></span>Hoàn thành
                </a>
            </li>
            <li v-if="visible.tsbtnHuyTT" @click="tsbtnHuyTT_Click">
                <a>
                    <span class="icon one-file-back"></span>Hủy trạng thái
                </a>
            </li>
            <li v-if="visible.tsbtnThemVT" :class="{'disabled': !enable.tsbtnThemVT}" @click="tsbtnThemVT_Click">
                <a>
                    <span class="icon one-file-back"></span>Lấy VT
                </a>
            </li>
            <li v-if="visible.tsbtnXacNhan" :class="{'disabled': !enable.tsbtnXacNhan}" @click="tsbtnXacNhan_Click">
                <a>
                    <span class="icon one-file-back"></span>Xác nhận
                </a>
            </li>
            <li v-if="visible.btnHuyXN" :class="{'disabled': !enable.btnHuyXN}" @click="btnHuyXN_Click">
                <a>
                    <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Hủy bỏ
                </a>
            </li>

            <li class="dropdown">
                <a href="javascript: void(0)" data-toggle="dropdown">
                    <!-- :class="{'disabled': }" -->
                    <span class="icon  one-print"></span> In phiếu <span class="fa fa-angle-down text-desc"></span>
                </a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="javascript: void(0)" @click="mniInThang_Click">
                            In phiếu tổng hợp theo tháng
                        </a>
                    </li>
                    <li>
                        <a href="javascript: void(0)" @click="inDanhSachToolStripMenuItem_Click">
                            In danh sách phiếu duyệt đăng ký
                        </a>
                    </li>
                    <li>
                        <a href="javascript: void(0)" @click="tsbtnInPhieuduyetDK_Click">
                            In phiếu duyệt đăng ký
                        </a>
                    </li>
                    <li>
                        <a href="javascript: void(0)" @click="inPhieuXuatDuyetDangKyToolStripMenuItem_Click">
                            In phiếu xuất duyệt đăng ký
                        </a>
                    </li>
                </ul>
            </li>
            <li class="dropdown">
                <a href="javascript: void(0)" data-toggle="dropdown">
                    <!-- :class="{'disabled': }" -->
                    <span class="icon  one-print"></span> Xuất phiếu excel <span
                        class="fa fa-angle-down text-desc"></span>
                </a>
                <ul class="dropdown-menu">
                    <!-- <li>
                        <a href="javascript: void(0)" @click="mniInThang_Click" >
                        Xuất phiếu tổng hợp theo tháng
                        </a>
                    </li> -->
                    <li>
                        <a href="javascript: void(0)" @click="XuatDanhSachToolStripMenuItem_Click">
                            Xuất danh sách phiếu duyệt đăng ký
                        </a>
                    </li>
                    <!-- <li>
                        <a href="javascript: void(0)" @click="tsbtnInPhieuduyetDK_Click" >
                            Xuất phiếu duyệt đăng ký
                        </a>
                    </li>
                    <li>
                        <a href="javascript: void(0)" @click="inPhieuXuatDuyetDangKyToolStripMenuItem_Click" >
                            Xuất phiếu xuất duyệt đăng ký
                        </a>
                    </li> -->
                </ul>
            </li>
            <li v-if="visible.tsbtnBoSungVT" @click="tsbtnBoSungVT_Click">
                <a>
                    <span class="icon one-coin-add"></span>{{Text.tsbtnBoSungVT}}
                </a>
            </li>
            <li v-if="visible.tsbtnTongHop" @click="tsbtnTongHop_Click">
                <a>
                    <span class="icon one-file-pin"></span>Tổng hợp ĐK
                </a>
            </li>
            <li @click='tsbtnExcel_Click'>
                <a>
                    <span class="icon one-xlsx-import"></span>Xuất Excel
                </a>
            </li>
            <ejs-dialog :visible='false' ref="popup_frmNhapText" :animationSettings="{ effect: 'Zoom' }"
                :showCloseIcon=false :closeOnEscape='true' :enableResize='true' :allowDragging='true' width='30%'
                :isModal='true' :cssClass="'popup-box'" :zIndex='900'>
                <frmNhapText ref="frmNhapText"></frmNhapText>
            </ejs-dialog>
            <DotTongHop ref='frmDotTongHop' />

        </ul>
    </div>
    <div class="page-content">
        <div class="grid-stack-box" style="display: -webkit-box !important;">
            <Split :gutterSize="20">
                <SplitArea :size="40" :minSize="300">
                    <div class="box-col box-form" id="boxLeft">
                        <div class="legend-title">
                            <span class="fa fa-angle-left icon"></span> Các thông tin về đăng ký
                        </div>
                        <div class="title-bg-main">
                            <span class="title">Thông tin tìm kiếm</span>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">Đơn vị giao</div>
                                    <div class="value">
                                        <div class="select-custom">
                                            <ejs-dropdownlist ref="cboDVGiao" class="form-control"
                                                v-model="params.p_DVGIAO" :dataSource='cboDVGIAO'
                                                :fields="{value:'donViId', text: 'tenDonVi'}" :allowFiltering="true"
                                                @select='cboDVGIAO_EditValueChanged' popupWidth="500px">
                                            </ejs-dropdownlist>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        <div class="check-action">
                                            <input type="checkbox" class="check" v-model="params.p_ckb_vattu">
                                            <span class="name">Vật tư ĐK</span>
                                        </div>
                                    </div>
                                    <div class="input-group">

                                        <ejs-multiselect ref="cboVatTu" locale='vi' placeholder="Chọn vật tư"
                                            v-model="params.p_dsvattu" :showDropDownIcon='true' :dataSource='cboDSVT'
                                            :showSelectAll='true' :mode="'CheckBox'" :selectAllText="'Tất cả'"
                                            :fields='fieldsCheckBox.vatTu' :filtering='onFilteringVatTu'
                                            :allowFiltering="true" popupWidth="500px">
                                        </ejs-multiselect>

                                        <div class="input-addon">
                                            <button class="btn" @click="txtMaGD_Properties_ButtonClick">
                                                <span class="nc-icon-outline arrows-1_refresh-69"></span>
                                            </button>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        <div class="check-action">
                                            <input type="checkbox" class="check" v-model="params.p_ckb_thangdk">
                                            <span class="name">Tháng ĐK từ</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <div class="input-icon-right">
                                            <!-- <input type="text" class="form-control">
                                            <span class="icon one-calendar"></span> -->
                                            <ejs-datepicker v-model="params.p_thangdk" :format="'MM/y'">
                                            </ejs-datepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Đến tháng
                                    </div>
                                    <div class="value">
                                        <div class="input-icon-right">
                                            <!-- <input type="text" class="form-control">
                                            <span class="icon one-calendar"></span> -->
                                            <ejs-datepicker v-model="params.p_denthang" :format="'MM/y'">
                                            </ejs-datepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        <div class="check-action">
                                            <input type="checkbox" class="check" v-model="params.p_ckb_tungay">
                                            <span class="name">Ngày YC từ</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <div class="input-icon-right">
                                            <!-- <input type="text" class="form-control">
                                            <span class="icon one-calendar"></span> -->
                                            <ejs-datepicker v-model="params.p_tungay" :format="'dd/MM/y'">
                                            </ejs-datepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Đến ngày
                                    </div>
                                    <div class="value">
                                        <div class="input-icon-right">
                                            <!-- <input type="text" class="form-control">
                                            <span class="icon one-calendar"></span> -->
                                            <ejs-datepicker v-model="params.p_denngay" :format="'dd/MM/y'">
                                            </ejs-datepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        <div class="check-action">
                                            <input type="checkbox" class="check" v-model="params.p_ckb_ngayduyettu">
                                            <span class="name">Ngày duyệt</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <div class="input-icon-right">
                                            <!-- <input type="text" class="form-control">
                                            <span class="icon one-calendar"></span> -->
                                            <ejs-datepicker v-model="params.p_ngayduyettu" :format="'dd/MM/y'">
                                            </ejs-datepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Ngày duyệt đến
                                    </div>
                                    <div class="value">
                                        <div class="input-icon-right">
                                            <!-- <input type="text" class="form-control">
                                            <span class="icon one-calendar"></span> -->
                                            <ejs-datepicker v-model="params.p_ngayduyetden" :format="'dd/MM/y'">
                                            </ejs-datepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Trạng thái duyệt
                                    </div>
                                    <div class="value">
                                        <div class="select-custom">
                                            <ejs-dropdownlist class="form-control" v-model="params.p_trangthai"
                                                :dataSource='cboTrangThai'
                                                :fields="{value:'TRANGTHAI_ID', text: 'TRANGTHAI'}"
                                                :allowFiltering="true" @change='cboTrangThai_EditValueChanged'>
                                            </ejs-dropdownlist>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Trạng thái xử lý
                                    </div>
                                    <div class="value">
                                        <div class="select-custom">
                                            <select name="" id="" class="form-control"
                                                @change="cboXuLy_EditValueChanged" v-model="params.p_xuly">
                                                <option v-for="e in cboXuLy" v-bind:value="e.TRANGTHAI_ID">
                                                    {{e.TRANGTHAI_XL}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="title-bg-main">
                            <span class="title">Thông tin đăng ký</span>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Ngày yêu cầu
                                    </div>
                                    <div class="value">
                                        <input ref="txtNgayYC" type="text" class="form-control"
                                            v-model="params.p_txtngayyc">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Thời gian
                                    </div>
                                    <div class="value">
                                        <input type="text" class="form-control" v-model="params.p_txtthoigiandk">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Số công văn
                                    </div>
                                    <div class="value">
                                        <input type="text" class="form-control" v-model="params.p_txtsocv">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Dự án
                                    </div>
                                    <div class="value">
                                        <input type="text" class="form-control" v-model="params.p_txtduan">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Đơn vị ĐK
                                    </div>
                                    <div class="value">
                                        <!-- <input type="text" class="form-control" v-model="params.p_txtdonvidk"> -->
                                        <textarea class="form-control" style="height: 50px;resize: none;"
                                            v-model="params.p_txtdonvidk"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Kho
                                    </div>
                                    <div class="value">
                                        <!-- <input type="text" class="form-control" v-model="params.p_txtkho"> -->
                                        <textarea class="form-control" style="height: 50px;resize: none;"
                                            v-model="params.p_txtkho"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        Ghi chú
                                    </div>
                                    <div class="value">
                                        <textarea class="form-control" style="height: 100px;resize: none;"
                                            v-model="params.p_txtghichu"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w110">
                                        File CV
                                    </div>
                                    <div class="value">
                                        <div class="file-canvas form-control" style="height: 100px"
                                            v-if="grcFileCV.length">
                                            <div v-for="item in grcFileCV">
                                                <button class="btn btn-main" @click="btnDowload_ButtonClick(item)">
                                                    <span class="one-download">{{item.colFileName}}</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </SplitArea>
                <SplitArea :size="60" :minSize="300">
                    <div class="box-col box-form" id="boxRight">
                        <div class="nav tabs tab-over">
                            <a href="#tab1" data-toggle="tab" class="active">Danh sách đăng ký</a>
                            <a href="#tab2" data-toggle="tab" @click="renderDSChungTu">Danh sách chứng từ</a>
                        </div>

                        <div class="tab-content">
                            <div class="tab-pane active" id="tab1">
                                <div class="table-content relative">
                                    <DataGrid v-bind:columns="[
                                        {fieldName: 'SO_VB', headerText: 'Số VB', textAlign: 'Left', allowFiltering: true, freeze: 'Left', width: '130'},
                                        {fieldName: 'MAPHIEU_DK', headerText: 'Mã ĐK', textAlign: 'Left', allowFiltering: true },
                                        {fieldName: 'TEN_DV', headerText: 'Đơn vị ĐK', textAlign: 'Left', allowFiltering: true },
                                        {fieldName: 'SO_CV', headerText: 'Số công văn', textAlign: 'Left', allowFiltering: true, width: '140'},
                                        {fieldName: 'GHICHU', headerText: 'Ghi chú', textAlign: 'Left', allowFiltering: true},
                                        {fieldName: 'TEN_TG', headerText: 'Thời gian ĐK', textAlign: 'Left', allowFiltering: true},
                                        {fieldName: 'MA_CT', headerText: 'Dự án', textAlign: 'Left', allowFiltering: true , width: '120'},
                                        {fieldName: 'TEN_CT', headerText: 'Công trình', textAlign: 'Left',  allowFiltering: true , width: '120'},
                                        {fieldName: 'NGAY_DK', headerText: 'Ngày yêu cầu', textAlign: 'Right', allowFiltering: true, width: '150'},
                                        {fieldName: 'DOT', headerText: 'Đợt', textAlign: 'Left', allowFiltering: true, width: '80'},
                                        {fieldName: 'CONLAI', headerText: 'Số tháng ĐK', textAlign: 'Right', allowFiltering: true, width: '120'},
                                        {fieldName: 'SODANGKY', headerText: 'SL đăng ký', textAlign: 'Right', allowFiltering: true , width: '120'},
                                        {fieldName: 'NHOM', headerText: 'Nhóm', textAlign: 'Left', allowFiltering: true , width: '120'},                                
                                        {fieldName: 'MA_TH', headerText: 'Mã TH', textAlign: 'Left', allowFiltering: true},
                                        {fieldName: 'TEN_KHO', headerText: 'Kho đăng ký', textAlign: 'Left', allowFiltering: true},
                                        {fieldName: 'TEN_NV', headerText: 'Người nhận', textAlign: 'Left', allowFiltering: true},
                                        {fieldName: 'SO_DT', headerText: 'Số ĐT', textAlign: 'Left', allowFiltering: true, width: '100' },
                                        {fieldName: 'NGAYNOP', headerText: 'Ngày nộp', textAlign: 'Right', allowFiltering: true,width: '150' },
        
                                        {fieldName: 'NGUOIDUYET', headerText: 'Người duyệt', textAlign: 'Left', allowFiltering: true, visible: visible.colNguoiDuyet},
                                        {fieldName: 'NGAYDUYET', headerText: 'Ngày duyệt', textAlign: 'Left', allowFiltering: true, visible: visible.colNgayDuyet, width: '150'},
                                        {fieldName: 'TRANGTHAI_VT', headerText: 'Trạng thái VT', textAlign: 'Left', allowFiltering: true, visible: visible.grvDSDangKy.TRANGTHAI_VT, freeze: 'Right', width: '150'},
                                        ]" v-bind:dataSource="grcDSDangKy" :showFilter="true" :allowPaging="true"
                                        :allowExcelExport="true" :showColumnCheckbox='true'
                                        :enabledSelectFirstRow="true" :enablePagingServer='false' ref="grvDSDangKy"
                                        @selectedRowChanged="grvDSDangKy_FocusedRowChanged"
                                        :selectionSettings="{ checkboxMode: 'ResetOnRowClick'}">
                                    </DataGrid>
                                    <!-- @rowDataBound='dataBound' -->
                                </div>

                            </div>
                            <div class="tab-pane" id="tab2">
                                <div class="table-content relative">
                                    <div class="info-row">
                                        <div class="key w90 nowrap">Kiểu thực hiện</div>
                                        <div class="value">
                                            <div class="select-custom">
                                                <!-- <select name="" id="" class="form-control">
                                                    <option value=""></option>
                                                </select> -->
                                                <ejs-dropdownlist class="form-control" v-model="params.p_KieuTH"
                                                    :dataSource='cboKieuTH' :fields="{value:'ID', text: 'NOIDUNG'}"
                                                    :allowFiltering="true" @select='cboKieuTH_EditValueChanged'>
                                                </ejs-dropdownlist>
                                            </div>
                                        </div>
                                        <div class="ml-3 right" @click="btnGiaHanGiuCho_Click">
                                            <button class="btn btn-main">
                                                <span class="icon one-file-arrow-up">Gia hạn giữ chỗ</span>
                                            </button>
                                        </div>
                                    </div>
                                    <div>
                                        <DataGrid v-bind:columns="grcDSChungTu_Columns" v-bind:dataSource="grcDSChungTu"
                                            ref="grvDSChungTu" :showColumnCheckbox='false' :showFilter="true"
                                            :editSettings="{ allowEditing: true , mode:'Batch'}" :allowPaging="true"
                                            :enablePagingServer='false'
                                            @selectedRowChanged="grvDSChungTu_FocusedRowChanged">
                                        </DataGrid>

                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                </SplitArea>
            </Split>
        </div>
        <div class="grid-stack-box" style="display: -webkit-box !important;">
            <div class="box-col box-form" id="boxLeft1">
                <div class="nav tabs tab-over">
                    <a href="#tab3" data-toggle="tab" :class="{ active: active.tab3 }" @click='clickTab(3)'
                        v-if="visible.xtraTabPage1">Danh sách chi tiết đăng ký</a>
                    <a href="#tab4" data-toggle="tab" :class="{ active: active.tab4 }" @click='clickTab(4)'
                        v-if="visible.xtraTabPage2">Danh sách tồn kho</a>
                    <a href="#tab5" data-toggle="tab" :class="{ active: active.tab5 }" @click='clickTab(5)'>Danh sách
                        chi tiết vật tư</a>
                </div>
                <div class="tab-content">
                    <div class="tab-pane " id="tab3" :class="{ active: active.tab3 }" v-if="visible.xtraTabPage1">
                        <div class="grid-stack-box">
                            <Split :gutterSize="20">
                                <SplitArea :size="50" :minSize="500">
                                    <div class="box-col box-form">
                                        <DataGrid v-bind:columns="[
                                            {fieldName: 'ISCHECK', headerText: '', allowSorting:false , allowFiltering:false, textAlign:'Center', allowEditing:false , width: 40, headerTemplate:CheckboxAllCT ,template:CheckboxCT, freeze: 'Left'},
                                            { allowEditing: false ,fieldName: 'MA_VT', headerText: 'Mã vật tư', textAlign: 'Left', allowFiltering: true , freeze: 'Left', width: '130'},
                                            { allowEditing: false ,fieldName: 'TEN_VT', headerText: 'Tên vật tư', textAlign: 'Left', allowFiltering: true , freeze: 'Left' , width: '200'},                                
                                            { allowEditing: false ,fieldName: 'DVI_TINH', headerText: 'ĐVT', textAlign: 'Left', allowFiltering: true , width: '80'},                        
                                            { allowEditing: false ,fieldName: 'SL_TON_DK', headerText: 'SL Tồn ĐK', textAlign: 'Right',  allowFiltering: true , width: '120'},
                                            { allowEditing: false ,fieldName: 'SOLUONG', headerText: 'Số lượng ĐK', textAlign: 'Right', allowFiltering: true , width: '120'},
                                            { allowEditing: true, fieldName: 'SL_DUYET', headerText: 'SL Duyệt', textAlign: 'Right', allowFiltering: true, type:'number' , format:'N0', editType: 'numericedit' , width: '100'},
                                            { allowEditing: false  ,fieldName: 'SL_CAP', headerText: 'SL cấp', textAlign: 'Right', allowFiltering: true, width: '100' },
                                            { allowEditing: false ,fieldName: 'SL_CHUYEN', headerText: 'SL chuyển', textAlign: 'Right', visible: false,  allowFiltering: true , width: '100'},
                                    
                                            { allowEditing: false ,fieldName: 'SL_CL', headerText: 'SL còn lại', textAlign: 'Right',visible: true, allowFiltering: true, width: '120'},
                                            { allowEditing: allowEditGhiChu ,fieldName: 'GHICHU', headerText: 'Ghi chú', textAlign: 'Left', allowFiltering: true , width: '150'},
                                            { allowEditing: true ,fieldName: 'LYDO_DUYET', headerText: 'Lý do duyệt', textAlign: 'Left', allowFiltering: true , width: '150'},
                                            { allowEditing: false ,fieldName: 'MUCDICH', headerText: 'Mục đích', textAlign: 'Left', allowFiltering: true, width: '150'},
                                            { allowEditing: false ,fieldName: 'btnDel', headerText: 'Xóa Sr', textAlign: 'Left', allowFiltering: true,width: '100', template:btnDelTemplate },
                                            { fieldName: 'VTDK_ID', visible: false, isPrimaryKey:true}
                                            ]" v-bind:dataSource="grcDSVatTu_DaDK" ref="grvDSVatTu_DaDK"
                                            :showColumnCheckbox='false' :enabledSelectFirstRow="false"
                                            dataKeyField="VTDK_ID" :showFilter="true"
                                            :editSettings="{ allowEditing: true , mode:'Batch'}" :allowPaging="true"
                                            :enablePagingServer='false' @recordClick='grvDSVatTu_DaDK_FocusedRowChanged'
                                            @cellSaved="edit_grcDSVatTu_DaDK"
                                            :selectionSettings="{ type: 'Single', checkboxMode: 'ResetOnRowClick'}">
                                        </DataGrid>
                                        <!-- @rowDataBound='dataBoundDSVatTu' -->
                                    </div>
                                </SplitArea>
                                <SplitArea :size="50" :minSize="500">
                                    <div class="box-col box-form" id="boxRight1">
                                        <div v-show="visible.splDSVT == 'Panel1'">
                                            <div class="row" v-if="tagFrm != 4">
                                                <div class="col-sm-4 col-12">
                                                    <div class="info-row">
                                                        <div class="key w30 nowrap">
                                                            <div class="check-action">
                                                                <input type="checkbox" class="check"
                                                                    v-model="params.p_ckbFindAll"
                                                                    @change='ckbFindAll_CheckedChanged'>
                                                                <span class="name">Kho giao</span>
                                                            </div>
                                                        </div>
                                                        <div class="value">
                                                            <div class="select-custom">
                                                                <ejs-dropdownlist ref="cboKhoGiao" class="form-control"
                                                                    v-model="params.p_khogiao_CTDK"
                                                                    :dataSource='cboKhoGiao'
                                                                    :fields="{value:'KHO_ID', text: 'TEN_KHO'}"
                                                                    :allowFiltering="true"
                                                                    @change='cboKhoGiao_EditValueChanged'
                                                                    popupWidth="500px"
                                                                    :close='onClose' :created='onDropdownCreate'
                                                                    :enabled="enable.cboKhoGiao">
                                                                </ejs-dropdownlist>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-3 col-12">
                                                    <div class="info-row">
                                                        <div class="key w30 nowrap">
                                                            <div class="check-action">
                                                                <input type="checkbox" class="check"
                                                                    v-model="params.p_ckbGiuCho"
                                                                    :disabled='readonly.ckbGiuCho'
                                                                    @change='ckbGiuCho_CheckedChanged'>
                                                                <span class="name">Số ngày giữ</span>
                                                            </div>
                                                        </div>
                                                        <div class="value">
                                                            <div>
                                                                <input class="form-control" type="number"
                                                                    v-model="params.p_spNgayGiu"
                                                                    :disabled='!enable.spNgayGiu'>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-5 col-12">
                                                    <div class="info-row">
                                                        <div class="key w30 nowrap">
                                                            Kho đến
                                                        </div>
                                                        <div class="value">
                                                            <div class="select-custom">
                                                                <ejs-dropdownlist ref="cboKhoDen" class="form-control"
                                                                    v-model="params.p_KhoDatDen"
                                                                    :dataSource='cboKhoDatDen'
                                                                    :fields="{value:'khoId', text: 'tenKho'}"
                                                                    :allowFiltering="true"
                                                                    popupWidth="500px"
                                                                    :enabled='enable.cboKhoDatDen'>
                                                                </ejs-dropdownlist>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row" v-else>
                                                <div class="col-sm-4 col-12">
                                                    <div class="info-row">
                                                        <div class="key w30 nowrap">
                                                            <span class="name">Tỉnh thành</span>
                                                        </div>
                                                        <div class="value">
                                                            <div class="select-custom">
                                                                <ejs-dropdownlist ref="cboKhoGiao" class="form-control"
                                                                    v-model="params.tinhDangKy"
                                                                    :dataSource='DSTinh'
                                                                    :fields="{value:'tinh_id', text: 'tentinh'}"
                                                                    :allowFiltering="true"
                                                                    @change='cboKhoGiao_EditValueChanged'
                                                                    popupWidth="500px"
                                                                    :close='onClose' :created='onDropdownCreate'
                                                                >
                                                                </ejs-dropdownlist>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-3 col-12">
                                                    <div class="info-row">
                                                        <div class="key w30 nowrap">
                                                            <div class="check-action">
                                                                <input type="checkbox" class="check"
                                                                    v-model="params.p_ckbGiuCho"
                                                                    :disabled='readonly.ckbGiuCho'
                                                                    @change='ckbGiuCho_CheckedChanged'>
                                                                <span class="name">Số ngày giữ</span>
                                                            </div>
                                                        </div>
                                                        <div class="value">
                                                            <div>
                                                                <input class="form-control" type="number"
                                                                    v-model="params.p_spNgayGiu"
                                                                    :disabled='!enable.spNgayGiu'>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                               
                                            </div>
                                            <b-form-file id="fileUpload" v-model="arrayImportFile.filexcel"
                                                ref="fileUpload" @change="this.onChange" accept=".xls, .xlsx"
                                                class="-ap icon-more_horiz hidden" plain>
                                            </b-form-file>
                                            <div class="table-content">

                                                <div class="group-buttons mart0" v-if="isShowDatCho">
                                                    <button class="btn btn-second padt3 padb3"
                                                        @click="tsbtnDatCho_Click">
                                                        <span
                                                            class="one-xlsx-import f20 normal inline vcenter lh14 marr5"></span>
                                                        Đặt chổ
                                                    </button>
                                                    <button class="btn btn-second padt3 padb3"
                                                        @click="DatChoTheoFile_Click">
                                                        <span class="icon one-xlsx1 f20 inline vcenter"></span>Đặt chỗ
                                                        từ file
                                                    </button>
                                                </div>
                                                <DataGrid v-bind:columns="[
                                            { allowEditing: false , fieldName: 'CHON', headerText: 'CHON', textAlign: 'Left', allowFiltering: true,visible: false, freeze: 'Left'},
                                            { allowEditing: false , fieldName: 'LOHANG', headerText: 'Lô hàng', textAlign: 'Left', allowFiltering: true, isPrimaryKey: true},
                                            { allowEditing: false , fieldName: 'KHO', headerText: 'Kho', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'MA_VT', headerText: 'Mã vật tư', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'TEN_VT', headerText: 'Tên vật tư', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'SOLUONG', headerText: 'SL tồn', textAlign: 'Right', allowFiltering: true},
                                            { allowEditing: true , fieldName: 'SL_XUAT', headerText: 'SL xuất', textAlign: 'Right', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'DONGIA', headerText: 'Đơn giá', textAlign: 'Right',  allowFiltering: true},
                                            { allowEditing: false , fieldName: 'CHATLUONG', headerText: 'Chất lượng', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'SO_HD', headerText: 'Số HĐ', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'MA_DUAN', headerText: 'Mã DA', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'ID_NHAPGOC', headerText: 'Id nhập gốc', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'NGUOI_QL', headerText: 'Người QL', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'DIENGIAI', headerText: 'Diễn giải', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'NOIDUNG', headerText: 'Nội dung', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'GHICHU', headerText: 'Ghi chú', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'MAKHOTD_TEXT', headerText: 'Mã kho TD', textAlign: 'Left', allowFiltering: true},
                                            { allowEditing: false , fieldName: 'LOAIKHO_TEXT', headerText: 'Loại kho', textAlign: 'Left', allowFiltering: true},                           
                                            { allowEditing: false , fieldName: 'CHATLUONG_ID', headerText: 'Chất lượng', textAlign: 'Left', allowFiltering: true, visible: visible.colChatLuongID},
                                            { allowEditing: false , fieldName: 'DONGTBI_ID', headerText: 'Dòng TB', textAlign: 'Left', allowFiltering: true, visible: visible.colDongTbi},
                                            { allowEditing: false , fieldName: 'HETHONG_ID', headerText: 'Hệ thống', textAlign: 'Left', allowFiltering: true, visible: visible.colHeThong},
                                            { allowEditing: false , fieldName: 'LINHVUC_ID', headerText: 'Lĩnh vực', textAlign: 'Left', allowFiltering: true, visible: visible.colLinhVucID},
                                            { allowEditing: false , fieldName: 'PART_NUMBER', headerText: 'Part number', textAlign: 'Left', allowFiltering: true, visible: visible.colPartN},
                                            { allowEditing: false , fieldName: 'NGAYNHAP', headerText: 'Ngày nhập', textAlign: 'Right', allowFiltering: true, visible: visible.colNgayNhap},
                                            { allowEditing: false , fieldName: 'MOTA_CT', headerText: 'Mô tả ct', textAlign: 'Left', allowFiltering: true, visible: visible.colMotaCT},                            
                                            ]" v-bind:dataSource="grcTonKho" :showFilter="true" :allowPaging="true"
                                                    :allowExcelExport="true" :showColumnCheckbox='true'
                                                    :enablePagingServer='false'
                                                    :editSettings="{ allowEditing: true , mode:'Batch'}" ref="grvTonKho"
                                                    @cellSaved="grvTonKho_CellValueChanged">
                                                    <!-- :totalRecords="grcTonKhoPage.totalElement"
                                            :pageSize="grcTonKhoPage.maxSize"
                                            :pageIndex="grcTonKhoPage.page"
                                            @pageChanged="grcTonKhoPageHandler" 
                                        { allowEditing: false ,fieldName: 'THAOTAC', headerText: 'Thao tác', textAlign: 'Left', allowFiltering: true, freeze: 'Right',width: '160',template: ThaoTacTemplate},-->
                                                </DataGrid>
                                            </div>
                                        </div>
                                        <div v-show="visible.splDSVT == 'Both'">
                                            <div class="info-row d-flex">
                                                <div class="key red w90 nowrap">
                                                    Mục đích ĐK
                                                </div>
                                                <div class="value flex-grow-1">
                                                    <div class="select-custom">
                                                        <ejs-dropdownlist class="form-control"
                                                            v-model="params.p_MucDich" :dataSource='cbo_MucDich'
                                                            :fields="{value:'mucDichId', text: 'mucDich'}"
                                                            :allowFiltering="true" ref="cbo_MucDich">
                                                        </ejs-dropdownlist>
                                                    </div>
                                                </div>
                                                <div class="ml-3">
                                                    <button class="btn btn-main" @click="btnDoiMucDich_Click">
                                                        <span class="nc-icon-outline arrows-1_refresh-69">Đổi mục
                                                            đích</span>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="info-row">
                                                <div class="key red w90 nowrap">
                                                    Vật tư
                                                </div>
                                                <div class="value">
                                                    <div class="select-custom">
                                                        <div class="vattu_box">
                                                            <div class="input-group">
                                                                <div class="li input-text">
                                                                    <div class="select-custom">
                                                                        <input type="select" v-model="selectedLocVT"
                                                                            class="form-control" readonly
                                                                            @click="showLocVT = !showLocVT"
                                                                            style="background-color: white;">
                                                                        </input>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="vattu_table w-100" v-show="showLocVT">
                                                                <DataGrid v-bind:columns="[
                                                        {fieldName: 'MA_VT', headerText: 'Mã vật tư', allowFiltering: true, allowSorting: false, width: '30%'},
                                                        {fieldName: 'TEN_VT', headerText: 'Tên vật tư', allowFiltering: true, allowSorting: false, width: '70%'}
                                                        ]" v-bind:dataSource="cboTimKiem" ref="TableLocVT"
                                                                    :showColumnCheckbox='false' :showFilter="true"
                                                                    :enabledSelectFirstRow="false" :allowPaging="true"
                                                                    :enablePagingServer='false'
                                                                    :selectionSettings="{enableToggle: false}"
                                                                    @selectedRowChanged="cboTimKiem_EditValueChanged">
                                                                </DataGrid>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="table-content">
                                                <ejs-treegrid :dataSource='tvVatTu' childMapping='children'
                                                    locale="vi-VN" :allowPaging='true' :pageSettings='pageSettings'
                                                    enableCollapseAll='false' :allowResizing='true'
                                                    :allowFiltering='false' :allowSorting='true'
                                                    :autoCheckHierarchy='true' height='300' ref='Tree_tvVatTu'
                                                    :editSettings="{ allowEditing: true , mode:'Batch'}"
                                                    @cellSaved='edit_tvVatTu'
                                                    @selectedRowChanged="cboTimKiem_EditValueChanged">

                                                    <e-columns>
                                                        <e-column :allowEditing='false' field='ISCHECK' type='checkbox'
                                                            headerText='' width='60' textAlign='Center'
                                                            headerTextAlign='Center'>
                                                        </e-column>
                                                        <e-column :allowEditing='false' field='TEN_VT'
                                                            headerText='Tên vật tư' textAlign='Left'
                                                            headerTextAlign='Center'></e-column>
                                                        <e-column :allowEditing='false' field='MA_VT'
                                                            headerText='Mã vật tư' textAlign='Left'
                                                            headerTextAlign='Center'></e-column>
                                                        <e-column :allowEditing='false' field='DVI_TINH'
                                                            headerText='ĐVT' textAlign='Left' headerTextAlign='Center'>
                                                        </e-column>
                                                        <e-column :allowEditing='false' field='SL_TON'
                                                            headerText='SL Tồn' textAlign='Right'
                                                            headerTextAlign='Center'></e-column>
                                                        <e-column :allowEditing='true' field='GHICHU'
                                                            headerText='Ghi chú' textAlign='Left'
                                                            headerTextAlign='Center'></e-column>
                                                        <e-column :allowEditing='true' field='SOLUONG'
                                                            headerText='Số lượng' textAlign='Right'
                                                            headerTextAlign='Center' editType='numericedit'>
                                                        </e-column>
                                                        <e-column field='VATTU_ID' headerText='VATTU_ID'
                                                            :visible='false' :isPrimaryKey='true'>
                                                        </e-column>
                                                    </e-columns>
                                                </ejs-treegrid>
                                            </div>
                                        </div>

                                    </div>
                                </SplitArea>
                            </Split>


                        </div>
                    </div>
                    <div class="tab-pane" id="tab4" :class="{ active: active.tab4 }" v-if="visible.xtraTabPage2">
                        <div class="row" >
                            <div class="col-sm-2 col-12">
                                <div class="info-row">
                                    <div class="key w30 nowrap">Ngày lập</div>
                                    <div class="value">
                                        <div class="input-icon-right">
                                            <ejs-datetimepicker locale='vi' v-model="params.p_dtpNgayDK"
                                                :format="'dd/MM/y HH:mm:ss'">
                                            </ejs-datetimepicker>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-2 col-12">
                                <div class="info-row">
                                    <div class="key w30 nowrap">
                                        <div class="check-action">
                                            <input type="checkbox" class="check" v-model="params.p_ckbDatCho"
                                                @change='ckbDatCho_CheckedChanged'>
                                            <span class="name">Số ngày giữ</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <input type="number" v-model="params.p_spinSoNgay"
                                            :disabled='!enable.spinSoNgay' style="width:50px">
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4 col-12" v-if="tagFrm != 4">
                                <div class="info-row">
                                    <div class="key w30 nowrap">
                                        <div class="check-action">
                                            <input type="checkbox" class="check" v-model='params.p_ckbKhoGiao'
                                                @change='ckbKhoGiao_CheckedChanged'>
                                            <span class="name">Kho giao</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <div class="select-custom">
                                            <ejs-dropdownlist ref="cboKhoGiao" class="form-control"
                                                v-model="params.p_khogiao_TK" :dataSource='cboKho'
                                                :fields="{value:'KHO_ID', text: 'TEN_KHO'}" :allowFiltering="true"
                                                popupWidth="500px" :enabled='enable.cboKho' @change='cboKho_EditValueChanged'>
                                            </ejs-dropdownlist>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-4 col-12" v-if="tagFrm != 4">
                                <div class="info-row">
                                    <div class="key w30 nowrap">
                                        Kho nhận
                                    </div>
                                    <div class="value">
                                        <div class="select-custom">
                                            <ejs-dropdownlist class="form-control" v-model="params.p_KhoDen"
                                                :dataSource='cboKhoDen' :fields="{value:'KHO_ID', text: 'TEN_KHO'}"
                                                :allowFiltering="true" :enabled="!readonly.cboKhoDen">
                                            </ejs-dropdownlist>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-4 col-12" v-if="tagFrm == 4">
                                <div class="info-row">
                                    <div class="key w30 ">                                        
                                        <span class="name">Tỉnh thành</span>                                       
                                    </div>
                                    <div class="value">
                                        <div class="select-custom">
                                            <ejs-dropdownlist ref="cboKhoGiao" class="form-control"
                                                v-model="params.tinhTonKho"
                                                :dataSource='DSTinh'
                                                :fields="{value:'tinh_id', text: 'tentinh'}"
                                                :allowFiltering="true"
                                                @change='cboKho_EditValueChanged'
                                                popupWidth="500px"
                                                :close='onClose' :created='onDropdownCreate'
                                                >
                                            </ejs-dropdownlist>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid-stack-box mart10">
                            <Split :gutterSize="20">
                                <SplitArea :size="50" :minSize="300">
                                    <DataGrid v-bind:columns="[
                                        {fieldName: 'MUCDICH', headerText: 'Mã VT' , textAlign: 'Left', allowFiltering: true,visible: false, isGroupedColumn: true },
                                        {fieldName: 'MA_VT', headerText: 'Mã VT' , textAlign: 'Left', allowFiltering: true, },
                                        {fieldName: 'TEN_VT' , headerText: 'Tên vật tư', textAlign: 'Left', allowFiltering: true, },
                                        {fieldName: 'DVI_TINH' , headerText: 'ĐVT' , textAlign: 'Left', allowFiltering: true, },
                                        {fieldName: 'SL_CL' , headerText: 'SL còn lại', textAlign: 'Right', allowFiltering: true, },
                                        {fieldName: 'SL_CAP' , headerText: 'SL đã cấp' , textAlign: 'Right', allowFiltering: true, },
                                        {fieldName: 'SL_CHUYEN', headerText: 'SL chuyển' , textAlign: 'Right', allowFiltering: true},
                                        {fieldName: 'VATTU_ID', headerText:'', visible:false, isPrimaryKey:true},
                                        ]" v-bind:dataSource="grcVT_NKHO" ref="grvVT_NKHO" :showColumnCheckbox='true'
                                        :enabledSelectFirstRow="false" :showFilter="true" :allowPaging="true"
                                        :enablePagingServer='false'
                                        dataKeyField="VATTU_ID"
                                        @selectedItemsChanged="grcVT_NKHO_Selected"
                                        :selectionSettings="{ type: 'Single', checkboxMode: 'ResetOnRowClick'}">
                                    </DataGrid>

                                </SplitArea>
                                <SplitArea :size="50" :minSize="300">
                                    <DataGrid v-bind:columns="[
                                    {fieldName: 'ISCHECK', headerText: '', allowSorting:false , allowFiltering:false, textAlign:'Center', allowEditing:false , width: 40, headerTemplate:CheckboxAllVT ,template:CheckboxVT, freeze: 'Left'},
                                    { allowEditing: false, fieldName: 'LOHANG', headerText: 'Lô hàng', textAlign: 'Left', allowFiltering: true, freeze: 'Left'},
                                    { allowEditing: false, fieldName: 'MA_VT', headerText: 'Mã vật tư', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'TEN_VT', headerText: 'Tên vật tư', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'KHO', headerText: 'Kho', textAlign: 'Left', allowFiltering: true, visible: visible.colKho},

                                    { allowEditing: false, fieldName: 'SOLUONG', headerText: 'SL tồn', textAlign: 'Right', allowFiltering: true},
                                    { allowEditing: true, fieldName: 'SL_XUAT', headerText: 'SL xuất', textAlign: 'Right', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'DONGIA', headerText: 'Đơn giá', textAlign: 'Right',  allowFiltering: true},
                                    { allowEditing: false, fieldName: 'CHATLUONG', headerText: 'Chất lượng', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'SO_HD', headerText: 'Số HĐ', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'MA_DUAN', headerText: 'Mã DA', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'NOIDUNG', headerText: 'Nội dung', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'DIENGIAI', headerText: 'Diễn giải', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'NGUOI_QL', headerText: 'Người QL', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'GHICHU', headerText: 'Ghi chú', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'ID_NHAPGOC', headerText: 'Id nhập gốc', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'NGAYNHAP', headerText: 'Ngày nhập', textAlign: 'Right', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'LOAIKHO_TEXT', headerText: 'Loại kho', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'MAKHOTD_TEXT', headerText: 'Mã kho TD', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'TRANGTHAI', headerText: 'Trạng thái', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'DONGTBI_ID', headerText: 'Dòng TB', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'HETHONG_ID', headerText: 'Hệ thống', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false, fieldName: 'HANGSX', headerText: 'Hãng sx', textAlign: 'Left', allowFiltering: true},
                                    { allowEditing: false  , fieldName: 'TachCap', headerText: 'DS Cuộn Cáp', textAlign: 'Left', allowFiltering: true, template: btnEdit_Template, width: '80', freeze:'Right' },
                                    { allowEditing: false  ,fieldName: 'STT', isPrimaryKey:true, visible: false},
                                    ]" v-bind:dataSource="gridVatTu" dataKeyField="STT" :showFilter="true"
                                        :allowPaging="true" :allowExcelExport="true" :showColumnCheckbox='false'
                                        :editSettings='{allowEditing: true, mode: "Batch"}' :enablePagingServer='false'
                                        ref="gridViewVatTu" :enabledSelectFirstRow="false"
                                        @cellSaved="gridViewVatTu_CellValueChanged">
                                        <!-- :totalRecords="gridVatTuPage.totalElement"
                                    :pageSize="gridVatTuPage.maxSize"
                                    :pageIndex="gridVatTuPage.page"
                                    @pageChanged="gridVatTuPageHandler" -->
                                    </DataGrid>
                                </SplitArea>
                            </Split>
                        </div>

                    </div>
                    <div class="tab-pane" id="tab5" :class="{ active: active.tab5 }">
                        <div>
                            <DataGrid v-bind:columns="gridChitietCT_Columns" v-bind:dataSource="gridChitietCT"
                                ref="grvChitietCT" :showColumnCheckbox='true' :enabledSelectFirstRow="false"
                                :showFilter="true" :editSettings="{ allowEditing: true , mode:'Batch'}"
                                :allowPaging="true" :enablePagingServer='false' :aggregates="PTAggregatesColumns"
                                :selectionSettings="{ type: 'Single', checkboxMode: 'ResetOnRowClick'}">
                            </DataGrid>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>

    <ejs-dialog :visible='false' ref="popup_frmGanSeri" :animationSettings="{ effect: 'Zoom' }" :showCloseIcon=true
        :enableResize=true :allowDragging=true width='80%' height="100%" :isModal='true' :cssClass="'popup-box'"
        :zIndex='900'>
        <frmGanSeri ref="frmGanSeri" class=""></frmGanSeri>
    </ejs-dialog>
</div>