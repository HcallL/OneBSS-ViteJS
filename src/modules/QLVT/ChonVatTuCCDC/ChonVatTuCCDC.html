<ejs-dialog
    :enableResize='true'
    :allowDragging='true'
    :visible='false'
    ref="popupChonVatTuCCDC"
    :animationSettings='animationSettings'
    showCloseIcon=true width='80%'
    :target='target'
    :header='"Chọn CCDC đang sử dụng"'
    :close="closeChonVatTuCCDC">    
    <div class="">
        <div class="list-actions-top">
            <ul class="list">
                <li @click="onClickXacNhan">
                    <a>
                        <span class="icon nc-icon-glyph ui-1_check-circle-08"></span> Xác nhận
                    </a>
                </li>
            </ul>
        </div>
        <div class="popup-body">
            <div class="box-form">
                <div class="title-bg-main">
                    <span class="title">Danh sách công cụ dụng cụ</span>
                </div>
                <div class="row">
                    <div class="col-sm-3 col-12">
                        <div class="list-checks red mart7">
                            <div class="item">
                                <div class="check-action">
                                    <input type="radio" :value="1" v-model="phanBo" :disabled = "disabledRadio">
                                    <span class="name">Phân bổ 1 tháng</span>
                                </div>
                            </div>
                            <div class="item">
                                <div class="check-action">
                                    <input type="radio" :value="2" v-model="phanBo" :disabled = "disabledRadio">
                                    <span class="name">Phân bổ đều</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w70">Lựa chọn</div>
                            <div class="value">
                                <div class="select-custom">
                                    <select name="" id="" class="form-control" 
                                        v-model="luaChonId" disabled>
                                        <option v-for="luaChon in dataSource.DSLuaChon" v-bind:value="luaChon.ID">
                                            {{luaChon.TenLuaChon}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w80">Từ đơn vị</div>
                            <div class="value">
                                <div class="select-custom">
                                    <select name="" id="" class="form-control">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w90">Từ nhân viên</div>
                            <div class="value">       
                                <input type="text" class="form-control" v-model="tenNhanVien" disabled>                                                    
                            </div>
                        </div>
                    </div>
                </div>
                <div class="table-content">
                    <DataGrid3  :columns="[
                        {fieldName: 'LOHANG', headerText: 'Lô hàng', allowFiltering: true},
                        {fieldName: 'MA_VT', headerText: 'Mã vật tư', allowFiltering: true},
                        {fieldName: 'TEN_VT', headerText: 'Tên vật tư', allowFiltering: true},
                        {fieldName: 'MA_TBI', headerText: 'Mã thiết bị', allowFiltering: true},
                        {fieldName: 'SERIAL', headerText: 'Serial', allowFiltering: true},
                        {fieldName: 'DVI_TINH', headerText: 'ĐVT', allowFiltering: true},
                        {fieldName: 'SL_TON_THAT', headerText: 'Số lượng', allowFiltering: true, type:'number', format:'N0'},
                        {fieldName: 'SL_XUAT', headerText: 'SL Xuất', allowFiltering: true , type:'number', format:'N0', allowEditing:true},
                        {fieldName: 'DONGIA', headerText: 'Đơn giá', allowFiltering: true , type:'number', format:'N0'},
                        {fieldName: 'TIEN', headerText: 'Thành tiền', allowFiltering: true},
                        {fieldName: 'GHICHU', headerText: 'Ghi chú', allowFiltering: true},
                        {fieldName: 'TIEN_SC', headerText: 'Tiền SC (1 vật tư)', allowFiltering: true, type:'number', format:'N0', allowEditing:true},
                        {fieldName: 'THANGBD', headerText: 'Tháng BĐ', allowFiltering: true},
                        {fieldName: 'THANGKT', headerText: 'Tháng KT', allowFiltering: true},
                        {fieldName: 'TIEN_PB', headerText: 'Tiền phân bổ', allowFiltering: true, type:'number', format:'N0'},
                        {fieldName: 'TIEN_CL', headerText: 'Giá trị còn lại', allowFiltering: true, type:'number', format:'N0'},
                        {fieldName: 'TINHTRANG_TBI', headerText: 'Tình trạng', allowFiltering: true,allowEditing:true},
                        {fieldName: 'CTCC_ID', headerText:'', visible:false, isPrimaryKey:true}
                        ]" 
                        :dataSource="dataSource.DSCCDC"
                        dataKeyField="CTCC_ID" 
                        :showFilter="true" 
                        :showColumnCheckbox="true"
                        @selectedRowChanged="" 
                        @selectedItemsChanged="DSCCDCCheckox"
                        ref="gridCCDC" 
                        :allowPaging="true"
                        :enablePagingServer="false"
                        :editSettings='editSettings'
                        @cellSaved="editGridCCDC"  
                        :enabledSelectFirstRow="false"              
                        />   
                </div>
                
            </div>
        </div>
        
    </div>
</ejs-dialog>


