<div class="main-wrapper">
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a class="pointer" @click="btnTimKiem">
                    <span class="icon one-file-attach1"></span> Tìm kiếm
                </a>
            </li>
            <li>
                <a class="pointer" @click="btnCapNhat">
                    <span class="icon one-file-plus"></span>Cập nhật
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="box-col box-form">
            <div class="legend-title">Thông tin tìm kiếm theo</div>
            <div class="row">
                <div class="col-sm-4 col-12">
                    <div class="info-row">
                        <div class="key w80 nowrap padl10">
                            <div class="check-action">
                                <input
                                    type="checkbox"
                                    v-model="ckbSoPhieu"
                                    class="check"
                                />
                                <span class="name">Số phiếu</span>
                            </div>
                        </div>
                        <div class="value">
                            <input
                                class="form-control"
                                :disabled="!ckbSoPhieu"
                                type="text"
                                v-model="txtSoPhieu"
                            />
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 col-12">
                    <div class="info-row">
                        <div class="key w80 nowrap padl10">
                            <div class="check-action">
                                <input
                                    type="checkbox"
                                    v-model="ckbTheoSerial"
                                    class="check"
                                />
                                <span class="name">Serial</span>
                            </div>
                        </div>
                        <div class="value">
                            <input
                                class="form-control"
                                :disabled="!ckbTheoSerial"
                                type="text"
                                v-model="txtTheoSerial"
                            />
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 col-12">
                    <div class="info-row">
                        <div class="key w70 nowrap ">
                            <div class="">
                                <span class="name">Từ ngày</span>
                            </div>
                        </div>
                        <div class="value">
                            <ejs-datepicker
                                class="form-control"
                                format="dd/MM/yyyy"
                                v-model="dtimeTuNgay"
                            >
                            </ejs-datepicker>
                        </div>
                        <div class="key w70 nowrap padl10">
                            <div class="">
                                <span class="name">Đến ngày</span>
                            </div>
                        </div>
                        <div class="value">
                            <ejs-datepicker
                                class="form-control"
                                format="dd/MM/yyyy"
                                v-model="dtimeDenNgay"
                            >
                            </ejs-datepicker>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-col box-form">
            <div class="legend-title">
                Danh sách chứng từ
            </div>
            <div class="table-content">
                <DataGrid
                    v-bind:columns="[
                        { allowEditing: false ,fieldName: 'SOPHIEU' , headerText: 'Số phiếu', textAlign: 'Left', allowFiltering: true,width: 130,},
                        { allowEditing: false ,fieldName: 'TRANGTHAI' , headerText: 'Trạng thái', textAlign: 'Left', allowFiltering: true,width: 130,},
                        { allowEditing: false ,fieldName: 'LOAI_CT' , headerText: 'Loại chứng từ', textAlign: 'Left', allowFiltering: true,width: 130,},
                        { allowEditing: false ,fieldName: 'MUCDICH' , headerText: 'Mục đích', textAlign: 'Left', allowFiltering: true,width: 130,},               
                        { allowEditing: false ,fieldName: 'NGAY_CT' , headerText: 'Ngày yêu cầu', textAlign: 'Left', allowFiltering: true,width: 130,},
                        { allowEditing: false ,fieldName: 'KHO_GIAO' , headerText: 'Từ kho' , textAlign: 'Left', allowFiltering: true,width: 130,},
                        { allowEditing: false ,fieldName: 'KHO_NHAN', headerText: 'Đến kho', textAlign: 'Left', allowFiltering: true,width: 130,},
                        { allowEditing: true ,fieldName: 'ND_GIAO', headerText: 'Nội dung', textAlign: 'Left', allowFiltering: true,width: 130,},
                        { allowEditing: false ,fieldName: 'NGUOI_CN' , headerText: 'Người CN',textAlign: 'Left', allowFiltering: true,width: 130,},
                        { allowEditing: false ,fieldName: 'NGUOI_HT' , headerText: 'Người HT',textAlign: 'Left', allowFiltering: true,width: 130,},                      
                        ]"
                    ref="gridChungTu"
                    :dataSource="gridChungTu.dtChungTu"
                    :showColumnCheckbox="false"
                    dataKeyField="SOPHIEU"
                    @rowSelected="gridChungTuRowClicked"
                    :allowPaging="true"
                    :enablePagingServer="false"
                ></DataGrid>
            </div>
        </div>
        <div class="box-form">
            <div class="legend-title">
                Danh sách vật tư
            </div>
            <div class="table-content">
                <DataGrid
                    v-bind:columns="[
                    { allowEditing: false ,fieldName: 'LOHANG' , headerText: 'Lô hàng', textAlign: 'Left', allowFiltering: true,width: 130,},
                    { allowEditing: false ,fieldName: 'MA_VT' , headerText: 'Mã vật tư', textAlign: 'Left', allowFiltering: true,width: 130,},
                    { allowEditing: false ,fieldName: 'TEN_VT' , headerText: 'Tên vật tư', textAlign: 'Left', allowFiltering: true,width: 130,},
                    { allowEditing: false ,fieldName: 'DVI_TINH' , headerText: 'ĐVT', textAlign: 'Center', allowFiltering: true,width: 80,},               
                    { allowEditing: false ,fieldName: 'SOLUONG' , headerText: 'Số lượng', textAlign: 'Right',format: 'N0', type: 'number', allowFiltering: true,width: 130,},
                    { allowEditing: false ,fieldName: 'DONGIA' , headerText: 'Đơn giá' , textAlign: 'Right',format: 'N0', type: 'number', allowFiltering: true,width: 130,},
                    { allowEditing: false ,fieldName: 'TIEN', headerText: 'Thành tiền', textAlign: 'Right',format: 'N0', type: 'number', allowFiltering: true,width: 130,},
                    { allowEditing: true ,fieldName: 'LOAI_TBI', headerText: 'Loại thiết bị', textAlign: 'Left', allowFiltering: true,width: 130,},
                    { allowEditing: false ,fieldName: 'SERIAL' , headerText: 'Serial',textAlign: 'Left', allowFiltering: true,width: 130,},
                    { allowEditing: true ,fieldName: 'TINHTRANGTBI_ID' , headerText: 'Tình trạng',textAlign: 'Left',width: 130,allowFiltering: false,template:getCBOTinhTrangTbi(this),},                      
                    ]"
                    ref="gridChiTietVT"
                    :dataSource="gridChiTietVT.dtChiTietVT"
                    :showColumnCheckbox="true"
                    :editSettings="{ allowEditing: true , mode:'Batch'}"
                    dataKeyField="STT"
                    :allowPaging="true"
                    :enablePagingServer="false"
                    :enabledSelectFirstRow="false"
                ></DataGrid>
            </div>
        </div>
    </div>
</div>
