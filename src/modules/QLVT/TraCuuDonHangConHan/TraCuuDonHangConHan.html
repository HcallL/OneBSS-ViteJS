<div >
  <!-- <breadcrumb :header="header" /> -->
  <div class="list-actions-top">
    <ul class="list">
      <li @click= "onClickTimKiem()">
        <a>
          <span class="icon one-search"></span>Tìm kiếm
        </a>
      </li>
      <li @click= "onClickXacNhan()">
        <a>
          <span class="icon nc-icon-glyph ui-1_check-circle-08"></span>Xác nhận
        </a>
      </li>
      <li @click= "onClickHuy()">
        <a>
          <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Hủy
        </a>
      </li>    
    </ul>
  </div>
  <div class="page-content">
    <div class="box-form">
      <div class="legend-title">
        Thông tin tra cứu đơn hàng
      </div>
      <div class="row">
        <div class="col-sm-6 col-12">
          <div class="info-row">
            <div class="key">
              Đơn vị
            </div>
            <div class="value">
              <div class="select-custom">
                <ejs-dropdownlist
                  class="form-control"
                  ref="cboLoaiChungTu"
                  locale='vi'
                  v-model="params.donViId"
                  :dataSource='dataResponse.DSDonVi' 
                  :fields="{value:'DONVI_ID', text: 'TEN_DV'}"
                  :allowFiltering="true"
                  :filtering='filterDonVi'
                  >
                </ejs-dropdownlist>                
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-12">
          <div class="info-row">
            <div class="key w140">
              Ngày đề nghị nhập
            </div>
            <div class="value">
              <div class="input-icon-right">
                <ejs-datepicker class="form-control" @change=""
                    :format="dateConfig.formatDay" v-model="params.tuNgay">
                </ejs-datepicker>
              </div>
            </div>
          </div>
          <div class="info-row">
            <div class="key w140">
              Đến ngày
            </div>
            <div class="value">
              <div class="input-icon-right">
                <ejs-datepicker class="form-control" @change=""
                    :format="dateConfig.formatDay" v-model="params.denNgay">
                </ejs-datepicker>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="box-form">
      <div class="legend-title">Danh sách đơn hàng</div>
      <div class="table-content">
        <DataGrid  :columns="[
          {fieldName: 'MA_HD', headerText: 'Mã hợp đồng', allowFiltering: true},
          {fieldName: 'MA_DH', headerText: 'Mã đơn hàng', allowFiltering: true},
          {fieldName: 'TEN_KHO', headerText: 'Nhà cung cấp', allowFiltering: true},
          {fieldName: 'NGAY_NH', headerText: 'Ngày nhận hàng', allowFiltering: true , textAlign: 'Left'},
          {fieldName: 'NGAY_NK', headerText: 'Ngày nhập kho', allowFiltering: true , textAlign: 'Left'},
          {fieldName: 'NGAY_NT', headerText: 'Ngày nghiệm thu', allowFiltering: true , textAlign: 'Left'},
          {fieldName: 'GHICHU', headerText: 'Ghi chú', allowFiltering: true},          
          ]" 
          :dataSource="dataResponse.DSDonHang" 
          :showFilter="true" 
          dataKeyField="DONHANG_ID"
          @selectedRowChanged="selectDonHang" 
          :allowPaging="true"
          :enablePagingServer="false"
          ref="gridDonHang" />
      </div>
      
    </div>
    <div class="box-form">
      <div class="legend-title">Danh sách vật tư của đơn hàng</div>
      <div class="table-content">
        <DataGrid  :columns="gridVatTu" 
          :dataSource="dataResponse.DSVatTuChiTiet" 
          :showColumnCheckbox="true" :showFilter="true" dataKeyField=""
          @selectedRowChanged=""
          :allowPaging="true"
          :enablePagingServer="false"
          :enabledSelectFirstRow="false" 
          ref="gridVatTu" />
      </div>
     
    </div>
  </div>
  <frmChiaCuonCap ref="frmChiaCuonCap"></frmChiaCuonCap>
</div>