<!-- Đức đổi từ b-model sang dialog để nối form cha -->
<!-- <b-modal id="modal-ganseri-v2" hide-footer hide-header no-close-on-backdrop size="xl" @show="fetchData"> --> 
<ejs-dialog
    :enableResize='true'
    :allowDragging='true'
    :visible='false'
    ref="popupGanSeriV2"
    :animationSettings='animationSettings'
    showCloseIcon=true 
    width='80%'  
    :target='target'
    :header='"Gán Seri"' 
    :open="Open"
    :close="Close">  
    <div>
        <!-- <div class="popup-header">
            <div class="title"><span class="icon one-notepad"></span>Gán seri</div>
            <div class="close -ap icon-close" data-dismiss="modal" @click="$bvModal.hide('modal-ganseri-v2')"></div>
        </div> -->

        <div class="list-actions-top d-flex justify-content-start align-items-center">
            <ul class="list">
                <li @click="onClickCapNhat">
                    <a>
                        <span class="icon  one-save"></span> Cập nhật
                    </a>
                </li>
            </ul>
        </div>
        <div>
            <div class="box-form">
                <div class="row">
                    <div class="col-sm-4 col-12">
                        <div class="info-row">
                            <div class="key w70">
                                Số phiếu
                            </div>
                            <div class="value">
                                <div class="input-icon-left">
                                    <input type="text" class="form-control highlight" v-model="txtSoPhieu">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <DataGrid v-bind:columns="gridViewVatTuKhongTinhTrang" :enabledSelectFirstRow="true" @selectedRowChanged="gridVatTuSelectedRowChanged"
                    v-bind:dataSource="grvVatTu" ref="gridViewThietBi" :showColumnCheckbox='false' :showFilter="true"
                    :editSettings="{ allowEditing: true , mode:'Batch'}" :allowPaging="true"
                    :enablePagingServer='false'>
                </DataGrid>
            </div>

            <div class="box-form">
                <div class="box-move-select-table">
                    <div class="box-col box-form">
                        <div class="legend-title">Danh sách đã gán</div>
                        <DataGrid :columns="[{fieldName: 'STT', headerText: 'STT', allowFiltering: true},
                  {fieldName: 'LO_HANG', headerText: 'Lô hàng', allowFiltering: true},
                  {fieldName: 'TEN_VT', headerText: 'Tên vật tư', allowFiltering: true},  
                  {fieldName: 'SERIAL', headerText: 'Serial', allowFiltering: true},
                  {fieldName: 'Đơn giá', headerText: 'Đơn giá', allowFiltering: true}]" :dataSource="grvDaGan"
                            :showFilter="true" :showColumnCheckbox="true" dataKeyField="MA_TT"
                            @selectedItemsChanged="selectedItemsChangedDaGan" :enabledSelectFirstRow="false"
                            :allowPaging="true" :enablePagingServer="false">
                        </DataGrid>

                    </div>
                    <div class="actions">
                        <button class="btn" @click="moveRight()">
                            <span class="fa fa-angle-right"></span>
                        </button>
                        <button class="btn" @click="moveLeft()">
                            <span class="fa fa-angle-left"></span>
                        </button>
                    </div>
                    <div class="box-col box-form">
                        <div class="legend-title">Danh sách chưa gán</div>
                        <DataGrid :columns="[{fieldName: 'STT', headerText: 'STT', allowFiltering: true},
                  {fieldName: 'SERIAL', headerText: 'Serial', allowFiltering: true},
                  {fieldName: 'LO_HANG', headerText: 'Lô hàng', allowFiltering: true},
                  {fieldName: 'TEN_VT', headerText: 'Tên vật tư', allowFiltering: true}]" :dataSource="grvChuaGan"
                            :showFilter="true" :showColumnCheckbox="true" dataKeyField="MA_TT"
                            @selectedItemsChanged="selectedItemsChangedChuaGan" :enabledSelectFirstRow="false"
                            :allowPaging="true" :enablePagingServer="false">
                        </DataGrid>

                    </div>
                </div>

            </div>

        </div>

    </div>
</ejs-dialog>
<!-- </b-modal> -->