<div>
  <div class="list-actions-top">
    <ul class="list">
      <li @click="onClickLayTT">
        <a>
          <span class="icon one-search"></span>Lấy TT
        </a>
      </li>
      <li v-if="visibleNhapMoi" @click="onClickNhapMoi">
        <a>
          <span class="icon  nc-icon-glyph ui-1_circle-add"></span>Nhập mới
        </a>
      </li>
      <li v-if="visibleCapNhat" @click="onClickCapNhat">
        <a>
          <span class="icon one-save"></span>Cập nhật
        </a>
      </li>
      <li v-if="visibleHuyBo" @click="onClickHuyBo">
        <a>
          <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Hủy bỏ
        </a>
      </li>
      <li v-if="visibleXoa"  @click="onClickXoa">
        <a>
          <span class="icon one-trash"></span>Xóa vật tư
        </a>
      </li>
      <li @click="onClickSuaVatTu">
        <a>
          <span class="icon one-reload1"></span>Sửa vật tư
        </a>
      </li>
    </ul>
  </div>

  <div class="page-content">
    <div class="box-form ">

      <div class="legend-title">
        <div class="row">
          <div class="col-sm-2 col-12">
            Thông tin vật tư thuê bao
          </div>
          <div class="col-sm-4 col-12">
            <div class="list-checks normal">
              <div class="item">
                <div class="check-action">
                  <input type="radio" class="check" value="checkDanhBa" v-model="checked" />
                  <span class="name">Danh bạ</span>
                </div>
              </div>
              <div class="item">
                <div class="check-action">
                  <input type="radio" class="check" value="checkHopDong" v-model="checked" />
                  <span class="name">Hợp đồng</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">

        <div class="col-sm-8 col-12">

          <div class="row">

            <div class="col-sm-6 col-12">

              <div class="info-row">
                <div class="key w120">
                  <span class="name"><b>Số máy/Account</b></span>
                </div>
                <div class="value">
                  <input type="text" class="form-control" v-model="txtMaTB" :disabled="!visibleMaTB" @keyup.enter="onEnterAccount">
                </div>
              </div>

              <div class="info-row">
                <div class="key w120">
                  <span class="name"><b>Vật tư</b></span>
                </div>
                <div class="value">
                  <div class="select-custom">
                    <SelectExt v-model.trim="txtVatTuId" :dataSource="cboVatTu" dataTextField="TEN_VT"
                      dataValueField="VATTU_ID" placeholder="Chọn vật tư"></SelectExt>
                  </div>
                </div>
              </div>

              <div class="info-row">
                <div class="key w120">
                  <span class="name">Ngày sử dụng</span>
                </div>
                <div class="value">
                  <div class="select-custom">
                    <ejs-datepicker class="form-control bg-none bor0 fw6 text h24" :format="dateFormat"
                      v-model="txtNgaySuDung"></ejs-datepicker>
                  </div>
                </div>
              </div>

              <div class="info-row">
                <div class="key w120">
                  <span class="name">Số lượng</span>
                </div>
                <div class="value">
                  <div class="select-custom">
                    <div class="row">
                      <div class="col-sm-4 col-12"><input type="text" class="form-control" v-model="txtSoLuong"></div>
                      <div class="col-sm-8 col-12">
                        <SelectExt v-model.trim="txtDonViTinh" :dataSource="cboDonViTinh" dataTextField="DVI_TINH"
                          dataValueField="DVITINH_ID" placeholder="Chọn đơn vị tính"></SelectExt>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

            </div>

            <div class="col-sm-6 col-12">

              <div class="info-row">
                <div class="key w120">
                  <span class="name">Dịch vụ VT</span>
                </div>
                <div class="value">
                  <SelectExt v-model.trim="txtDichVuVTId" :dataSource="cboDichVuVT" dataTextField="TEN_DVVT"
                    dataValueField="DICHVUVT_ID" placeholder="Chọn dịch vụ vt"></SelectExt>
                </div>
              </div>

              <div class="info-row">
                <div class="key w120">
                  <span class="name">Kho</span>
                </div>
                <div class="value">
                  <SelectExt v-model.trim="txtKho" :dataSource="cboKho" dataTextField="TEN_KHO" dataValueField="KHO_ID"
                    placeholder="Chọn kho"></SelectExt>
                </div>
              </div>

              <div class="info-row">
                <div class="key w120">
                  <span class="name">Kiểu thiết bị</span>
                </div>
                <div class="value">
                  <SelectExt v-model.trim="txtKieuTB" :dataSource="cboKieuTB" dataTextField="KIEU_TBI"
                    dataValueField="KIEUTBI_ID" placeholder="Chọn kiểu thiết bị"></SelectExt>
                </div>
              </div>

              <div class="info-row">
                <div class="key w120">
                  <span class="name">Trang bị</span>
                </div>
                <div class="value">
                  <SelectExt v-model.trim="txtTrangBi" :dataSource="cboTrangBi" dataTextField="TENTRANGBI"
                    dataValueField="TRANGBI_ID" placeholder="Chọn trang bị"></SelectExt>
                </div>
              </div>

            </div>

          </div>

          <div class="row">
            <div class="col-sm-8 col-12">
              <div class="info-row">
                <div class="key w120">
                  <span class="name">Ghi chú</span>
                </div>
                <div class="value">
                  <input type="text" class="form-control" v-model="txtGhiChu">
                </div>
              </div>
            </div>
          </div>

        </div>



        <div class="col-sm-4 col-12">
          <div class="info-row">
            <div class="key w120">
              <span class="name">Tên thuê bao</span>
            </div>
            <div class="value">
              <input type="text" class="form-control" v-model="txtTenTB" :disabled="!visibleTenTB">
            </div>
          </div>

          <div class="info-row">
            <div class="key w120">
              <span class="name">Lô hàng</span>
            </div>
            <div class="value">
              <SelectExt v-model.trim="txtLoHang" :dataSource="cboLoHang" dataTextField="LOHANG" dataValueField="LH"
                placeholder="Chọn lô hàng"></SelectExt>
            </div>
          </div>

          <div class="info-row">
            <div class="key w120">
              <span class="name">Tình trạng</span>
            </div>
            <div class="value">
              <SelectExt v-model.trim="txtTinhTrang" :dataSource="cboTinhTrang" dataTextField="TINHTRANG_TBI"
                dataValueField="TINHTRANGTBI_ID" placeholder="Chọn tình trạng"></SelectExt>
            </div>
          </div>

          <div class="info-row">
            <div class="key w120">
              <span class="name"><b>Serial Number</b></span>
            </div>
            <div class="value">
              <input type="text" class="form-control" v-model="txtSerialNumber" @input="onChangeSerialValue">
            </div>
          </div>

          <div class="info-row">
            <div class="key w120">
              <span class="name"><b>Serial GP</b></span>
            </div>
            <div class="value">
              <input type="text" class="form-control" v-model="txtSerialGP">
            </div>
          </div>

        </div>

      </div>

    </div>


    <div class="box-form">
      <div class="legend-title">
        Danh sách chứng từ
      </div>
      <div class="table-content">
        <DataGrid
          v-bind:columns="[
            {fieldName: 'TEN_VT', headerText: 'Vật tư', allowFiltering: true, allowSorting: true},
            {fieldName: 'NGAY_SD', headerText: 'Ngày SD', allowFiltering: true},
            {fieldName: 'SERIAL', headerText: 'Serial Number', allowFiltering: true},
            {fieldName: 'SERIAL_GP', headerText: 'SERIAL GP', allowFiltering: true},
            {fieldName: 'SOLUONG', headerText: 'Số lượng', allowFiltering: true},
            {fieldName: 'DVI_TINH', headerText: 'Đơn vị tính', allowFiltering: true},
            {fieldName: '', headerText: 'Sửa', allowFiltering: true, width: 60, template:columnsCheckboxDayDu,textAlign:'Center',},
            ]"
            :enabledSelectFirstRow="true" @selectedRowChanged="onChangeGrvVatTuBS" ref="danhSachDuocChon"
          v-bind:dataSource="grvVatTuBoSung" :showFilter="true">
        </DataGrid>
      </div>
    </div>

  </div>

</div>