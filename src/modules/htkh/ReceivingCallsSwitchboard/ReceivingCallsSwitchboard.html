<div class="main-wrapper">
    <div class="breadcrumb-top">
        <div class="main-title">Tiếp nhận yêu cầu tập trung</div>
        <ul class="breadcrumb">
            <li class="breadcrumb-item"><a href="#"><span class="nc-icon-outline ui-1_home-simple"></span> Trang chủ
                </a></li>
            <li class="breadcrumb-item"><a href="#">HKTK</a></li>
            <li class="breadcrumb-item active">Tiếp nhận yêu cầu tập trung</li>
        </ul>
    </div>
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="javascript: void(0)" @click="btn_ChiTiet_CG_Click">
                    <span class="icon one-vt"></span>Chi tiết cuộc gọi
                </a>
            </li>
            <li>
                <a href="javascript: void(0)" @click="tsbtnThongTinLH_Click">
                    <span class="icon one-phone"></span>Liên hệ
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="row">
            <div class="col-sm-5 col-12" style="vertical-align: baseline">
                <div class="box-form" style="height: calc(100% - 8px)">
                    <div class="legend-title">Thông tin cuộc gọi</div>
                    <!-- <div class="info-row">
                        <div class="key w120">Cuộc gọi ID</div>
                        <div class="value">
                            <input type="text" class="form-control" v-model="txt_CallID.value" :disabled="txt_CallID.disabled"/>
                        </div>
                    </div> -->
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w120">Hotline</div>
                                <div class="value">
                                    <input type="text" class="form-control"  v-model="txt_HotLine"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w120">Thời gian gọi</div>
                                <div class="value">
                                    <input type="text" class="form-control" v-model="dtp_CallTime" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12 col-12">
                            <div class="info-row">
                                <div class="info-row">
                                    <div class="key w120">Nhánh</div>
                                    <div class="value">
                                        <input type="text" class="form-control" v-model="txt_Branch" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>                    
                    <!-- <div class="info-row">
                        <div class="key w120">Khách hàng</div>
                        <div class="value">
                            <input type="text" class="form-control" v-model="txtKhChu" />
                        </div>
                    </div> -->
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w120">Số máy</div>
                                <div class="value">
                                    <input type="text" class="form-control highlight" v-model="txt_PhoneNo" @keyup.enter="txt_PhoneNo_KeyPress"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="info-row">
                                    <div class="key w120">Thời lượng</div>
                                    <div class="value">
                                        <input type="text" class="form-control" v-model="txt_Duration" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-7 col-12" style="vertical-align: baseline">
                <div class="box-form" style="height: calc(100% - 8px)">
                    <div class="legend-title">Thông tin khách hàng</div>
                    <div class="row">                        
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="info-row">
                                    <div class="key w120">Phân loại KH:</div>
                                    <div class="value">
                                        <input type="text" class="form-control" v-model="lblPhanLoaiKH.Text" disabled/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="info-row">
                                    <div class="key w120">Tỉnh:</div>
                                    <div class="value">
                                        <input type="text" class="form-control" v-model="lblMaTinh.Text" disabled />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12 col-12">
                            <div class="info-row">
                                <div class="key w120">Tên khách hàng</div>
                                <div class="value">
                                    <input type="text" class="form-control" v-model="txtTenKH"/>
                                </div>
                            </div>
                        </div>                        
                    </div>
                    <div class="info-row">
                        <div class="key w120">Địa chỉ KH</div>
                        <div class="value">
                            <textarea ref="txtDiaChiKH" v-model="txtDiaChiKH"  class="form-control" style="height: 76px;resize: none;"></textarea>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w120">Nội dung hỗ trợ</div>
                        <div class="value">
                            <textarea ref="txt_NoiDungHoTro" v-model="txt_NoiDungHoTro"  class="form-control" style="height: 72px;resize: none;"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 col-12">
                <div class="box-form">
                    <div class="nav tabs tab-over">
                        <a v-for="(item, i) in tabList" :key="i" class="minw0 pointer" :class="{active: item.id == selectedTab}"
                            @click="() => {selectedTab = item.id; i++}">{{ item.name }} </a>
                    </div>
                    <div class="tab-content" :key="selectedTab">
                        <!-- Tra cuu khach hang -->
                        <TraCuuDataMig v-if="selectedTab === 1" :extend="false" :dulieu="grid_lookup_kh" @xacnhan="TraCuu_FocusedRowChanged"/>

                        <!-- Tra cuu thue bao khach hang -->
                        <div class="table-content" v-if="selectedTab === 2">
                            <DanhSachThueBaoKhachHang :dulieu="{so_tb: txt_PhoneNo, khachhang_id: khachhang_id, tinh_id: tinh_id}" @rowSelected="gview_DanhSach_FocusedRowChanged"/>
                        </div>

                        <!-- Lich su cuoc goi -->
                        <div class="table-content" v-if="selectedTab === 3">
                            <LichSuCuocGoiKhachHang :so_dt="txt_PhoneNo" @rowSelected="gview_History_FocusedRowChanged"/>
                        </div>

                        <!-- Hoat dong gan day -->
                        <!-- <div class="table-content" v-if="selectedTab === 5">
                            <DataGrid
                                ref="grid_Activity"
                                v-bind:columns="grid_Activity.config"
                                v-bind:dataSource="grid_Activity.DataSource"
                                :enable-paging-server="false"
                                :allowPaging="true"
                                :showFilter="true"
                                :showColumnCheckbox="false"
                                :selectionSettings="{ enableToggle: false }"
                                
                            >
                            </DataGrid>
                        </div> -->

                        <!-- Tra cuu mo rong -->
                        <TraCuuDataMig1 v-if="selectedTab === 6" :extend="true" :dulieu="grid_lookup_mr" @xacnhan="TraCuu_FocusedRowChanged"/>

                        <!-- Tra cuu thong tin KHDN -->
                        <!-- <TraCuuKHDN v-if="selectedTab === 7"/> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <PopupLienHeTapTrung ref="dlgLienHeTapTrung" @close="dlgLienHeTapTrung_Close"/>
    <PopupChiTietCuocGoi ref="dlgChiTietCuocGoi" />
</div>
