<div class="main-wrapper">
    <breadcrumb :header="header" />
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a @click="btnSearch_Click">
                    <span class="icon one-search"></span>Tìm kiếm
                </a>
            </li>
            <li>
                <a @click="btnUpdate_Click">
                    <span class="icon one-reload1"></span>Cập nhật
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="box-form">
            <div class="legend-title">Thông tin tìm kiếm</div>
            <div class="row">
                <div class="col-sm-4 col-12">
                    <div class="info-row">
                        <div class="key w100">
                            <div class="check-action">
                                <input type="checkbox" class="check" v-model="inputTuNgay.checkbox">
                                <span class="name">Theo ngày</span>
                            </div>
                        </div>
                        <div class="value">
                            <date-picker :disabled="!inputTuNgay.checkbox" :disabled-date="disabledRange" :format="dateFormat " :value-type="dateFormat " ref="txtTuNgay" :time-title-format="dateFormat" :type="typeFormat " :showTimePanel="showTimePanel " v-model="inputTuNgay.val"
                                @close="handleOpenChange ">
                                <template #icon-calendar>
                                    <span class="icon one-calendar "></span>
                                </template>
                            </date-picker>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 col-12">
                    <div class="info-row">
                        <div class="key w70">
                            Đến ngày
                        </div>
                        <div class="value">
                            <date-picker :disabled="!inputTuNgay.checkbox" :disabled-date="disabledRange" :format="dateFormat " :value-type="dateFormat " ref="txtDenNgay" :time-title-format="dateFormat" :type="typeFormat " :showTimePanel="showTimePanel " v-model="inputDenNgay.val"
                                @close="handleOpenChange">
                                <template #icon-calendar>
                                    <span class="icon one-calendar "></span>
                                </template>
                            </date-picker>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="legend-title mart20">Thông tin phiếu yêu cầu</div>
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Mã giao dịch <span class="text-danger">*</span>
                                </div>
                                <div class="value">
                                    <div class="input-more-button">
                                        <button class="btn">
                                                <span class="-ap icon-more_horiz"></span>
                                            </button>
                                        <input v-on:keyup.enter="btnSearch_Click" autofocus type="text" v-model="infoPhieu.maGD" class="form-control highlight font-weight-bold">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Loại HĐ/PL
                                </div>
                                <div class="value">
                                    <input :readonly="true" v-model="infoPhieu.loaiHD" type="text" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key">
                            Tên khách hàng <span class="text-danger">*</span>
                        </div>
                        <div class="value">
                            <input :readonly="true" type="text" v-model="infoPhieu.tenKH" class="form-control">
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key">
                            Địa chỉ KH
                        </div>
                        <div class="value">
                            <input :readonly="true" type="text" v-model="infoPhieu.diaChiKH" class="form-control">
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key">
                            ĐỊa chỉ CT
                        </div>
                        <div class="value">
                            <input :readonly="true" type="text" v-model="infoPhieu.diaChiCT" class="form-control">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Người đại diện
                                </div>
                                <div class="value">
                                    <input :readonly="true" type="text" v-model="infoPhieu.nguoiDD" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Điện thoại
                                </div>
                                <div class="value">
                                    <input :readonly="true" type="text" v-model="infoPhieu.dienThoai" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Mã số thuế
                                </div>
                                <div class="value">
                                    <input type="text" v-model="infoPhieu.maST" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Tài khoản
                                </div>
                                <div class="value">
                                    <input type="text" v-model="infoPhieu.taiKhoan" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Ngày yêu cầu
                                </div>
                                <div class="value">
                                    <date-picker :disabled="true" :format="dateFormat" :value-type="dateFormat " ref="txtngayYC" :time-title-format="dateFormat" :type="typeFormat " :showTimePanel="showTimePanel " v-model="infoPhieu.ngayYC" @close="handleOpenChange">
                                        <template #icon-calendar>
                                            <span class="icon one-calendar "></span>
                                         </template>
                                    </date-picker>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Tổng tiền trả
                                </div>
                                <div class="value">
                                    <input :readonly="true" v-model="infoPhieu.tongTien" type="text" class="font-weight-bold form-control tright text highlight text-capitalize" value="0">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key">
                            Bằng chữ
                        </div>
                        <div class="value custom-transform">
                            <input :readonly="true" type="text" v-model="infoPhieu.bangChu" class="form-control red font-italic" value="">
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key">
                            Ghi chú
                        </div>
                        <div class="value">
                            <textarea name="" v-model="infoPhieu.ghiChu" class="form-control" style="height: 60px;resize: none;"></textarea>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-12">
                    <div class="legend-title mart20">Thông tin thanh toán</div>
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Hình thức trả
                                </div>
                                <div class="value">
                                    <Select2 v-model="infoTT.hinhThucTra.checked" :options="infoTT.hinhThucTra.list" @change="onChangeHTTra"/>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Kênh thu
                                </div>
                                <div class="value">
                                    <Select2 v-model="infoTT.kenhThu.checked" :options="infoTT.kenhThu.list" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Người bảo lãnh
                                </div>
                                <div class="value">
                                    <input ref="ngbl" v-model="infoTT.nguoiBL" type="text" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Trạng thái
                                </div>
                                <div class="value">
                                    <Select2 :disabled="true" v-model="infoTT.trangThai.checked" :options="infoTT.trangThai.list" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key">
                            <div class="check-action">
                                <input v-model="infoTT.nganHang.checkbox" type="checkbox" class="check">
                                <span class="name">Ngân hàng</span>
                            </div>
                        </div>
                        <div>
                            <vue-select v-model="infoTT.nganHang.checked" labelField="TEN_NH" valueField="NGANHANG_ID" labelWidth="0" :options="infoTT.nganHang.list"></vue-select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Ngày NH
                                </div>
                                <div class="value">
                                    <date-picker :disabled="true" :format="dateFormat" :value-type="dateFormat " ref="txtngayNH" :time-title-format="dateFormat" :type="typeFormat " :showTimePanel="showTimePanel " v-model="infoTT.ngayNH" @close="handleOpenChange">
                                        <template #icon-calendar>
                                            <span class="icon one-calendar "></span>
                                         </template>
                                    </date-picker>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Chứng từ
                                </div>
                                <div class="value">
                                    <input type="text" v-model="infoTT.chungTu" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="legend-title mart20">Thông tin hóa đơn</div>
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key">
                                    <div class="check-action">
                                        <input v-model="infoHD.loaiHD.checkbox" type="checkbox" class="check">
                                        <span class="name">Loại hoá đơn</span>
                                    </div>
                                </div>
                                <div class="value">
                                    <Select2 v-model="infoHD.loaiHD.checked" :disabled="hoaDon_DT==1" :options="infoHD.loaiHD.list" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Ngày HĐ
                                </div>
                                <div class="value">
                                    <date-picker :disabled="true" :format="dateFormat" :value-type="dateFormat " ref="txtngayHD" :time-title-format="dateFormat" :type="typeFormat " :showTimePanel="showTimePanel " v-model="infoHD.ngayHD" @close="handleOpenChange">
                                        <template #icon-calendar>
                                            <span class="icon one-calendar "></span>
                                         </template>
                                    </date-picker>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Seri
                                </div>
                                <div class="value">
                                    <Select2 v-model="infoHD.seri.checked" :disabled="hoaDon_DT==1" :options="infoHD.seri.list" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3 col-12">
                            <div class="info-row">
                                <div class="key w60">
                                    Hoá đơn
                                </div>
                                <div class="value">
                                    <input ref="inthoadon" v-model="infoHD.hoaDon" :disabled="hoaDon_DT==1" type="text" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Phiếu thu
                                </div>
                                <div class="value">
                                    <input v-model="infoHD.phieuThu" type="text" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Loại tiền
                                </div>
                                <div class="value">
                                    <Select2 v-model="infoHD.loaiTien.checked" :options="infoHD.loaiTien.list" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3 col-12">
                            <div class="info-row">
                                <div class="key w60">
                                    Tỷ giá
                                </div>
                                <div class="value">
                                    <input v-model="infoHD.tyGia" type="text" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Ngày TT
                                </div>
                                <div class="value">
                                    <date-picker :disabled="!enabled" :format="dateFormat" :value-type="dateFormat " ref="txtngayTT" :time-title-format="dateFormat" :type="typeFormat " :showTimePanel="showTimePanel " v-model="infoHD.ngayTT" @close="handleOpenChange">
                                        <template #icon-calendar>
                                            <span class="icon one-calendar "></span>
                                         </template>
                                    </date-picker>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-7 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Thu ngân
                                </div>
                                <div class="value">
                                    <Select2 v-model="infoHD.thuNgan.checked" :options="infoHD.thuNgan.list" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row">
                                <div class="key">
                                    Thông tin PT
                                </div>
                                <div class="value">
                                    <input :readonly="!enabled" v-model="infoHD.thongTinPT" type="text" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-form">
            <div class="legend-title">
                <div class="pull-left">
                    Danh sách phiếu thanh toán
                </div>
                <div class="pull-right red">
                    Tổng số : {{gridBox.data.length}}
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="table-content">
                <DataGrid ref="tableDSTB " v-bind:columns="headerGridbox " v-bind:dataSource="gridBox.data " :enablePagingServer="false " :allowPaging="true " :showFilter="true " :allowTextWrap="true " @selectedItemsChanged="selectedItemsChangedGridbox" />
            </div>
        </div>
    </div>
</div>