<div class="main-wrapper">
    <breadcrumb :header="header" />
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="#" @click.prevent="tsbtnNhapMoi_Click" :class="{disabled: !enableNhapMoi}">
                    <span class="icon one-file-plus"></span>Nhập mới
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="tsbtnGhiLai_Click" :class="{disabled: !enableGhiLai}" >
                    <span class="icon nc-icon-glyph ui-1_circle-add"></span>Tạo BK
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="tsbtnNhanBK_Click" :class="{disabled: !enableNhanBk}">
                    <span class="icon nc-icon-glyph files_single-content-02"></span>Nhận BK
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="tsbtnHuyBo_Click" :class="{disabled: !enableHuyBo}">
                    <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Huỷ
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="tsbtnXoaBK_Click" :class="{disabled: !enableXoaBK}">
                    <span class="icon one-trash"></span>Xoá BK
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" :class="{disabled: !enableIn}" @click.prevent="tsbtnIn_Click">
                    <span class="icon one-print"></span>In BN
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="tsbtnTimKiem_Click">
                    <span class="icon one-search"></span>Tìm kiếm
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="btnLayTTMoi_Click">
                    <span class="icon nc-icon-glyph design_bullet-list-67"></span>Danh sách BK
                </a>
            </li>
        </ul>
        
    </div>
    <div class="page-content">
        <div class="grid-stack-box">
            <div class="box-col box-form" id="boxLeft">
                <div class="legend-title">Thông tin tạo bảng kê</div>
                <div class="row">
                    <div class="col-sm-7 col-12">
                        <div class="info-row">
                            <div class="key w90">Người nộp</div>
                            <div class="valeu">
                                <div class="select-custom">
                                    <Select2 ref="nguoinopid" :disabled='false' v-model="cboNguoiNop.value"
                            :options="cboNguoiNop.list" :settings="settingSelect2"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-5 col-12">
                        <div class="info-row">
                            <div class="key w90">Người nhận</div>
                            <div class="valeu">
                                <div class="select-custom">
                                    <Select2 ref="nguoinopid" :disabled='true' v-model="this.$root.token.getNhanVienID()"
                            :options="cboNguoiNop.list" :settings="settingSelect2"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="legend-title mart20">Thông tin tìm kiếm bảng kê</div>
                <div class="row">
                    <div class="col-sm-7 col-12">
                        <div class="info-row">
                            <div class="key w90">Loại bảng kê</div>
                            <div class="valeu">
                                <Select2 ref="bangkeid" :disabled='false' v-model="cboLoaiBangKe.value"
                                    :options="cboLoaiBangKe.list" :settings="settingSelect2"/>
                                </div>
                        </div>
                    </div>
                    <div class="col-sm-5 col-12">
                        <div class="info-row">
                            <div class="key w90">
                                <div class="check-action">
                                    <input type="checkbox" class="check" v-model="checkThangTao">
                                    <span class="name">Tháng tạo</span>
                                </div>
                            </div>
                            <div class="valeu">
                                <date-picker :format="dateFormatMonth" :value-type="dateFormat"
                                    :time-title-format="dateFormatMonth" v-model="thangTao" :disabled="!checkThangTao"
                                    >
                                    <template #icon-calendar>
                                        <span class="icon one-calendar"></span>
                                    </template>
                                </date-picker>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box-col box-form" id="boxRight">
                <div class="legend-title">Thông tin tìm kiếm hợp đồng chưa tạo bảng kê</div>
                <div class="info-row">
                    <div class="key">Đơn vị QL</div>
                    <div class="valeu">
                        <Select2 ref="donviqlid" :disabled='false' v-model="cboLoaiDonViQuanLy.value"
                            :options="cboLoaiDonViQuanLy.list" @select="donViChange($event)" :settings="settingSelect2"/>
                        
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key ">
                                <div class="check-action">
                                    <input type="checkbox" class="check" v-model="checkNhom">
                                    <span class="name">Nhóm</span>
                                </div>
                            </div>
                            <div class="valeu">
                                <Select2 ref="nhomlid" v-model="cboNhomNhanVien.value"
                            :options="cboNhomNhanVien.list" :disabled='!checkNhom' @select="nhomChange($event)" :settings="settingSelect2"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w90">
                                Cộng tác viên
                            </div>
                            <div class="valeu">
                                <Select2 ref="congtacvienid" :disabled='!checkNhom' v-model="cboCongTacVien.value"
                            :options="cboCongTacVien.list" :settings="settingSelect2"/>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key">
                                <div class="check-action">
                                    <input type="checkbox" class="check" v-model="checkToTC">
                                    <span class="name">Tổ thi công</span>
                                </div>
                            </div>
                            <div class="valeu">
                                <Select2 ref="toTCid" :disabled='!checkToTC' v-model="cboToTC.value"
                            :options="cboToTC.list" @select="toTCChange($event)" :settings="settingSelect2"/>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w90">
                                Nhân viên TC
                            </div>
                            <div class="valeu">
                                <Select2 ref="nhanVienTCid" :disabled='!checkToTC' v-model="cboNhanVienTC.value"
                            :options="cboNhanVienTC.list" :settings="settingSelect2"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="grid-stack-box">
            <div class="box-col box-form" id="boxLeft1">
                <div class="legend-title">Danh sách hợp đồng thu tiền</div>
                <div class="table-content">
                    <DataGrid
                            ref="hopDongThuTien"
                            v-bind:columns="listTable.hop_dong_thu_tien.header"                    
                            v-bind:dataSource="listTable.hop_dong_thu_tien.list"
                            :enable-paging-server="false"                                        
                            :allowPaging="true"
                            :showFilter="true"
                            :showColumnCheckbox="false"
                            :enabledSelectFirstRow="false"
                            :aggregates="aggregatesHopDongThuTien"
                            @selectedItemsChanged="grid_ItemChanged_thuTien"
                            @rowDeselected="grid_ItemChanged_thuTien"
                            >
                    </DataGrid>
                </div>
                <div class="legend-title mart20">Danh sách bảng kê</div>
                <div class="table-content">
                    <DataGrid
                            v-bind:columns="listTable.danh_sach_bang_ke.header"                    
                            v-bind:dataSource="listTable.danh_sach_bang_ke.list"
                            :enable-paging-server="false"                                        
                            :allowPaging="true"
                            :showFilter="true"
                            :showColumnCheckbox="false"
                            @rowClicked = "rowBangKeClicked"
                            >
                    </DataGrid>
                </div>
            </div>
            <div class="box-col" id="boxRight1">
                <div class="box-move-select-table">
                    <div class="actions w40 padl0 block mart50">
                        <button class="btn" @click="btnHDRight">
                            <span class="fa fa-angle-right"></span>
                            
                        </button>
                        <button class="btn" @click="btnHDRightAll">
                            <span class="fa fa-angle-double-right"></span>
                            
                        </button>
                        <button class="btn" @click="btnHDLeft">
                            <span class="fa fa-angle-left"></span>
                            
                        </button>
                        <button class="btn" @click="btnHDLeftAll">
                            <span class="fa fa-angle-double-left"></span>
                            
                        </button>
                        
                    </div>
                    <div class="box-col box-form" style="width: calc(100% - 40px);">
                        <div class="legend-title">Danh sách hợp đồng chưa thu tiền</div>
                        <div class="table-content">
                            
                            <DataGrid
                                ref="hopDongChuaTraTien"
                                v-bind:columns="listTable.hop_dong_chua_tra_tien.header"                    
                                v-bind:dataSource="listTable.hop_dong_chua_tra_tien.list"
                                :enable-paging-server="false"                                        
                                :allowPaging="true"
                                :showFilter="true"
                                :showColumnCheckbox="false"
                                :enabledSelectFirstRow="false"
                                @rowClicked = "rowClicked"
                                v-bind:checkheader="true"
                                :aggregates="aggregates"
                                @rowSelected="grid_RowSelected"
                                @rowDeselected="grid_ItemChanged"
                            >
                            </DataGrid>
                            
                        </div>
                        <div class="legend-title mart20">Danh sách thuê bao</div>
                        <div class="table-content">
                            <DataGrid
                                v-bind:columns="listTable.danh_sach_thue_bao.header"                    
                                v-bind:dataSource="listTable.danh_sach_thue_bao.list"
                                :enable-paging-server="false"                                        
                                :allowPaging="true"
                                :showFilter="true"
                                :showColumnCheckbox="false"
                            >
                            </DataGrid>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>