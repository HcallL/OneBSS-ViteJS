<div>
    <ejs-dialog :enableResize="true" :allowDragging="true" :visible="false" :animationSettings="animationSettings"
        ref="dialogTraCuuTBBaoHong" :position="position" :close="closeDialog" :header="'Tra cứu thuê bao báo hỏng'"
        showCloseIcon="true" width="80%" target="#app .main-wrapper">
        <div class="list-actions-top">
            <ul class="list">
                <li>
                    <a href="#" @click.prevent="tsbtnTimKiem_Click">
                        <span class="icon one-search"></span> Tìm kiếm
                    </a>
                </li>
                <li>
                    <a href="#" @click.prevent="tsbtnChapNhan_Click">
                        <span class="icon nc-icon-glyph ui-1_check-circle-08"></span> Chấp nhận
                    </a>
                </li>
                <li>
                    <a href="#" @click.prevent="tsbtnXuatFile_Click">
                        <span class="icon one-download"></span>Xuất file
                    </a>
                </li>
                <li>
                    <a href="#" @click.prevent="tsbtnXuatExcel_Click">
                        <span class="icon one-xlsx-import"></span> Xuất Excel
                    </a>
                </li>

            </ul>
        </div>
        <div class="popup-body">
            <div class="box-form">
                <div class="legend-title">Thông tin tra cứu</div>
                <div class="row">
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w130">Tra cứu theo</div>
                            <div class="value">
                                <SelectExt v-model="cboDKTraCuu" :placeholder="``" :dataSource="cboDKTraCuuList"
                                    dataTextField="kieu_tk" dataValueField="dieukien"></SelectExt>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w130">
                                <div class="check-action">
                                    <input type="checkbox" class="check" v-model="chkDVVT">
                                    <span class="name">Dịch vụ VT</span>
                                </div>
                            </div>
                            <div class="value">
                                <div class="select-custom">
                                    <SelectExt :disabled="!chkDVVT" v-bind:class="{'disabled':!chkDVVT}" v-model="cboDichVuVT"
                                        :placeholder="``" :dataSource="cboDichVuVTList" dataTextField="ten_dvvt"
                                        dataValueField="dichvuvt_id"></SelectExt>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w130">
                                        <div class="check-action">
                                            <input type="checkbox" class="check" v-model="chkNgayLap">
                                            <span class="name">Ngày tiếp nhận</span>
                                        </div>
                                    </div>
                                    <div class="value">
                                        <date-picker  :disabled="!chkNgayLap" v-bind:class="{'disabled':!chkNgayLap}" ref="dtpNgayTN"
                                            :format="dateFormat" :value-type="dateFormat"
                                            :time-title-format="dateFormat" v-model="dtpNgayTN" :type="typeFormat">
                                            <template #icon-calendar>
                                                <span class="icon one-calendar"></span>
                                            </template>
                                        </date-picker>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-12">
                                <div class="info-row">
                                    <div class="key w80">
                                        Đến ngày
                                    </div>
                                    <div class="value">
                                        <date-picker  :disabled="!chkNgayLap" v-bind:class="{'disabled':!chkNgayLap}" ref="dtpDenNgay"
                                            :format="dateFormat" :value-type="dateFormat"
                                            :time-title-format="dateFormat" v-model="dtpDenNgay" :type="typeFormat">
                                            <template #icon-calendar>
                                                <span class="icon one-calendar"></span>
                                            </template>
                                        </date-picker>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w120">Thông tin tra cứu</div>
                            <div class="value">
                                <input type="text" v-model="txTextBoxTC" class="form-control">
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w120">
                                <div class="check-action">
                                    <input type="checkbox" class="check" v-model="chkTrangThai">
                                    <span class="name">Trạng thái BH</span>
                                </div>
                            </div>
                            <div class="value">
                                <SelectExt :disabled="!chkTrangThai" v-bind:class="{'disabled':!chkTrangThai}" v-model="cboTrangThaiBH"
                                    :placeholder="``" :dataSource="cboTrangThaiBHList" dataTextField="trangthai_bh"
                                    dataValueField="ttbh_id"></SelectExt>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w120">
                                Số máy/Acc
                            </div>
                            <div class="value">
                                <input type="text" v-model="txtMaTB" class="form-control">
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="box-form">
                <div class="legend-title">Danh sách thuê bao báo hỏng</div>
                <div class="table-content">
                    <DataGrid v-bind:columns="gridviewDanhSach.headers" :enabledSelectFirstRow="true"
                        v-bind:dataSource="gridviewDanhSach.data" :showColumnCheckbox="false"
                        @rowClicked="gridviewDanhSach_RowClicked"
                        :enable-paging-server="false" :allowPaging="true" :showFilter="true"> </DataGrid>
                </div>

            </div>
        </div>
    </ejs-dialog>
    <ExportDataModal ref="exportDataModal" :data="gridviewDanhSach.data"></ExportDataModal>
</div>