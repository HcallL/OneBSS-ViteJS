<div class="box-form">
  <vue-card :noborder="true" label="Danh sách báo hỏng">
    <div class="row">
      <div class="col-sm-3 col-12">
        <div class="info-row">
          <div class="key w90">
            <div class="check-action">
              <input type="checkbox" class="check" v-model="dsbh.chkDichVu" />
              <span class="name">Dịch vụ</span>
            </div>
          </div>
          <div class="value">
            <div class="select-custom">
              <SelectExt v-model="dsbh.cboDichVu" :allowFiltering="true" :dataSource="options.dichvutk" :disabled="!dsbh.chkDichVu" dataValueField="ID" dataTextField="NAME" />
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-3 col-12">
        <div class="info-row">
          <div class="key w90">
            <div class="check-action">
              <input type="checkbox" class="check" :disabled="!dsbh.chkDichVu" v-model="dsbh.chkLoaiHinh" />
              <span class="name">Loại hình</span>
            </div>
          </div>
          <div class="value">
            <div class="select-custom">
              <SelectExt v-model="dsbh.cboLoaiHinh" :allowFiltering="true" :disabled="!(dsbh.chkDichVu && dsbh.chkLoaiHinh)" :dataSource="options.loaihinhtk" dataValueField="ID" dataTextField="NAME" />
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-3 col-12">
        <div class="info-row">
          <div class="key w90">
            <div class="check-action">
              <input type="checkbox" class="check" v-model="dsbh.chkTTVT" />
              <span class="name">TTVT</span>
            </div>
          </div>
          <div class="value">
            <div class="select-custom">
              <ejs-multiselect
                v-model="dsbh.cboTTVT"
                id="cboTTVT"
                :dataSource="options.ttvt"
                mode="CheckBox"
                :enabled="dsbh.chkTTVT"
                popupWidth="350px"
                popupHeight="250px"
                :showSelectAll="true"
                selectAllText="Chọn tất cả"
                unSelectAllText="Bỏ chọn tất cả"
                :fields="{ text: 'ten_dv', value: 'donvi_id' }"
              ></ejs-multiselect>
            </div>
          </div>
        </div>
      </div>
    </div>
    <DataGrid
      :dataSource="dsBaoHong"
      :showFilter="true"
      :toolbar="null"
      :columns="[
                {
          fieldName: '',
          headerText: '',
          visible: true,
          headerAlign: 'Center',
          textAlign: 'Center',
          allowFiltering: false,
          width: '50',
          template: getColumnCheckbox(this)
        },
        {
      fieldName: 'tinh',
    headerText: 'Tỉnh',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'ma_tb',
    headerText: 'Số máy/Acc',
    allowFiltering: true,
    allowSorting: false,
    },{
    fieldName: 'ma_bh',
    headerText: 'Mã báo hỏng',
    allowFiltering: true,
    allowSorting: false,
    visible: true
    },
    {
    fieldName: 'ma_lt',
    headerText: 'Số ảo',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'loaihinh_tb',
    headerText: 'Loại hình',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'ht_port',
    headerText: 'TT Port',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'tinhtrang',
    headerText: 'Tình trạng',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'ten_tb',
    headerText: 'Tên thuê bao',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'nguoi_bh',
    headerText: 'Người BH',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'dienthoai_lh',
    headerText: 'Liên hệ',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'ngay_bh',
    headerText: 'Ngày BH',
    allowFiltering: true,
    allowSorting: false,
    textAlign: 'right'
    },
    {
    fieldName: 'goi_kt',
    headerText: 'Gói KT',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'chitieu_tg',
    headerText: 'Chỉ tiêu TG',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'thoigian_ck',
    headerText: 'Thời gian CK',
    allowFiltering: true,
    allowSorting: false,
    visible: false
    },
    {
    fieldName: 'ten_ttvt',
    headerText: 'Trung tâm VT',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'tram_vt',
    headerText: 'Trạm VT',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'diachi_ld',
    headerText: 'Địa chỉ LĐ',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'ngay_sd',
    headerText: 'Ngày SD',
    allowFiltering: true,
    allowSorting: false,
    textAlign: 'right',
    format: {type: 'date', format: 'dd/MM/yyyy'},
    type: 'date',
    },
    {
    fieldName: 'ghichu_hong',
    headerText: 'Ghi chú hỏng',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'tt_ph',
    headerText: 'Trạng thái phiếu',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'ten_nv',
    headerText: 'Người nhận',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'dv_nhan',
    headerText: 'Đv nhận',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'nd_tra',
    headerText: 'Nội dung trả',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'luot_bh',
    headerText: 'Lượt BH',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'lan_pa',
    headerText: 'KH gọi',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'ten_loaikh',
    headerText: 'Loại KH',
    allowFiltering: true,
    allowSorting: false,
    visible: false
    },
    {
    fieldName: 'ten_plkh',
    headerText: 'Phân loại KH',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'cuoc_ps',
    headerText: 'Cước PS',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'ngaytra',
    headerText: 'Ngày trả',
    allowFiltering: true,
    allowSorting: false,
    format: {type: 'date', format: 'dd/MM/yyyy'},
    type: 'date',
    },
    {
    fieldName: 'nv_giu',
    headerText: 'Người giữ',
    allowFiltering: true,
    allowSorting: false,
    },
    {
    fieldName: 'daucuoi',
    headerText: 'ĐIỂM',
    allowFiltering: true,
    allowSorting: false,
    }
              ]"
      :showColumnCheckbox="false"
      :allowPaging="true"
      :enablePagingServer="false"
      :enabled-select-first-row="false"
      :contextMenuItems="menuContextItems"
      ref="dsBaoHong"
      @selectedRowChanged="selectedRowChanged"
      @dataBound="dataBound"
      @contextMenuClick="contextMenuClick"
    ></DataGrid>
  </vue-card>
</div>
