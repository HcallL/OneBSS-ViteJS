<div class="modal-content popup-box">
    <div class="list-actions-top">
        <ul class="list">
            <li :class="!enable.tsbtnNhapMoi ? 'non-ative' : ''">
              <a @click="tsbtnNhapMoi_Click">
                  <span class="icon one-file-plus"></span> Nhập mới
              </a>
            </li> 
            <li :class="!enable.tsbtnGhiLai ? 'non-ative' : ''">
                <a @click="tsbtnGhiLai_Click">
                    <span class="icon one-save"></span> Ghi lại
                </a>
            </li>
            <li :class="!enable.tsbtnHuyBo ? 'non-ative' : ''">
              <a @click="tsbtnHuyBo_Click">
                  <span class="icon nc-icon-glyph ui-1_circle-remove"></span> Hủy
              </a>
            </li>     
            <li :class="!enable.tsbtnXoa ? 'non-ative' : ''">
                <a @click="tsbtnXoa_Click">
                    <span class="icon one-trash"></span> Xoá
                </a>
            </li>
            <li>
              <a @click="tsbtnExcel_Click">
                  <span class="icon one-excel"></span> Xuất excel
              </a>
            </li>
            <li style="display: none"><a id="thuhoi" @click="gridVatTuSD_onThuHoi">Thu hồi</a></li>
            <input type="text" style="display: none" id="thuhoi_stt" />
        </ul>
    </div>
    <div class="popup-body">
        <div class="box-form">
            <div class="legend-title">Thông tin thiết bị</div>
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key w90">Trang bị</div>
                        <div class="value">
                            <div class="select-custom">
                                <ejs-dropdownlist-tt id="trangbiadsl_id"
                                    locale="vi-VN"
                                    v-model="trangbiadsl_id"
                                    :dataSource="ds_trangbiadsl"
                                    :allowFiltering="true" :filtering="cboTrangBiADSL_onFilter"
                                    :fields="{ value: 'trangbi_id', text: 'tentrangbi' }"
                                />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key w90">Đơn vị</div>
                        <div class="value">
                            <div class="select-custom">
                                <ejs-dropdownlist-tt id="donvitbi_id"
                                    locale="vi-VN"
                                    v-model="donvitbi_id"
                                    :dataSource="ds_donvitbi"
                                    :allowFiltering="true" :filtering="cboDonvi_TBI_onFilter"
                                    :fields="{ value: 'donvi_tbi_id', text: 'donvi_tbi' }"
                                />
                            </div>
                        </div>
                    </div>
                </div>    
            </div>

            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key w90">
                            <span class="name">Thiết bị</span>
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <ejs-dropdownlist-tt id="thietbi_id"
                                    locale="vi-VN" @change="cboThietBi_EditValueChanged"
                                    v-model="thietbi_id" :enabled="enable.cboThietBi"
                                    :dataSource="ds_thietbi"
                                    :allowFiltering="true" :filtering="cboThietBi_onFilter"
                                    :fields="{ value: 'loaitbi_id', text: 'loai_tbi' }"
                                />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-12">
                  <div class="info-row">
                      <div class="key w90">
                          <span class="name">Số lượng</span>
                      </div>
                      <div class="value">
                          <input type="text" class="form-control" v-model="txtSoLuong" id="txtSoLuong"  @keydown="txtSoLuong_KeyPress">
                      </div>
                  </div>
                </div>
            </div>

            <div class="row">
              <div class="col-sm-6 col-12">
                  <div class="info-row">
                      <div class="key w90">
                          <span class="name">Kiểu thiết bị</span>
                      </div>
                      <div class="value">
                          <div class="select-custom">
                              <ejs-dropdownlist-tt id="kieuthietbi_id"
                                  locale="vi-VN"
                                  v-model="kieuthietbi_id" :enabled="enable.cboKieuThietBi"
                                  :dataSource="ds_kieuthietbi"
                                  :allowFiltering="true" :filtering="cboKieuThietBi_onFilter"
                                  :fields="{ value: 'kieutbi_id', text: 'kieu_tbi' }"
                              />
                          </div>
                      </div>
                  </div>
              </div>
              <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w90">
                        <span class="name">Seri</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="txtSeri" id="txtSeri">
                    </div>
                </div>
              </div>
          </div>

          <div class="row">
            <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w90">
                        <span class="name">Tình trạng</span>
                    </div>
                    <div class="value">
                        <div class="select-custom">
                            <ejs-dropdownlist-tt id="tinhtrang_id"
                                locale="vi-VN"
                                v-model="tinhtrang_id" :enabled="enable.cboTinhTrang"
                                :dataSource="ds_tinhtrang"
                                :allowFiltering="true" :filtering="cboTinhTrang_onFilter"
                                :fields="{ value: 'tinhtrangtbi_id', text: 'tinhtrang_tbi' }"
                            />
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-12">
              <div class="info-row">
                  <div class="key w90">
                      <span class="name">Ghi chú</span>
                  </div>
                  <div class="value">
                      <input type="text" class="form-control" v-model="txtGhiChu" id="txtGhiChu">
                  </div>
              </div>
            </div>
        </div>
      </div>

      <div class="box-form">
          <div class="legend-title">Danh sách cấp/thu hồi vật tư</div>
          <div class="table-content mart10">
              <DataGridCustom
                  ref="ds_cap_thuhoi_vattu"
                  v-bind:columns="columnsDS_CTHVT"
                  v-bind:dataSource="ds_cap_thuhoi_vattu"
                  :showColumnCheckbox="false"
                  :showFilter="true"
                  :enabledSelectFirstRow="true"
                  :selectionSettings="{ checkboxMode: 'ResetOnRowClick' }"
                  panelDataHeight="270"
                  :allowPaging="true" :enablePagingServer="false"
                  @rowSelected="gridVatTu_rowSelected"
              ></DataGridCustom>
          </div>           
      </div>

      <div class="box-form">
          <div class="legend-title">Danh sách vật tư thuê bao đang sử dụng</div>
          <div class="table-content">
              <DataGridCustom
                  ref="ds_vattu_thuebao_dangsudung"
                  v-bind:columns="columnsDS_VTTBDSD"
                  v-bind:dataSource="ds_vattu_thuebao_dangsudung"
                  :showColumnCheckbox="false"
                  :showFilter="true"
                  :enabledSelectFirstRow="true"
                  :selectionSettings="{ checkboxMode: 'ResetOnRowClick' }"
                  panelDataHeight="270"
                  :allowPaging="true" :enablePagingServer="false"
                  @rowSelected="gridVatTuSD_rowSelected"
                  @actionComplete="gridVatTuSD_actionComplete"
              ></DataGridCustom>
          </div>
      </div>
      
    </div>
</div>