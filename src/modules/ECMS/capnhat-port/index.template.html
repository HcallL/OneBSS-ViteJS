<div class="">
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="/#/ecms/capnhat-port" @click="capNhat">
                    <span class="icon one-reload1"></span> Cập nhật
                </a>
            </li>

        </ul>
    </div>
    <div class="page-content">
        <div class="row">
            <div class="col-sm-7 col-12">
                <div class="box-form">
                    <div class="legend-title">Thông tin Dslam tỉnh</div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w70">Đơn vị QL<span style="color: red">*</span></div>
                                <div class="value">
                                    <div class="select-custom">
                                        <SelectExt v-model="arrayCBO.cboDVQL" :dataSource="arrayDataToCbo.dataDVQL" dataTextField="TEN_DV"
                                            dataValueField="DONVI_ID" @change="layDsTramTC" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w80">Dslam tỉnh<span style="color: red">*</span></div>
                                <div class="value">
                                    <div class="select-custom">
                                        <SelectExt v-model="arrayCBO.cboDslamTinh" :dataSource="arrayDataToCbo.dataDslamTinh" dataTextField="TEN_DSLAM"
                                            dataValueField="DSLAM_ID" @change="cboDslamTinh_Changed()" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w70">Trạm TC<span style="color: red">*</span></div>
                                <div class="value">
                                    <div class="select-custom">
                                        <SelectExt v-model="arrayCBO.cboTramTC" :dataSource="arrayDataToCbo.dataTramTC" dataTextField="TEN_DV"
                                            dataValueField="DONVI_ID" @change="layDsTramTB()" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w80">
                                    <div class="check-action">
                                        <input type="checkbox" class="check" v-model="arrayCBO.chkCard">
                                        <span class="name">Card</span>
                                    </div>
                                </div>
                                <div class="value">
                                    <div class="select-custom">
                                        <SelectExt v-model="arrayCBO.cboCard" :dataSource="arrayDataToCbo.dataCard" dataTextField="TEN_CARD"
                                            dataValueField="CARD_ID" @change="cboCard_Changed()" :disabled="!arrayCBO.chkCard" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w70">Trạm TBị</div>
                                <div class="value">
                                    <div class="select-custom">
                                        <SelectExt v-model="arrayCBO.cboTramTB" :dataSource="arrayDataToCbo.dataTramTB" dataTextField="TEN_DV"
                                            dataValueField="DONVI_ID" @change="layDsDslamTinh()"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="col-sm-5 col-12">
                <div class="box-form" style="height: 185px;">
                    <div class="legend-title">Thông tin Dslam VDC</div>
                    <div class="info-row">
                        <div class="key w80">Bras VDC<span style="color: red">*</span></div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt v-model="arrayCBO.cboBras" :dataSource="arrayDataToCbo.dataBras" dataTextField="TENBRAS"
                                            dataValueField="BRAS_ID" @change="layDsDslamVDC()"/>
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w80">Dslam VDC<span style="color: red">*</span></div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt v-model="arrayCBO.cboDslam" :dataSource="arrayDataToCbo.dataDslam" dataTextField="TENDSLAM"
                                            dataValueField="DSLAM_ID"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-7 col-12">
                <div class="box-form">
                    <div class="legend-title">
                        <div class="pull-left">Danh sách Port</div>
                        <div class="pull-right normal">
                            {{lblTongSo}}
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="table-content" style="height: 500px;">
                        <DataGrid ref="grid" v-bind:columns="[
                            {fieldName: 'DSLAM_VDC', headerText: 'Dslam VDC', allowFiltering: true, allowSorting: false, width: 120},
                            {fieldName: 'SLOT', headerText: 'Slot', allowFiltering: true, allowSorting: false, width: 70},
                            {fieldName: 'PORT', headerText: 'Port', allowFiltering: true, allowSorting: false, width: 70},
                            {fieldName: 'SYSTEM', headerText: 'System', allowFiltering: true, allowSorting: false, width: 90},
                            {fieldName: 'RACK', headerText: 'Rack', allowFiltering: true, allowSorting: false, width: 80},
                            {fieldName: 'SHELF', headerText: 'Shelf', allowFiltering: true, allowSorting: false, width: 80},
                            {fieldName: 'VITRI', headerText: 'Vị trí', allowFiltering: true, allowSorting: false, width: 70},
                            {fieldName: 'TEN_CARD', headerText: 'Card', allowFiltering: true, allowSorting: false, width: 70},
                            {fieldName: 'SELFID01', headerText: 'Frame', allowFiltering: true, allowSorting: false, width: 80},
                            {fieldName: 'SELFID02', headerText: 'OLT Slot', allowFiltering: true, allowSorting: false, width: 100},
                            {fieldName: 'SELFID03', headerText: 'OLT Port', allowFiltering: true, allowSorting: false, width: 100},
                            {fieldName: 'SELFID04', headerText: 'ONU ID', allowFiltering: true, allowSorting: false, width: 100},
                            {fieldName: 'TRANGTHAI_PORT', headerText: 'Trạng thái', allowFiltering: true, allowSorting: false, width: 120},
                            {fieldName: 'PORT_ID', headerText: 'Port ID', allowFiltering: true, allowSorting: false, width: 120},
                            {fieldName: 'PORTVL_ID', headerText: 'PortVL ID', allowFiltering: true, allowSorting: false, width: 120},
                            ]"
                                v-bind:dataSource="arrayDataGrids.dsPort"
                                dataKeyField="PORT_ID"
                                :showFilter="true"
                                :enabledSelectFirstRow='true'
                                :showColumnCheckbox="true"
                                @queryCellInfo="dsPort_queryCellInfo"
                                :allowPaging = true
                                :enablePagingServer = false
                                @selectedItemsChanged="selectedItemsDsHoSo">
                        </DataGrid>
                    </div>
                </div>
            </div>
            <div class="col-sm-5 col-12">
                <div class="box-form">
                    <div class="legend-title">Danh sách thuê bao</div>
                    <div class="table-content" style="height: 500px;">
                        <DataGrid v-bind:columns="[
                                {fieldName: 'MA_TB', headerText: 'Số máy/ACC', allowFiltering: true, allowSorting: false, width: 120},
                                {fieldName: 'TEN_DVVT', headerText: 'Dịch vụ', allowFiltering: true, allowSorting: false, width: 120},
                                {fieldName: 'LOAIHINH_TB', headerText: 'Loại hình', allowFiltering: true, allowSorting: false, width: 120},
                                {fieldName: 'LOAI', headerText: 'Loại', allowFiltering: true, allowSorting: false, width: 120},
                                {fieldName: 'TTHD_TB', headerText: 'Trạng thái', allowFiltering: true, allowSorting: false, width: 120},
                                {fieldName: 'VCI', headerText: 'Vci', allowFiltering: true, allowSorting: false,  width: 100},
                                {fieldName: 'VPI', headerText: 'Vpi', allowFiltering: true, allowSorting: false,  width: 100},                            ]"
                                v-bind:dataSource="arrayDataGrids.dsThueBao"
                                :showFilter="true"
                                :allowPaging = true
                                :enablePagingServer = false
                                @selectedItemsChanged="onClickdsThueBao">
                        </DataGrid>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
