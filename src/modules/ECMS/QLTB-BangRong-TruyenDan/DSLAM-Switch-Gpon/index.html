<div>
    <div class="box-form">
        <div class="legend-title">THÔNG TIN {{ title }}</div>
        <div class="title-bg-main">
            <span class="title">Thông tin thiết bị</span>
        </div>
        <div class="row">
            <div class="col-sm-5 col-12">
                <div class="info-row">
                    <div class="key w110">Tủ rack <span class="red">*</span></div>
                    <div class="value">
                        <!-- <div class="select-custom">
                            <select name="" id="" class="form-control" >
                                <option v-for="(turack, index) in dsTuRack" :key="index" :value="turack.TURACK_ID">{{ turack.TEN_TU }}</option>
                            </select>
                        </div> -->
                        <ejs-multiselect id='multiselect-checkbox' 
                            v-model="dslam.rack_id"
                            :dataSource='dsTuRack' 
                            placeholder='Chọn tủ rack' 
                            selectAllText="Chọn tất cả"
                            unSelectAllText="Bỏ chọn tất cả"
                            :fields="{ text: 'TEN_TU', value: 'TURACK_ID' }"
                            mode='CheckBox' 
                            popupHeight='350px' 
                            :showDropDownIcon='true' 
                            :showSelectAll='true'
                            :enableSelectionOrder='true' 
                            filterType='Contains'
                            :ignoreAccent='true'
                            filterBarPlaceholder='Tìm tủ rack'>
                        </ejs-multiselect>
                    </div>
                </div>
                
            </div>
            <div class="col-sm-7 col-12">
                <div class="info-row">
                    <div class="key w90">Tên thiết bị <span class="red">*</span></div>
                    <div class="value">
                        <input type="text" class="form-control" v-model.trim="dslam.tenTb">
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-5 col-12">
                <div class="info-row">
                    <div class="key w110">Loại thiết bị <span class="red">*</span></div>
                    <div class="value">
                        <div class="select-custom">
                            <!-- <select name="" id="" class="form-control" v-model="dslam.loaiTb_id" :disabled="!isEnableLoaiTb">
                                <option v-for="(loaitb, index) in dsLoaiThietBi" :key="index" :value="loaitb.LOAITBI_ID">{{ loaitb.LOAI_TBI }}</option>
                            </select> -->
                            <SelectExt
                                v-model.trim="dslam.loaiTb_id"
                                :settings="{dropdownParent: $refs['loaiTB']}"
                                :dataSource="dsLoaiThietBi"
                                dataTextField="LOAI_TBI"
                                dataValueField="LOAITBI_ID"
                                :disabled="!isEnableLoaiTb"/>
                        </div>
                    </div>
                </div>
                
            </div>
            <div class="col-sm-7 col-12">
                <div class="info-row">
                    <div class="key w90">Loại DSLAM</div>
                    <div class="value">
                        <div class="select-custom">
                            <!-- <select name="" id="" class="form-control" v-model="dslam.loaiDslam_id">
                                <option v-for="(loaidslam, index) in dsLoaiDslam" :key="index" :value="loaidslam.LOAI_DSLAM_ID">{{ loaidslam.LOAI_DSLAM }}</option>
                            </select> -->
                            <SelectExt
                                v-model.trim="dslam.loaiDslam_id"
                                :settings="{dropdownParent: $refs['loaiDSLAM']}"
                                :dataSource="dsLoaiDslam"
                                dataTextField="LOAI_DSLAM"
                                dataValueField="LOAI_DSLAM_ID"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-5 col-12">
                <div class="info-row">
                    <div class="key w110">Hãng sản xuất <span class="red">*</span></div>
                    <div class="value">
                        <div class="select-custom">
                            <!-- <select name="" id="" class="form-control" v-model="dslam.hangsx_id">
                                <option v-for="(hangsx, index) in dsHangSanXuat" :key="index" :value="hangsx.HANGSX_ID">{{ hangsx.TEN_HANGSX }}</option>
                            </select> -->
                            <SelectExt
                                v-model.trim="dslam.hangsx_id"
                                :settings="{dropdownParent: $refs['hangSX']}"
                                :dataSource="dsHangSanXuat"
                                dataTextField="TEN_HANGSX"
                                dataValueField="HANGSX_ID"/>
                        </div>
                    </div>
                </div>
                
            </div>
            <div class="col-sm-7 col-12">
                <div class="row">
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w90">Kiểu DSLAM</div>
                            <div class="value">
                                <div class="select-custom">
                                    <!-- <select name="" id="" class="form-control" v-model="dslam.kieuDslam_id">
                                        <option v-for="(kieudslam, index) in dsKieuDslam" :key="index" :value="kieudslam.KIEUDSLAM_ID">{{ kieudslam.KIEU_DSLAM }}</option>
                                    </select> -->
                                    <SelectExt
                                        v-model.trim="dslam.kieuDslam_id"
                                        :settings="{dropdownParent: $refs['kieuDSLAM']}"
                                        :dataSource="dsKieuDslam"
                                        dataTextField="KIEU_DSLAM"
                                        dataValueField="KIEUDSLAM_ID"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w100">Thiết bị cha</div>
                            <div class="value">
                                <div class="select-custom">
                                    <!-- <select name="" id="" class="form-control" v-model="dslam.tbCha_id">
                                        <option v-for="(dslamcha, index) in dsDslamCha" :key="index" :value="dslamcha.DSLAM_ID">{{ dslamcha.TENDSLAM }}</option>
                                    </select> -->
                                    <SelectExt
                                        v-model.trim="dslam.tbCha_id"
                                        :settings="{dropdownParent: $refs['thietBiCha']}"
                                        :dataSource="dsDslamCha"
                                        dataTextField="TENDSLAM"
                                        dataValueField="DSLAM_ID"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-5 col-12">
                <div class="info-row">
                    <div class="key w110">Bras <span class="red">*</span></div>
                    <div class="value">
                        <div class="select-custom">
                            <!-- <select name="" id="" class="form-control" v-model="dslam.bras_id" :disabled="!isEnableBras">
                                <option v-for="(bras, index) in dsBras" :key="index" :value="bras.BRAS_ID">{{ bras.TENBRAS }}</option>
                            </select> -->
                            <SelectExt
                                v-model.trim="dslam.bras_id"
                                :settings="{dropdownParent: $refs['bras']}"
                                :dataSource="dsBras"
                                dataTextField="TENBRAS"
                                dataValueField="BRAS_ID"
                                :disabled="!isEnableBras"/>
                        </div>
                    </div>
                </div>
                
            </div>
            <div class="col-sm-7 col-12">
                <div class="row">
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w90">Tham số</div>
                            <div class="value">
                                <input type="number" class="form-control" :value="dslam.thamSo" disabled>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w100">Thiết bị VDC ID</div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.tbVDC" :disabled="!isEnableTbVDC">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-5 col-12">
                <div class="info-row">
                    <div class="key w110">IP thiết bị</div>
                    <div class="value">
                        <input type="text" class="form-control" v-model.trim="dslam.ip">
                    </div>
                </div>
                
            </div>
            <div class="col-sm-7 col-12">
                <div class="row">
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w90">Số slot <span class="red" v-if="requiredFields_soSlot">*</span></div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.soSlot" :disabled="!isEnableSoSlot">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w70">{{ lb_card_slot }} <span class="red" v-if="requiredFields_cardBD">*</span></div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.cardBD" :disabled="!isEnableCardBD">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w100">Svlan</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model="dslam.svlan">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w60">VCI BĐ</div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.vciBD">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-5 col-12">
                <div class="info-row">
                    <div class="key w110">System <span class="red" v-if="requiredFields_system">*</span></div>
                    <div class="value">
                        <input type="text" class="form-control" v-model.trim="dslam.system">
                    </div>
                </div>
                
            </div>
            <div class="col-sm-7 col-12">
                <div class="row">
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w90">Số port <span class="red" v-if="requiredFields_soPort">*</span></div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.soPort" :disabled="!isEnableSoPort">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w70">Port bd <span class="red" v-if="requiredFields_portBD">*</span></div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.portBD" :disabled="!isEnablePortBD">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w100">
                                <div class="check-action">
                                    <input type="checkbox" class="check" v-model="chk_subSlot" :disabled="!isEnableChk_subSlot">
                                    <span class="name">Subslot</span>
                                </div>
                            </div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.subSlot" :disabled="!isEnableSubSlot">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col-12">
                        <div class="info-row">
                            <div class="key w60">MDF BĐ</div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.MDFBD">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-5 col-12">
                <div class="info-row">
                    <div class="key w110">Ghi chú</div>
                    <div class="value">
                        <input type="text" class="form-control" v-model.trim="dslam.ghiChu">
                    </div>
                </div>
                
            </div>
            <div class="col-sm-7 col-12">
                <div class="row">
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w90">Slot Bras <span class="red" v-if="requiredFields_slotBras">*</span></div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.slotBras">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w100">
                                Port Bras <span class="red" v-if="requiredFields_portBras">*</span>
                            </div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.portBras">
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-5 col-12">
                <div class="row">
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w110">Vlan GNMS</div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.vlanGNMS">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w60">
                                Vlan Ims
                            </div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.vlanIms">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w110">Vlan Mytv</div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.vlanMyTv">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-12">
                        <div class="info-row">
                            <div class="key w60">
                                Vlan Int
                            </div>
                            <div class="value">
                                <input type="number" class="form-control" v-model="dslam.vlanInt">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="info-row">
                    <div class="key w110">
                        Thông tin AE
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model.trim="dslam.thongTinAE">
                    </div>
                </div>
            </div>
            <div class="col-sm-7 col-12">
                <div class="info-row">
                    <div class="key" style="width: 200px;">
                        <div class="check-action">
                            <input type="checkbox" class="check" v-model="chk_doitac">
                            <span class="name">Không thuộc VNPT quản lý</span>
                        </div>
                    </div>
                    <div class="value">
                        <div class="select-custom">
                            <SelectExt
                                v-model.trim="dslam.doitac_id"
                                :dataSource="dsDoiTac"
                                dataTextField="TEN_DT"
                                dataValueField="DOITAC_ID"
                                :disabled="!chk_doitac"/>
                            <!-- <select name="" id="" class="form-control" :disabled="!chk_doitac">
                                <option v-for="(doitac, index) in dsDoiTac" :key="index" :value="doitac.DOITAC_ID">{{ doitac.TEN_DT }}</option>
                            </select> -->
                        </div>
                    </div>
                </div>
                <div class="info-row">
                    <div class="key" style="width: 200px;">
                        <div class="check-action">
                            <input type="checkbox" class="check" v-model="chk_toanha">
                            <span class="name">Thuộc tòa nhà</span>
                        </div>
                    </div>
                    <div class="value">
                        <div class="select-custom">
                            <SelectExt
                                v-model.trim="dslam.toanha_id"
                                :dataSource="dsToaNha"
                                dataTextField="TEN_TOANHA"
                                dataValueField="TOANHA_ID"
                                :disabled="!chk_toanha"/>
                            <!-- <select name="" id="" class="form-control" :disabled="!chk_toanha">
                                <option v-for="(toanha, index) in dsToaNha" :key="index" :value="toanha.TOANHA_ID">{{ toanha.TEN_TOANHA }}</option>
                            </select> -->
                        </div>
                    </div>
                </div>
                <div class="info-row">
                    <div class="key" style="width: 200px;">
                        <div class="check-action">
                            <input type="checkbox" class="check" v-model="chk_dothu">
                            <span class="name">Cho phép đo thử</span>
                        </div>
                    </div>
                    <div class="value">
                        <div class="check-action mart7">
                            <input type="checkbox" class="check" v-model="chk_dslamVDC" disabled>
                            <span class="name red">Dslam VDC (Dslam trên trang visa)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="box-form" v-show="dslam.loaiTb_id == LOAI_TBI.SWITCH">
        <div class="legend-title">Danh sách port</div>
        <div class="table-content">
            <DataGrid ref='grid' v-bind:columns="[    
            {fieldName: 'VITRI', headerText: 'Port', allowFiltering: true},
            {fieldName: 'VCI', headerText: 'Vci', allowFiltering: true},    
            {fieldName: 'VPI', headerText: 'Vpi', allowFiltering: true},
            {fieldName: 'MA_TB', headerText: 'Số máy/Acc', allowFiltering: true},    
            {fieldName: 'TEN_TB', headerText: 'Tên thuê bao', allowFiltering: true},                    
            {fieldName: 'DIACHI_LD', headerText: 'Địa chỉ', allowFiltering: true},
            {fieldName: 'LOAIHINH_TB', headerText: 'Loại hình', allowFiltering: true},
            {fieldName: 'TRANGTHAI_TB', headerText: 'Trạng thái thuê bao', allowFiltering: true},     
            ]"
                v-bind:dataSource="dsPortTheoSwtich" :showFilter="true"></DataGrid>
        </div>
    </div>
</div>