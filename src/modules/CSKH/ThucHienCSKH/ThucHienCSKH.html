<div>
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="javascript: void(0)" @click="onGhiLai" :class="{'disabled': !enableGhiLai}">
                    <span class="icon one-save"></span>Ghi lại
                </a>
            </li>
            <li>
                <a href="javascript: void(0)" @click="onXoa" :class="{'disabled': !enableXoa}">
                    <span class="icon one-trash"></span>Xoá
                </a>
                <confirmPopup idModal="xoaConfirm" @onOk="onXoaConfirm"
                    content="Bạn có chắc chắn muốn xóa khách hàng đã chọn khỏi danh sách thực hiện CSKH không?" />
            </li>
            <li>
                <a href="javascript: void(0)" @click="onHoanThanh" :class="{'disabled': !enableHoanThanh}">
                    <span class="icon one-file-check"></span>Hoàn thành
                </a>
                <confirmPopup idModal="hoanThanhConfirm" @onOk="onHoanThanhConfirm"
                    content="Bạn chắc chắn muốn hoàn thành không?" />
            </li>
            <li>
                <a href="javascript: void(0)" @click="onBaoTon" :class="{'disabled': !enableBaoTon}">
                    <span class="icon one-file-chart"></span>Báo tồn
                </a>
                <confirmPopup idModal="baoTonConfirm" @onOk="onBaoTonConfirm"
                    content="Bạn chắc chắn muốn báo tồn không?" />
            </li>
            <!-- <confirmPopup idModal="xoaConfirm" @onOk="onXoaConfirm" content="Bạn có chắc chắn muốn xóa khách hàng đã chọn khỏi danh sách thực hiện CSKH không?"/> -->
            <!-- <confirmPopup idModal="hoanThanhConfirm" @onOk="onHoanThanhConfirm" content="Bạn chắc chắn muốn hoàn thành không?"/> -->
            <!-- <confirmPopup idModal="baoTonConfirm" @onOk="onBaoTonConfirm" content="Bạn chắc chắn muốn báo tồn không?"/> -->

        </ul>
    </div>
    <div class="page-content">
        <div class="box-form">
            <div class="legend-title">Thông tin thực hiện CSKH</div>
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key w100">Trạng thái
                            <BssRequiredMarker />
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <!-- <app-select2 :options="dsTrangThai" v-model="trangThaiSelected" class="form-control">
                                </app-select2> -->
                                <SelectExt v-model.trim="trangThaiSelected" :dataSource="dsTrangThai"
                                        dataTextField="text" dataValueField="id" placeholder="Chọn trạng thái" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w100">Chương trình
                                    <BssRequiredMarker />
                                </div>
                                <div class="value">
                                    <div class="select-custom">
                                        <!-- <app-select2 :options="dsChuongTrinhCSKH" v-model="chuongTrinhCSKHSelected"
                                            class="form-control">
                                        </app-select2> -->
                                        <SelectExt v-model.trim="chuongTrinhCSKHSelected" :dataSource="dsChuongTrinhCSKH"
                                        dataTextField="text" dataValueField="id" placeholder="Chọn chương trình" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w70">Công việc
                                    <BssRequiredMarker />
                                </div>
                                <div class="value">
                                    <div class="select-custom">
                                        <!-- <app-select2 :options="dsCongViecTheoCT" v-model="congViecSelected"
                                            class="form-control">
                                        </app-select2> -->
                                        <SelectExt v-model.trim="congViecSelected" :dataSource="dsCongViecTheoCT"
                                        dataTextField="text" dataValueField="id" placeholder="Chọn công việc" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w100">Tên đối tượng</div>
                                <div class="value">
                                    <input type="text" class="form-control" v-model="txtTenDT">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w70">Số ĐT
                                    <BssRequiredMarker />
                                </div>
                                <div class="value">
                                    <input type="text" class="form-control" v-model="txtSoDT" ref="txtSoDT"
                                        :class="{'is-invalid': $v.txtSoDT.$error }">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w100">Loại đối tượng</div>
                                <div class="value">
                                    <div class="select-custom">
                                        <!-- <app-select2 :options="dsLoaiDoiTuong" v-model="loaiDoiTuongSelected"
                                            class="form-control">
                                        </app-select2> -->
                                        <SelectExt v-model.trim="loaiDoiTuongSelected" :dataSource="dsLoaiDoiTuong"
                                        dataTextField="text" dataValueField="id" placeholder="Chọn loại đối tượng" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w70">Chức vụ</div>
                                <div class="value">
                                    <input type="text" class="form-control" v-model="txtChucVu">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key w70">Địa chỉ
                            <BssRequiredMarker />
                        </div>
                        <div class="value">
                            <div class="input-more-button">
                                <button class="btn" v-b-modal.idDiaChi_khachhang>
                                    <span class="-ap icon-more_horiz"></span>
                                </button>
                                <input type="text" class="form-control" v-model="txtDiaChi" ref="txtDiaChi"
                                    :class="{'is-invalid': $v.txtDiaChi.$error }" />
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w70">Quà tặng
                            <BssRequiredMarker />
                        </div>
                        <div class="value">
                            <input type="text" class="form-control" v-model="txtQuaTang" ref="txtQuaTang"
                                :class="{'is-invalid': $v.txtQuaTang.$error }" />
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w70">Ghi chú</div>
                        <div class="value">
                            <textarea name="" id="" cols="30" rows="10" class="form-control"
                                style="height: 70px;resize: vertical;" v-model="txtGhiChu"></textarea>
                        </div>
                    </div>
                </div>

            </div>
            <div class="legend-title mart10">Danh sách khách hàng</div>
            <div class="table-content">
                <DataGrid :columns="dsChamSocTheoNVFields" ref="gridDsChamSocTheoNV" :dataSource="dsChamSocTheoNV"
                    dataKeyField="KHACHHANG_ID" :showFilter="true"
                    @selectedRowChanged="gridDsChamSocTheoNV_selectedRowChanged" :allowPaging="true"
                    :enablePagingServer="false" />
                </DataGrid>
            </div>

        </div>
    </div>
    <ModalChonDiaChi modalId="idDiaChi_khachhang" @xacnhan="getDiaChiKH"/>
</div>
