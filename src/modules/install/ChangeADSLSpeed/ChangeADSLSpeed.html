<div class="main-wrapper">
<!--  <div class="breadcrumb-top">-->
<!--    <div class="main-title">Thay đổi tốc độ, mức cước thuê bao internet (Bán chéo)</div>-->
<!--    <ul class="breadcrumb">-->
<!--      <li class="breadcrumb-item"><a ><span class="nc-icon-outline ui-1_home-simple"></span> Trang chủ </a></li>-->
<!--      <li class="breadcrumb-item"><a >Bán chéo</a></li>-->
<!--      <li class="breadcrumb-item active">Thay đổi tốc độ internet</li>-->
<!--    </ul>-->
<!--  </div>-->
  <breadcrumb :header="header"/>
  <div class="list-actions-top">
    <ul class="list">
      <li>
        <a ref="tsbtnNhapMoi" @click="tsbtnNhapMoi_Click" v-if="tsbtnNhapMoi.Visible" :class="{disabled: !tsbtnNhapMoi.Enabled}">
          <span class="icon one-file-plus"></span> Nhập mới (F5)
        </a>
      </li>
      <li>
        <a @click="tsbtnGhiLai_click" ref="tsbtnGhiLai" v-if="tsbtnGhiLai.Visible" :class="{disabled: !tsbtnGhiLai.Enabled}">
          <span class="icon one-save"></span> Ghi lại (F9)
        </a>
      </li>
      <li>
        <a  ref="tsbtnHuyBo" @click="tsbtnHuyBo_Click" v-if="tsbtnHuyBo.Visible" :class="{disabled: !tsbtnHuyBo.Enabled}">
          <span class="icon nc-icon-glyph ui-1_circle-remove"></span> Hủy
        </a>
      </li>
      <li>
        <a   v-if="tsbtnXoa.Visible" @click="tsbtnXoa_Click" :class="{disabled: !tsbtnXoa.Enabled}">
          <span class="icon one-trash"></span> Xóa HĐ (F8)
        </a>
      </li>
      <li>
        <a v-if="tsbtnSuaKM.Visible" @click="tsbtnSuaKM_Click" :class="{disabled: !tsbtnSuaKM.Enabled}">
          <span class="icon one-file-edit1"></span> Sửa KM
        </a>
      </li>
      <li>
        <a @click="tsbtnDKGoiDaDV_Click">
          <span class="icon one-file-edit1"></span> Gói đa DV
        </a>
      </li>
      <li>
        <a @click="tsbtnInHD_Click">
          <span class="icon one-print"></span> In PL
        </a>
      </li>
      <li>
        <a @click="tsbtnThanhToan_Click" :class="{disabled: !tsbtnThanhToan.Enabled}">
          <span class="icon nc-icon-glyph shopping_credit-card"></span> Thanh toán
        </a>
      </li>
      <li>
        <a  ref="tsbtnThemTB"  @click="tsbtnThemTB_Click" v-if="tsbtnThemTB.Visible" :class="{disabled: !tsbtnThemTB.Enabled}">
          <span class="icon one-mobile-plus"></span>Thêm TB
        </a>
      </li>
      <li>
        <a  ref="tsbtnXoaTB" @click="tsbtnXoaTB_Click"  v-if="tsbtnXoaTB.Visible" :class="{disabled: !tsbtnXoaTB.Enabled}">
          <span class="icon one-phone-remove"></span>Xóa TB
        </a>
      </li>
      <li>
        <a  ref="tsbtnHen"  @click="tsbtnHen_Click" v-if="tsbtnHen.Visible" :class="{disabled: !tsbtnHen.Enabled}">
          <span class="icon one-henld"></span> Hẹn LĐ
        </a>
      </li>
      <li>
        <a  ref="tsbtnThongTinLH" @click="tsbtnThongTinLH_Click"  v-if="tsbtnThongTinLH.Visible" :class="{disabled: !tsbtnThongTinLH.Enabled}">
          <span class="icon nc-icon-glyph business_contacts"></span> Liên hệ
        </a>
      </li>
      <li>
        <a  ref="tsbtnEmail" @click="tsbtnEmail_Click"  v-if="tsbtnEmail.Visible" :class="{disabled: !tsbtnEmail.Enabled}">
          <span class="icon nc-icon-glyph business_contacts"></span> Email
        </a>
      </li>


    </ul>
  </div>
  <div class="page-content">
    <div class="box-form padt8 padb5">
      <div class="row">
        <div class="col-sm-3 col-12">
          <div class="info-row">
            <div class="key w30 nowrap">Mã dự án</div>
            <div class="value">
              <input type="text" class="form-control">
            </div>
          </div>
        </div>
        <div class="col-sm-3 col-12">
          <div class="info-row">
            <div class="key w30 nowrap">
              <div class="check-action">
                <input type="checkbox" v-model="chkCTV.Checked"  @click="chkCTV_CheckedChanged" class="check">
                <span class="name">Cộng tác viên</span>
              </div>
            </div>
            <div class="value">
              <input type="text" ref="txtCTV" v-model="ctv.ten_ctv" readonly class="form-control">
            </div>
          </div>
        </div>
        <div class="col-sm-3 col-12">
          <div class="info-row">
            <div class="key w30 nowrap">
              <div class="check-action">
                <input type="checkbox" v-model="chkNguoiGT.Checked" @click="chkNguoiGT_CheckedChanged" class="check">
                <span class="name">Người giới thiệu</span>
              </div>
            </div>
            <div class="value">
              <input type="text" ref="txtNguoiGT" v-model="nguoi_gt.ten_nguoi_gt" readonly class="form-control">
            </div>
          </div>
        </div>
        <div class="col-sm-3 col-12">
          <div class="info-row">
            <div class="key w30 nowrap">
              <div class="check-action">
                <input type="checkbox" class="check">
                <span class="name">Tổng tiền</span>
              </div>
            </div>
            <div class="value">
              <input type="text" v-model="txtTongTienHD" class="form-control tright">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="box-form">
      <div class="legend-title">Thông tin phiếu yêu cầu</div>
      <div class="row">
        <div class="col-sm-6 col-12">
          <div class="row">
            <div class="col-sm-8 col-12">
              <div class="info-row">
                <div class="key w120">Mã giao dịch</div>
                <div class="value">
                  <div class="input-more-button">
                    <button class="btn" @click="btnLayMaGD_Click">
                      <span class="-ap icon-more_horiz"></span>
                    </button>
                    <input type="text" ref="txtMaGD" v-model="txtMaGD" v-on:keyup.enter="txtMaGD_KeyPress" class="form-control highlight">
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-4 col-12">
              <div class="info-row">
                <div class="key">Ngày yêu cầu</div>
                <div class="value">
                  <div class="input-icon-right">
                    <vue-date :disable="isDisdtpNgayYeuCau" :format="'DD/MM/YYYY HH:mm:ss'" v-model="dtpNgayYeuCau" />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-8 col-12">
              <div class="info-row">
                <div class="key w120">Mã HĐ/PL</div>
                <div class="value">
                  <input type="text" ref="txtMaHD" readonly v-model="txtMaHD" class="form-control fw6 text">
                </div>
              </div>
            </div>
            <div class="col-sm-4 col-12">
              <div class="info-row">
                <div class="key">Ngày lập HĐ</div>
                <div class="value">
                  <div class="input-icon-right">
                    <vue-date :disable="isDisdtpNgayLapHD" :format="'DD/MM/YYYY HH:mm:ss'" v-model="dtpNgayLapHD" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-12">
          <div class="row">
            <div class="col-sm-8 col-12">
              <div class="info-row">
                <div class="key w120">Dịch vụ</div>
                <div class="value">
                  <div class="select-custom">
                    <SelectExt
                      v-model="cboDichVuVT.SelectedValue"
                      :allowFiltering="true"
                      ref="cboDichVuVT"
                      :disabled="!cboDichVuVT.Enabled"
                      @change="cboDichVuVT_SelectedValueChanged"
                      :dataSource="cboDichVuVT.list"
                      dataValueField="DICHVUVT_ID"
                      dataTextField="TEN_DVVT"
                    >
                    </SelectExt>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-4 col-12">
              <div class="info-row">
                <div class="key">Loại hình</div>
                <div class="value">
                  <div class="select-custom">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboLoaihinhTB.SelectedValue"
                        :allowFiltering="true"
                        ref="cboLoaihinhTB"
                        @change="cboLoaihinhTB_SelectedValueChanged"
                        :disabled="!cboLoaihinhTB.Enabled"
                        :dataSource="cboLoaihinhTB.list"
                        dataValueField="LOAITB_ID"
                        dataTextField="LOAIHINH_TB"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="info-row">
              <div class="key w120">Kiểu yêu cầu</div>
              <div class="value">
                <div class="select-custom">
                  <SelectExt
                    :allowFiltering="true"
                    v-model="cboKieuLD.SelectedValue"
                    ref="cboKieuLD"
                    :disabled="!cboKieuLD.Enabled"
                    @close="cboKieuLD_Close"
                    @select='selectTest'
                    @change="cboKieuLD_SelectedValueChanged"
                    :dataSource="cboKieuLD.list"
                    dataValueField="KIEULD_ID"
                    dataTextField="TEN_KIEULD"
                  >
                  </SelectExt>
                </div>
              </div>
              <div class="value w30 nowrap padt7">
                <div class="check-action">
                  <input type="checkbox" v-model="chkTucThi.Checked" @click="chkTucThi_CheckedChanged" :disabled="!chkTucThi.Enabled" class="check">
                  <span class="name">Tức thì</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6 col-12">
          <div class="box-form" style="min-height: 595px;">
            <div class="legend-title">Thông tin thuê bao</div>
            <div class="row">
              <div class="col-sm-8 col-12">
                <div class="info-row">
                  <div class="key w120">Account</div>
                  <div class="value">
                    <div class="input-more-button">
                      <button class="btn" @click="bntLayMaKh_Click">
                        <span class="-ap icon-more_horiz"></span>
                      </button>
                      <input type="text" v-model="txtMaTB" ref="txtMaTB" v-on:keyup.enter="txtMaTB_KeyPress" class="form-control highlight">
                    </div>
                  </div>
                  <div class="value w30">
                    <button class="btn btn-second">
                      <span class="-ap icon-plus2"></span>
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-sm-4 col-12">
                <div class="info-row">
                  <div class="key w100">Loại thiết bị</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        :allowFiltering="true"
                        v-model="cboLoaiTBiADSL.SelectedValue"
                        ref="cboLoaiTBiADSL"
                        @change="cboLoaiTBiADSL_SelectedValueChanged"
                        :disabled="!cboLoaiTBiADSL.Enabled"
                        :dataSource="cboLoaiTBiADSL.list"
                        dataValueField="THIETBIDC_ID"
                        dataTextField="TEN_TBI"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="info-row">
              <div class="key w120">Tên thuê bao</div>
              <div class="value">
                <input type="text" v-model="txtTenTB" readonly class="form-control fw6 text">
              </div>
            </div>
            <div class="row">
              <div class="col-sm-8 col-12">
                <div class="info-row">
                  <div class="key w120">Tốc độ mới</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboTocDoADSL.SelectedValue"
                        @change='cboTocDoADSL_SelectedValueChanged'
                        :allowFiltering="true"
                        ref="cboTocDoADSL"
                        :disabled="!cboTocDoADSL.Enabled"
                        :dataSource="cboTocDoADSL.list"
                        dataValueField="tocdo_id"
                        dataTextField="thuonghieu"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w120">Tốc độ thực mới</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboTocDoThuc_Moi.SelectedValue"
                        :allowFiltering="true"
                        ref="cboTocDoThuc_Moi"
                        :disabled="!cboTocDoThuc_Moi.Enabled"
                        :dataSource="cboTocDoThuc_Moi.list"
                        dataValueField="tocdo_id"
                        dataTextField="thuonghieu"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row" v-if="pnlMucCuoc.Visible">
                  <div class="key w120">Mức cước mới</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboMucCuocMoi.SelectedValue"
                        :allowFiltering="true"
                        ref="cboMucCuocMoi"
                        @change="cboMucCuocMoi_SelectedValueChanged"
                        :disabled="!cboMucCuocMoi.Enabled"
                        :dataSource="cboMucCuocMoi.list"
                        dataValueField="MUCCUOC_ID"
                        dataTextField="TENMUC"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row" v-if="pnlCongNghe.Visible">
                  <div class="key w120">Công nghệ mới</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboCongNghe_Moi.SelectedValue"
                        :allowFiltering="true"
                        ref="cboCongNghe_Moi"
                        :disabled="!cboCongNghe_Moi.Enabled"
                        :dataSource="cboCongNghe_Moi.list"
                        dataValueField="CONGNGHE_ID"
                        dataTextField="CONGNGHE"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row" v-if="pnlKieuTra.Visible">
                  <div class="key w120">Kiểu trả mới</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboKieuTraMoi.SelectedValue"
                        :allowFiltering="true"
                        ref="cboKieuTraMoi"
                        @change="cboKieuTraMoi_SelectedValueChanged"
                        :disabled="!cboKieuTraMoi.Enabled"
                        :dataSource="cboKieuTraMoi.list"
                        dataValueField="KIEUTRA_ID"
                        dataTextField="TENKIEU"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-4 col-12">
                <div class="info-row">
                  <div class="key">Tốc độ cũ</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboTocDoCu.SelectedValue"
                        :allowFiltering="true"
                        ref="cboTocDoCu"
                        :disabled="!cboTocDoCu.Enabled"
                        :dataSource="cboTocDoCu.list"
                        dataValueField="tocdo_id"
                        dataTextField="thuonghieu"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row">
                  <div class="key">Số tháng CK</div>
                  <div class="value">
                    <input type="number" v-model="txtSoThangCK" class="form-control fw6 text-right">
                  </div>
                </div>
                <div class="info-row"  v-if="pnlMucCuoc.Visible">
                  <div class="key">Mức cước cũ</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboMucCuocCu.SelectedValue"
                        :allowFiltering="true"
                        ref="cboMucCuocCu"
                        :disabled="!cboMucCuocCu.Enabled"
                        :dataSource="cboMucCuocCu.list"
                        dataValueField="MUCCUOC_ID"
                        dataTextField="TENMUC"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row"  v-if="pnlCongNghe.Visible">
                  <div class="key">Công nghệ cũ</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboCongNghe_Cu.SelectedValue"
                        :allowFiltering="true"
                        ref="cboCongNghe_Cu"
                        :disabled="!cboCongNghe_Cu.Enabled"
                        :dataSource="cboCongNghe_Cu.list"
                        dataValueField="CONGNGHE_ID"
                        dataTextField="CONGNGHE"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row"  v-if="pnlKieuTra.Visible">
                  <div class="key">Kiểu trả cũ</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboKieuTraCu.SelectedValue"
                        :allowFiltering="true"
                        ref="cboKieuTraCu"
                        :disabled="!cboKieuTraCu.Enabled"
                        :dataSource="cboKieuTraCu.list"
                        dataValueField="KIEUTRA_ID"
                        dataTextField="TENKIEU"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- <div class="info-row">
                 <div class="key w120">Loại IP</div>
                 <div class="value">
                     <div class="select-custom">
                         <select name="" id="" class="form-control">
                             <option value=""></option>
                         </select>
                     </div>
                 </div>
             </div> -->
            <div class="row">
              <div class="col-sm-8 col-12">
                <div class="row">
                  <div class="col-sm-6 col-12">
                    <div class="info-row">
                      <div class="key w120">Tháng trả</div>
                      <div class="value">
                        <div class="select-custom">
                          <SelectExt
                            v-model="cboThangTra.SelectedValue"
                            :allowFiltering="true"
                            ref="cboThangTra"
                            @change="cboThangTra_SelectedValueChanged"
                            :disabled="!cboThangTra.Enabled"
                            :dataSource="cboThangTra.list"
                            dataValueField="THANG_ID"
                            dataTextField="TENTHANG"
                          >
                          </SelectExt>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6 col-12">
                    <div class="info-row">
                      <div class="key w60">Ngày trả</div>
                      <div class="value">
                        <div class="input-icon-right">
                          <input type="text" :disabled="!dtpNgayTra.Enable" :format="'DD/MM/YYYY HH:mm:ss'" v-model="dtpNgayTra.Text" class="form-control">
                          <span class="icon one-calendar"></span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w120">Tiền trả trước</div>
                  <div class="value">
                    <input type="text" v-model="txtTienTra.Text" :disabled="!txtTienTra.Enabled" readonly class="form-control tright">
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w120">Đối tượng mới</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboDoiTuongMoi.SelectedValue"
                        :allowFiltering="true"
                        ref="cboDoiTuongMoi"
                        :disabled="!cboDoiTuongMoi.Enabled"
                        :dataSource="cboDoiTuongMoi.list"
                        dataValueField="DOITUONG_ID"
                        dataTextField="TEN_DT"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w120">Mức cước TB mới</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboMucCuocTB.SelectedValue"
                        :allowFiltering="true"
                        ref="cboMucCuocTB"
                        @change="cboMucCuocTB_SelectedValueChanged"
                        :disabled="!cboMucCuocTB.Enabled"
                        :dataSource="cboMucCuocTB.list"
                        dataValueField="muccuoctb_id"
                        dataTextField="tenmuccuoc"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w120">Khuyến mại</div>
                  <div class="value w20 padt7">
                    <div class="check-action">
                      <input type="checkbox" :disabled="!chkKhuyenMai.Enabled" v-model="chkKhuyenMai.Checked" @change="chkKhuyenMai_CheckedChanged" class="check">
                      <span class="name"></span>
                    </div>
                  </div>
                  <div class="value">
                    <div class="input-more-button">
                      <button class="btn" @click.prevent="ShowPopupChonKhuyenMai(0)" :disabled="!btnChiTietKM.Enabled">
                        <span class="-ap icon-more_horiz"></span>
                      </button>
                      <div class="select-custom">
                        <SelectExt
                          v-model="cboKhuyenMai.SelectedValue"
                          :allowFiltering="true"
                          ref="cboKhuyenMai"
                          :disabled="!chkKhuyenMai.Checked"
                          :dataSource="cboKhuyenMai.list"
                          dataValueField="KHUYENMAI_ID"
                          dataTextField="TEN_KM"
                        >
                        </SelectExt>
                      </div>
                    </div>

                  </div>
                  <div class="value w30 nowrap">
                    <button class="btn btn-second" @click="btnChiTietKM_Click"  :disabled="!btnChiTietKM.Enabled">
                      <span class="one-eye f16 inline vcenter"></span> Chi tiết
                    </button>
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w120">Trả trước</div>
                  <div class="value w20 padt7">
                    <div class="check-action">
                      <input type="checkbox" :disabled="!chkTraTruoc.Enabled" @change="chkTraTruoc_CheckedChanged" v-model="chkTraTruoc.Checked" class="check">
                      <span class="name"></span>
                    </div>
                  </div>
                  <div class="value">
                    <div class="input-more-button">
                      <button class="btn" @click.prevent="ShowPopupChonKhuyenMai(1)" :disabled="!btnChon_TraTruoc.Enabled">
                        <span class="-ap icon-more_horiz"></span>
                      </button>
                      <div class="select-custom">
                        <SelectExt
                          v-model="cboTraTruoc.SelectedValue"
                          :allowFiltering="true"
                          ref="cboTraTruoc"
                          :disabled="!chkTraTruoc.Checked"
                          :dataSource="cboTraTruoc.list"
                          dataValueField="KHUYENMAI_ID"
                          dataTextField="TEN_KM"
                        >
                        </SelectExt>
                      </div>
                    </div>

                  </div>
                  <div class="value w30 nowrap">
                    <button class="btn btn-second" @click="btnChiTietTraTruoc_Click"  :disabled="!btnChiTietTraTruoc.Enabled">
                      <span class="one-eye f16 inline vcenter"></span> Chi tiết
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-sm-4 col-12">
                <div class="info-row">
                  <div class="key">Cước sử dụng</div>
                  <div class="value">
                    <input type="number" ref="txtCuocSD"  v-model="txtCuocSD.Text" :disabled="!txtCuocSD.Enabled" class="form-control text-right">
                  </div>
                </div>
                <div class="info-row">
                  <div class="key">Cước thiết bị</div>
                  <div class="value">
                    <input type="number" ref="txtCuoc_TBI"  v-model="txtCuoc_TBI.Text" :disabled="!txtCuoc_TBI.Enabled" class="form-control text-right">
                  </div>
                </div>
                <div class="info-row">
                  <div class="key">Đối tượng cũ</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboDoiTuongCu.SelectedValue"
                        :allowFiltering="true"
                        ref="cboDoiTuongCu"
                        :disabled="!cboDoiTuongCu.Enabled"
                        :dataSource="cboDoiTuongCu.list"
                        dataValueField="DOITUONG_ID"
                        dataTextField="TEN_DT"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row">
                  <div class="key w110">Mức cước TB cũ</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboMucCuocTBCu.SelectedValue"
                        :allowFiltering="true"
                        ref="cboMucCuocTBCu"
                        :disabled="!cboMucCuocTBCu.Enabled"
                        :dataSource="cboMucCuocTBCu.list"
                        dataValueField="mucuoctb_id"
                        dataTextField="tenmuccuoc"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row">
                  <div class="key">Trang bị mới</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboTrangBiMoi.SelectedValue"
                        :allowFiltering="true"
                        ref="cboTrangBiMoi"
                        :disabled="!cboTrangBiMoi.Enabled"
                        :dataSource="cboTrangBiMoi.list"
                        dataValueField="TRANGBI_ID"
                        dataTextField="TENTRANGBI"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
                <div class="info-row">
                  <div class="key">Trang bị cũ</div>
                  <div class="value">
                    <div class="select-custom">
                      <SelectExt
                        v-model="cboTrangBiCu.SelectedValue"
                        :allowFiltering="true"
                        ref="cboTrangBiCu"
                        :disabled="!cboTrangBiCu.Enabled"
                        :dataSource="cboTrangBiCu.list"
                        dataValueField="TRANGBI_ID"
                        dataTextField="TENTRANGBI"
                      >
                      </SelectExt>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-12">
          <div class="box-form">
            <div class="legend-title">Thông tin khách hàng</div>
            <div class="row">
              <div class="col-sm-8 col-12">
                <div class="info-row">
                  <div class="key w120">Mã khách hàng</div>
                  <div class="value">
                    <input type="text" ref="txtMaKH" v-model="txtMaKH" readonly class="form-control fw6 text">
                  </div>
                </div>
              </div>
              <div class="col-sm-4 col-12">
                <div class="info-row">
                  <div class="key">Ngày sinh</div>
                  <div class="value">
                    <div class="">
                      <input type="text" v-model="txtNgaySN" readonly class="form-control">

                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="info-row">
              <div class="key w120">Tên khách hàng</div>
              <div class="value">
                <input type="text" ref="txtTenKH" v-model="txtTenKH" readonly class="form-control fw6 text">
              </div>
            </div>
            <div class="info-row">
              <div class="key w120">Địa chỉ KH</div>
              <div class="value">
                <input type="text" v-model="txtDiaChiKH" readonly class="form-control fw6 text">
              </div>
            </div>
            <div class="info-row">
              <div class="key w120">Thông tin TC</div>
              <div class="value">
                <div class="input-more-button">
                  <button @click="btnThongTinTC_Click" class="btn" :disbaled="!btnThongTinTC.Enabled">
                    <span class="-ap icon-more_horiz"></span>
                  </button>
                  <input type="text" ref="txtTTCuoc" v-model="txtTTCuoc.Text" readonly :disabled="!txtTTCuoc.Enabled" class="form-control ">
                </div>

              </div>
            </div>
            <div class="info-row">
              <div class="key w120">
                <div class="check-action">
                  <input type="checkbox" v-model="chkTTTCVisa.Checked" @click="chkTTTCVisa_CheckedChanged" class="check">
                  <span class="name">TTTC Visa</span>
                </div>
              </div>
              <div class="value">
                <textarea name="" v-model="txtTTCuocVisa" class="form-control" style="height: 100px;resize: none;"></textarea>
              </div>
            </div>
            <div class="info-row">
              <div class="key w120">
                Ghi chú
              </div>
              <div class="value">
                <textarea name="" v-model="txtGhiChu" class="form-control" style="height: 63px;resize: none;"></textarea>
              </div>
            </div>
            <!-- <div class="row">
                 <div class="col-sm-4 col-12">
                     <div class="info-row">
                         <div class="key w120">
                             <div class="check-action">
                                 <input type="checkbox" class="check">
                                 <span class="name">Thời hạn</span>
                             </div>
                         </div>
                         <div class="value">
                             <input type="text" class="form-control">
                         </div>
                         <div class="value w30 nowrap padt7">
                             (tháng)
                         </div>
                     </div>
                 </div>
                 <div class="col-sm-4 col-12">
                     <div class="info-row">
                         <div class="key w60">
                             Từ ngày
                         </div>
                         <div class="value">
                             <input type="text" class="form-control">
                         </div>

                     </div>
                 </div>
                 <div class="col-sm-4 col-12">
                     <div class="info-row">
                         <div class="key w60">
                             Từ ngày
                         </div>
                         <div class="value">
                             <input type="text" class="form-control">
                         </div>

                     </div>
                 </div>
             </div>-->
          </div>
          <div class="box-form">
            <div class="legend-title">Chi tiết tiền theo khoản mục</div>
            <div class="info-row">
              <div class="key w120">Tiền</div>
              <div class="value">
                <div class="input-more-button">
                  <button class="btn">
                    <span class="-ap icon-more_horiz"></span>
                  </button>
                  <input type="number" v-model='txtTongTien' class="form-control tright red fw6">
                </div>
              </div>
            </div>
            <div class="info-row">
              <div class="key w120">Tổng VAT</div>
              <div class="value">
                <input type="number" v-model='txtTongVat' class="form-control tright red fw6">
              </div>
            </div>
            <div class="info-row">
              <div class="key w120">Tổng tiền</div>
              <div class="value">
                <input type="number" v-model='lblTongTien' class="form-control tright red fw6">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="box-form">
        <div class="legend-title">
          Danh sách thuê bao
        </div>
        <div class="table-content">
          <DataGrid
            v-bind:dataSource="lvwThueBao.list"
            v-bind:columns="lvwThueBao.cols"
            ref="lvwThueBao"
            :panelDataHeight= "'150'"
            :showFilter="true"
            :enablePagingServer="false"
            :enabledSelectFirstRow="false"
            :allowPaging="true"
            @rowSelected="rowGridTBSelected"


          />

        </div>
        <ChonCongTacVienModal ref="chonCongTacVienModal" @accept="acceptCTV"/>
        <ChonNguoiGTModal ref="chonNguoiGTModal" @accept="acceptNguoiGT"/>
        <ejs-dialog :enableResize='true' :visible="false" ref="popupFrmTraCuuDanhBa"
                    showCloseIcon=true width="80%" target="#app .main-wrapper" :position="position" height="800">
          <SearchAccountModal ref="searchAccountModal" :isPopup="true" @form-close="formCloseSearchAccount"/>
        </ejs-dialog>
        <ejs-dialog :enableResize='true' :visible="false" ref="popupFrmTraCuuHopDong"
                    showCloseIcon=true width="80%" target="#app .main-wrapper" :position="position" height="800">
          <SearchContractModal ref="searchContractModal" :loaihd_id="8" :tthd_id="1" :kieu="1" :ngay_yc="ngay_cn"
                               @accept="acceptSearchContract"/>
        </ejs-dialog>
<!--        <ejs-dialog :enableResize='true' :visible="false" ref="popupThongTinTC"-->
<!--                    showCloseIcon=true width="80%" target="#app .main-wrapper" :position="position" height="800">-->
<!--          <PopupThongTinTC :dulieu="dulieu" @form-close="acceptThongTinTC"/>-->
<!--        </ejs-dialog>-->
<!--        <ejs-dialog :enableResize='true' :visible='false' ref='thanhtoanDialog' :position='position' :header='"Thanh toán"'-->
<!--                    showCloseIcon='true' width="80%" target="#app .main-wrapper" height="800">-->
<!--          <thanhToan ref='thanhToanPopUp' :magiaodich='txtMaGD' :ispopup='true' @paymentSuccess="paymentSuccess"/>-->
<!--        </ejs-dialog>-->
        <ejs-dialog :enableResize='true' :allowDragging='true' :visible='false' ref='dialogObjthongTinEmail'
                    :position='position' :header='"Email"' showCloseIcon='true' width="80%" target="#app .main-wrapper">
          <div>
            <div class='popup-body dialogObjthongTinEmail'>
              <thongTinEmail ref='thongTinEmailPopUp' :hdkh_id='HdKhIdInt' :khachhang_id='KhachHangIdInt' />
            </div>
          </div>
        </ejs-dialog>
        <ejs-dialog :enableResize='true' :visible='false' ref='thongtinlienheDialog' :position='position'
                    :header='"Thông tin liên hệ"' showCloseIcon='true' :target='targetTop' width='90%'>
          <thongTinLienHe ref='thongTinLienHePopUp' :hdkh_id='HdKhIdInt' :khachhang_id='KhachHangIdInt' />
        </ejs-dialog>
        <ejs-dialog :enableResize='true' :visible='false' ref='TocDoMucCuocDialog' :position='position'
                    :header='"Chọn tốc độ mức cước theo đối tượng"' showCloseIcon='true' :target='targetTop' height="800" width='70%'>
          <TocDoMucCuoc ref='TocDoMucCuocPopup' :thongso_ban="thongso_ban" :thongso_tc="thongso_tc"
                        :_ploaitb_ld="cboLoaihinhTB.SelectedValue" :_ploaitb_td="cboLoaihinhTB.SelectedValue"
                        :tinhtc="tinh_tb_id" :_vloaihd="8" :thuebao_id_tc="thuebao_id_tc" :thuebao_id="thuebao_id"
                        @accept="acceptTocDoMucCuoc"

          />
        </ejs-dialog>
        <!-- <ejs-dialog :enableResize='true' :visible='false' ref='chitietkmDialog' :position='position'
                     :header='"Chi tiết khuyến mại"' showCloseIcon='true' :target='targetTop' width='90%'>
           <chiTietKhuyenMai ref='chiTietKhuyenMaiPopup' :dulieu="dulieuKM" @form-close="formCloseKhuyenMai" />
         </ejs-dialog> -->
        <thongTinHenKhachHangModal ref='thongTinHenKhachHangModal' :hdkh_id='hdkh_id'  />
        <InHoSo ref="popupInHoSo" :params="popupInHoSo_Param"/>
        <b-modal id="popupComponents" ref="popupComponents" size="xl"
                 hide-footer
                 hide-header
                 hide-header-close
                 body-class="modal-body p-0">
          <breadcrumb :header="headerPopup"/>
          <component :is="popupComponent" ref="generalPopup" :header='titlePopup' :magiaodich='txtMaGD' :tag='1' :dulieu="popupComponentData" v-bind="popupComponentAttr" isPopup="true" ispopup="false" v-on="popupComponentEvts" height='600px'></component> <!--v-dynamic-events="popupComponentEvents"-->
        </b-modal>

<!--        <b-modal id="popupComponentsThanhToan" ref="popupComponentsThanhToan" size="xl"-->
<!--                 hide-footer-->
<!--                 hide-header-->
<!--                 hide-header-close-->
<!--                 body-class="modal-body p-0">-->
<!--          <component :is="popupComponent" ref="generalPopup" :magiaodich='txtMaGD' isPopup="true" v-on="popupComponentEvts" height='600'></component> &lt;!&ndash;v-dynamic-events="popupComponentEvents"&ndash;&gt;-->
<!--        </b-modal>-->
      </div>
    </div>
  </div>
</div>
