<div class="tracuu-ketcuoi-chuaphan-nhanvien">
  <div class="list-actions-top">
    <ul class="list">
      <li>
        <a href="javascript:void(0)" @click="show">
          <span class="icon one-view"></span> Hiển thị
        </a>
      </li>
      <li @click="this.btnPhanKetCuoi" :class="{'disable-btn': isDisableBtnPhanKetCuoi}">
        <a href="javascript:void(0)">
          <span class="icon  one-user-location"></span> Phân vị trí kết cuối
        </a>
      </li>
      <li @click="this.btnXuatFile"  :class="{'disable-btn': isDisableBtnXuatFile}" >
        <a href="javascript:void(0)">
          <span class="icon one-download"></span> Xuất file
        </a>
      </li>
      <li>
        <a href="javascript:void(0)" @click="reset()">
          <span class="icon  one-reload"></span> Tải lại
        </a>
      </li>
    </ul>
  </div>
  <div class="page-content">
    <div class="grid-stack-box">
      <div class="box-col box-form" id="boxLeft1">
        <div class="legend-title">Đơn vị</div>
        <div class="box-form">
          <div class="control-section tree-check">
            <div class="tree-plus-ext tree-area">
              <ejs-treeview id='treeview' ref="treeObj" :nodeChecked="nodeChecked" :fields='fields' :showCheckBox='true'></ejs-treeview>
            </div>
          </div>
<!--          <div class="tree-plus tree-icon">-->
<!--            <ul class="">-->
<!--              <li>-->
<!--                <a href="#">-->
<!--                  <div class="check-action check-color">-->
<!--                    <input type="checkbox" class="check">-->
<!--                    <span class="name">Ban KH cá nhân</span>-->
<!--                  </div>-->

<!--                </a>-->
<!--              </li>-->
<!--              <li>-->
<!--                <a href="#">-->
<!--                  <div class="check-action check-color">-->
<!--                    <input type="checkbox" class="check">-->
<!--                    <span class="name">TT ĐHBH</span>-->
<!--                  </div>-->

<!--                </a>-->
<!--              </li>-->
<!--              <li>-->
<!--                <a href="#">-->
<!--                  <div class="check-action check-color">-->
<!--                    <input type="checkbox" class="check">-->
<!--                    <span class="name">Ban Khách hàng Doanh Nghiệp</span>-->
<!--                  </div>-->

<!--                </a>-->
<!--              </li>-->

<!--              <li class="haschild open">-->
<!--                <a href="#">-->
<!--                  <div class="check-action check-color">-->
<!--                    <input type="checkbox" class="check" checked="">-->
<!--                    <span class="name">Viễn thông Hải Phòng</span>-->
<!--                  </div>-->

<!--                </a>-->
<!--                <ul>-->
<!--                  <li>-->
<!--                    <a href="#">-->
<!--                      <div class="check-action check-color">-->
<!--                        <input type="checkbox" class="check">-->
<!--                        <span class="name">Ban Khách hàng Doanh Nghiệp</span>-->
<!--                      </div>-->
<!--                    </a>-->
<!--                  </li>-->
<!--                  <li>-->
<!--                    <a href="#">-->
<!--                      <div class="check-action check-color">-->
<!--                        <input type="checkbox" class="check">-->
<!--                        <span class="name">Phòng Bán hàng Online</span>-->
<!--                      </div>-->
<!--                    </a>-->
<!--                  </li>-->
<!--                  <li class="haschild open">-->
<!--                    <a href="#">-->
<!--                      <div class="check-action check-color">-->
<!--                        <input type="checkbox" class="check" checked="">-->
<!--                        <span class="name">Trung tâm viễn thông 4</span>-->
<!--                      </div>-->
<!--                    </a>-->
<!--                    <ul>-->
<!--                      <li>-->
<!--                        <a href="#">-->
<!--                          <div class="check-action check-color">-->
<!--                            <input type="checkbox" class="check"  checked="">-->
<!--                            <span class="name">TT ĐHBH</span>-->
<!--                          </div>-->
<!--                        </a>-->

<!--                      </li>-->
<!--                      <li>-->
<!--                        <a href="#">-->
<!--                          <div class="check-action check-color">-->
<!--                            <input type="checkbox" class="check">-->
<!--                            <span class="name"  checked="">Tổ tổng hợp</span>-->
<!--                          </div>-->
<!--                        </a>-->

<!--                      </li>-->
<!--                    </ul>-->
<!--                  </li>-->
<!--                  <li>-->
<!--                    <a href="#">-->
<!--                      <div class="check-action check-color">-->
<!--                        <input type="checkbox" class="check">-->
<!--                        <span class="name">Phòng Bán hàng Online</span>-->
<!--                      </div>-->
<!--                    </a>-->
<!--                  </li>-->
<!--                </ul>-->

<!--              </li>-->

<!--            </ul>-->
<!--          </div>-->
        </div>
      </div>
      <div class="box-col box-form" id="boxRight">
        <div class="legend-title">Danh sách kết cuối chưa phân nhân viên quản lý</div>
        <div class="box-form">
          <div class="table-content">
<!--            <div class="control-section  grid-ext">-->
              <ejs-treegrid ref="treegrid" locale="vi-VN" class="table-result"
                            :dataSource="this.dsKetCuoiChuaPhanNV" childMapping='children' gridLines='Both'
                            :allowTextWrap='true' :allowSelection= 'true' :queryCellInfo='this.queryCellInfoEvent'
                            :allowExcelExport='true' :allowSorting='true' :enableHover='true'
                            :allowFiltering='true' :rowSelected="rowSelected"
                            :allowPaging='true' :pageSettings='this.pageSettings' height='500px' :allowScrolling='true'>
                <e-columns>
                  <!--                <e-column field='TENTRUNGTAM' headerText='Tên đơn vị' width='180'></e-column>-->
                  <e-column field='TEN_DV' headerText='Tên tổ' minWidth="10px" width='20%' headerTextAlign='Center' textAlign='Left' :filterBarTemplate='filterBarTemplate'></e-column>
                  <e-column field='KYHIEU' headerText="Ký hiệu" minWidth="10px" width='20%' headerTextAlign='Center' textAlign='Left' :filterBarTemplate='filterBarTemplate'></e-column>
                  <e-column field='DIACHI' headerText='Địa chỉ' minWidth="10px" width='40%' headerTextAlign='Center' textAlign='Left' :filterBarTemplate='filterBarTemplate'></e-column>
                  <e-column field='VTTEST' headerText='Vị trí chưa phân' minWidth="10px" width='20%' headerTextAlign='Center' textAlign='Left' :filterBarTemplate='filterBarTemplate'></e-column>
                </e-columns>
              </ejs-treegrid>
            <div class="grid-ext">
              <Pagination ref="pagination" :pageSize="pageSize" :pageIndex="pageIndex" :totalRecords="this.getTotalRecords"
                          @pageChanged="this.pagination_PageChanged"></Pagination>
            </div>
<!--            </div>-->
            <!--          <table class="table-result nowrap tree-grid-2 table-gachle">-->
            <!--            <thead class="center">-->
            <!--            <tr>-->
            <!--              <th class="w20"></th>-->
            <!--              <th colspan="2">Tên tổ</th>-->
            <!--              <th>Ký hiệu</th>-->
            <!--              <th>Địa chỉ</th>-->
            <!--              <th>Vị trí chưa phân</th>-->
            <!--            </tr>-->
            <!--            <tr>-->
            <!--              <th></th>-->
            <!--              <th colspan="2">-->
            <!--                <div class="input-icon-right">-->
            <!--                  <input type="text" class="form-control">-->
            <!--                  <span class="icon nc-icon-outline ui-1_zoom"></span>-->
            <!--                </div>-->
            <!--              </th>-->
            <!--              <th>-->
            <!--                <div class="input-icon-right">-->
            <!--                  <input type="text" class="form-control">-->
            <!--                  <span class="icon nc-icon-outline ui-1_zoom"></span>-->
            <!--                </div>-->
            <!--              </th>-->
            <!--              <th>-->
            <!--                <div class="input-icon-right">-->
            <!--                  <input type="text" class="form-control">-->
            <!--                  <span class="icon nc-icon-outline ui-1_zoom"></span>-->
            <!--                </div>-->
            <!--              </th>-->
            <!--              <th>-->
            <!--                <div class="input-icon-right">-->
            <!--                  <input type="text" class="form-control">-->
            <!--                  <span class="icon nc-icon-outline ui-1_zoom"></span>-->
            <!--                </div>-->
            <!--              </th>-->
            <!--            </tr>-->
            <!--            </thead>-->
            <!--            <tbody v-for = "prefix in this.dsKetCuoiChuaPhanNV">-->
            <!--            <tr class="tree-open" style="background: #FFF0C8">-->
            <!--              <td class="highlight2" >-->
            <!--                <span class="fa fa-play text-main"></span>-->
            <!--              </td>-->
            <!--              <td colspan="5" class="tree-name nowrap fw6 selected"> <div class="tree-arrow"></div> Đơn vị : {{prefix.TEN_DV_CHA}}</td>-->
            <!--            </tr>-->
            <!--            <template v-for="item in prefix['CON']">-->
            <!--              <template v-for="(i,index) in item['CON']">-->
            <!--                <tr >-->
            <!--                  <td v-if="index == 0" class="highlight2"  :rowspan= "item['CON'].length">-->
            <!--                  </td>-->
            <!--                  <td v-if="index == 0" class="tree-first " :rowspan= "item['CON'].length">-->
            <!--                    <div class="tree-line"></div>-->
            <!--                    <div class="tree-indent"></div>-->
            <!--                  </td>-->
            <!--                  <td v-if="index == 0" :rowspan= "item['CON'].length">{{item.TEN_DV}}</td>-->
            <!--                  <template v-if="index ===0">-->
            <!--                    <td style="background: #F9E1A9">{{i.KYHIEU}}</td>-->
            <!--                    <td style="background: #F9E1A9">{{ i.DIACHI }}</td>-->
            <!--                    <td style="background: #F9E1A9">Từ : {{i.DUNGLUONG_SD}} Đến : {{ i.DUNGLUONG }}</td>-->
            <!--                  </template>-->
            <!--                  <template v-else>-->
            <!--                    <td>{{i.KYHIEU}}</td>-->
            <!--                    <td>{{ i.DIACHI }}</td>-->
            <!--                    <td>Từ : {{i.DUNGLUONG_SD}} Đến : {{ i.DUNGLUONG }}</td>-->
            <!--                  </template>-->
            <!--                </tr>-->
            <!--              </template>-->
            <!--            </template>-->
            <!--              <td>O-CABA12A04</td>-->
            <!--              <td>P.Server Toà 2B (Tầng 6)</td>-->
            <!--              <td>Từ : 1 Đến : 12</td>-->
            <!--            </tr>-->
            <!--            <tr>-->
            <!--              <td>Cáp thuê bao</td>-->
            <!--              <td>C-TAM/02_557467</td>-->
            <!--              <td>C-TAM/02</td>-->
            <!--            </tr>-->
            <!--            <tr>-->
            <!--              <td class="highlight2">-->

            <!--              </td>-->
            <!--              <td class="tree-first">-->
            <!--                <div class="tree-line"></div>-->
            <!--                <div class="tree-indent"></div>-->
            <!--              </td>-->
            <!--              <td rowspan="4">{{prefix.TEN_DV}}</td>-->
            <!--              <td style="background: #F9E1A9">{{prefix.KYHIEU}}</td>-->
            <!--              <td style="background: #F9E1A9">{{prefix.DIACHI}}</td>-->
            <!--              <td style="background: #F9E1A9">Từ:{{prefix.DUNGLUONG_SD}} Đến:{{prefix.DUNGLUONG}}</td>-->
            <!--            </tr>-->
            <!--            <tr>-->
            <!--              <td>{{prefix.KYHIEU}}</td>-->
            <!--              <td>{{prefix.DIACHI}}</td>-->
            <!--              <td>Từ:{{prefix.DUNGLUONG_SD}} Đến:{{prefix.DUNGLUONG}}</td>-->
            <!--            </tr>-->
            <!--            <tr>-->
            <!--              <td class="highlight2">-->

            <!--              </td>-->
            <!--              <td class="tree-first">-->
            <!--                <div class="tree-line"></div>-->
            <!--                <div class="tree-indent"></div>-->
            <!--              </td>-->
            <!--              <td></td>-->
            <!--              <td></td>-->
            <!--              <td></td>-->
            <!--              <td></td>-->
            <!--            </tr>-->
            <!--            <tr>-->
            <!--              <td class="highlight2">-->

            <!--              </td>-->
            <!--              <td class="tree-first">-->
            <!--                <div class="tree-line"></div>-->
            <!--                <div class="tree-indent"></div>-->
            <!--              </td>-->
            <!--              <td></td>-->
            <!--              <td></td>-->
            <!--              <td></td>-->
            <!--              <td></td>-->
            <!--            </tr>-->
            <!--            </tbody>-->

            <!--          </table>-->
          </div>

        </div>
      </div>

    </div>
  </div>
  <ModalXuatDuLieu
    id="modal-xuat-dulieu"
    :thuocTinh="dsThuocTinh"
    :data="dsXuatFile"></ModalXuatDuLieu>
  <PhanViTriKetCuoiChoNhanVien id="PhanViTriKetCuoiChoNhanVien" :obj="phanVitriInput"></PhanViTriKetCuoiChoNhanVien>
</div>
