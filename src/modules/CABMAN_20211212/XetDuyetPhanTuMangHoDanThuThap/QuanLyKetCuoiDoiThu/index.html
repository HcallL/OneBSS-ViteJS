<b-modal
  size="lg"
  no-close-on-backdrop
  hide-footer
  hide-header
  hide-header-close
  body-class="modal-body p-0"
  @shown="onShownModal"
  @hidden="onHiddenModal"
  :id="id"
  :key="key"
>
  <div class="modal-content popup-box">
    <div class="popup-header">
      <span class="icon one-appstore"></span> Quản lý kết cuối đối thủ
      <div class="close -ap icon-close" data-dismiss="modal" @click="$bvModal.hide(id)">
      </div>
    </div>
    <div class="list-actions-top">
      <ul class="list">
        <li>
          <a href="javascript:void(0)" @click="btnGhiLai">
            <span class="icon one-save"></span> Ghi lại
          </a>
        </li>
        <li>
          <a href="javascript:void(0)" v-b-modal.popupAnhChup>
            <span class="icon nc-icon-glyph business_award-49"></span> Ảnh chụp
          </a>
        </li>
      </ul>
    </div>
    <div class="popup-body">
      <div class="table-content">
        <table class="table-result table-gachle">
          <thead class="center">
          <tr>
            <th class="w20"></th>
            <th>Tên thuộc tính</th>
            <th>Giá trị</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td class="w20 center">
              <span class="fa fa-play text-main"></span>
            </td>
            <td>
              Ký hiệu  <bss-required-marker/>
            </td>
            <td class="fw6">
              <bss-error-marker :has-error="$v.ketCuoiDoiThu.KYHIEU.$error">
                <input v-model="ketCuoiDoiThu.KYHIEU" type="text" class="form-control h24 bor0 bg-none">
              </bss-error-marker>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Tên kết cuối
            </td>
            <td>
              <bss-error-marker :has-error="$v.ketCuoiDoiThu.TEN_KC.$error">
                <input v-model="ketCuoiDoiThu.TEN_KC" type="text" class="form-control h24 bor0 bg-none">
              </bss-error-marker>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Tổ QL
            </td>
            <td>
              <div class="select-custom">
                  <SelectExt v-model.trim="ketCuoiDoiThu.TOQL_ID" :dataSource="this.dsTOQL" dataTextField="TEN_TOQL" :disabled="true"
                             dataValueField="TOQL_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Khu vực
            </td>
            <td>
              <div class="select-custom">
                  <SelectExt v-model.trim="ketCuoiDoiThu.KHUVUC_ID" :dataSource="this.dsKHUVUC" dataTextField="TEN_KV":disabled="true"
                             dataValueField="KHUVUC_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Nhân viên QL
            </td>
            <td>
              <div class="select-custom">
                  <SelectExt v-model.trim="ketCuoiDoiThu.NHANVIEN_QL_ID" :dataSource="this.dsNVQL" dataTextField="TEN_NV" :disabled="true"
                             dataValueField="NHANVIEN_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Phân loại kết cuối
            </td>
            <td>
              <div class="select-custom">
                  <SelectExt v-model.trim="ketCuoiDoiThu.PHANLOAIKC_ID" :dataSource="this.dsPHANLOAI_KC" dataTextField="PHANLOAI_KC"
                             dataValueField="PHANLOAIKC_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Loại kết cuối <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <bss-error-marker :has-error="$v.ketCuoiDoiThu.LOAIKC_ID.$error">
                  <SelectExt v-model.trim="$v.ketCuoiDoiThu.LOAIKC_ID.$model" :dataSource="this.dsLOAI_KC" dataTextField="LOAI_KC"
                               dataValueField="LOAIKC_ID"/>
                </bss-error-marker>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Kiểu lắp  <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <bss-error-marker :has-error="$v.ketCuoiDoiThu.KIEULAP_ID.$error">
                  <SelectExt v-model.trim="$v.ketCuoiDoiThu.KIEULAP_ID.$model" :dataSource="this.dsKIEU_LAP" dataTextField="KIEU_LAP"
                             dataValueField="KIEULAP_ID"/>
                </bss-error-marker>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Nơi sản xuất
            </td>
            <td>
              <div class="select-custom">
                  <SelectExt v-model.trim="ketCuoiDoiThu.NOISX_ID" :dataSource="this.dsNOI_SX" dataTextField="NOI_SX"
                             dataValueField="NOISX_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Vị trí  <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <bss-error-marker :has-error="$v.ketCuoiDoiThu.VITRI_ID.$error">
                  <SelectExt v-model.trim="$v.ketCuoiDoiThu.VITRI_ID.$model" :dataSource="this.dsVITRI" dataTextField="VITRI"
                             dataValueField="VITRI_ID"/>
                </bss-error-marker>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Loại vỏ
            </td>
            <td>
              <div class="select-custom">
                  <SelectExt v-model.trim="ketCuoiDoiThu.LOAIVO_ID" :dataSource="this.dsLOAI_VO" dataTextField="LOAI_VO"
                             dataValueField="LOAIVO_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Chiều dài
            </td>
            <td>
              <input v-model="ketCuoiDoiThu.CHIEUDAI" class="form-control h24 bor0 bg-none" maxlength="5">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Chiều rộng
            </td>
            <td>
              <input v-model="ketCuoiDoiThu.CHIEURONG" class="form-control h24 bor0 bg-none" maxlength="5">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Chiều cao
            </td>
            <td>
              <input v-model="ketCuoiDoiThu.CHIEUCAO" class="form-control h24 bor0 bg-none" maxlength="5">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Địa chỉ  <bss-required-marker/>
            </td>
            <td>
              <div class="input-more-button -right">
                <button class="btn btn-main pad4 w-auto lh14 h-auto"  style="background: #ffffff !important;" @click="this.btnChonDiaChi">
                  <span class="icon -ap icon-more_horiz text-main"></span>
                </button>
                <bss-error-marker :has-error="$v.ketCuoiDoiThu.DIACHI.$error">
                  <input v-model="ketCuoiDoiThu.DIACHI" type="text" class="form-control h24 bor0 bg-none">
<!--                  <span class="icon -ap icon-more_horiz text-main" v-b-modal.popupDiaChi></span>-->
                </bss-error-marker>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Dung lượng  <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <bss-error-marker :has-error="$v.ketCuoiDoiThu.TONGSO_DD.$error">
                  <SelectExt v-model.trim="$v.ketCuoiDoiThu.TONGSO_DD.$model" :dataSource="this.dsDUNGLUONG" dataTextField="DUNGLUONG"
                             dataValueField="DUNGLUONG"/>
                </bss-error-marker>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Chủ quản
            </td>
            <td>
              <div class="select-custom">
                  <SelectExt v-model.trim="ketCuoiDoiThu.CHUQUAN_ID" :dataSource="this.dsChuQuan" dataTextField="TENCHUQUAN"
                             dataValueField="CHUQUAN_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Số đôi đang dùng <bss-required-marker/>
            </td>
            <td>
              <bss-error-marker :has-error="$v.ketCuoiDoiThu.SODOI_SD.$error">
                <input v-model="$v.ketCuoiDoiThu.SODOI_SD.$model" class="form-control h24 bor0 bg-none" maxlength="5">
              </bss-error-marker>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Trạng thái sử dụng  <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <bss-error-marker :has-error="$v.ketCuoiDoiThu.TTSD_ID.$error">
                  <SelectExt v-model.trim="$v.ketCuoiDoiThu.TTSD_ID.$model" :dataSource="this.dsTRANGTHAI_SD" dataTextField="TRANGTHAI_SD"
                             dataValueField="TTSD_ID"/>
                </bss-error-marker>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Kinh độ - Bản đồ số
            </td>
            <td>
              <div class="input-more-button -right">
                <button class="btn btn-main pad4 w-auto lh14 h-auto"  style="background: #ffffff !important;" v-b-modal.ModalChonToaDo>
                  <span class="icon one-map-location text-main"></span>
                </button>
                  <input v-model="ketCuoiDoiThu.KINHDO" type="number" class="form-control h24 bor0 bg-none">
<!--                  <span class="icon one-map-location text-main" @click="this.btnChonToaDo"></span>-->
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Vĩ độ - Bản đồ số
            </td>
            <td>
              <div class="input-more-button -right">
                <button class="btn btn-main pad4 w-auto lh14 h-auto"  style="background: #ffffff !important;" v-b-modal.ModalChonToaDo>
                  <span class="icon one-map-location text-main"></span>
                </button>
                <input v-model="ketCuoiDoiThu.VIDO" type="number" class="form-control h24 bor0 bg-none">
<!--                <span class="icon one-map-location text-main" @click="this.btnChonToaDo"></span>-->
              </div>
            </td>
          </tr>
          </tbody>
        </table>
        <ModalChonDiaChi modalId="popupDiaChi" :data="this.diachi" :isStrictMode="true" @xacnhan="getDiaChiTuFormDiaChi"/>
        <ModalChonToaDo  idModalChonToaDo="ModalChonToaDo" @XacNhanToaDo="XacNhanToaDo" :position="getPosition" :diachi="getDiachi"></ModalChonToaDo>
        <ModalAnhChup modalId="popupAnhChup" :ketcuoi="getKetCuoi" :readOnly="false"/>
      </div>
    </div>
  </div>
</b-modal>
