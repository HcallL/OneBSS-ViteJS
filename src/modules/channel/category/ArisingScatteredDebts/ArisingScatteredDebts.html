<div class="main-wrapper">
    <breadcrumb :header="header" />
    <ActionTop :actions="actions" @onActionClick="onActionClick"/>
    <input ref="fileInput" id="file" type="file" @change="onChangeFile($event)" accept=".xls, .xlsx" style="display:none" class="form-control ">
    <div class="page-content">
        <div class="box-form">
            <div class="legend-title">Thông tin chung</div>
            <div class="row">
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key w120">Mã thanh toán (*)</div>
                        <div class="value">
                            <input type="text" ref="inputMaTT" :value="input_ma_tt" @keyup.enter="onEnterMaTT" @change="e=>input_ma_tt=e.target.value" class="form-control highlight bold">
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w120">Chu kỳ xuất HĐ</div>
                        <div class="value">
                            <input type="text" @blur="blurChuKyHD"  @keypress="isNumber($event)" :value="input_chuky_xuat_hd" @change="e=>input_chuky_xuat_hd=e.target.value" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key w150">Tháng BĐ tính cước</div>
                        <div class="value">
                            <div class="input-icon-right">
                                <ejs-datepicker class="form-control bg-none bor0 fw6 text-red"
                                    placeholder="Chọn tháng" :format="'MM/y'" :start="'Year'"
                                    :depth="'Year'" :showClearButton="false" v-model="thang_bdtc"
                                    @change="changeThangBDTC"
                                    :allowEdit="true"/>
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w150">Lượt xuất HĐ</div>
                        <div class="value">
                            <input type="text" readonly @keypress="isNumber($event)" :value="input_luot_xuat_hd" @change="e=>input_luot_xuat_hd=e.target.value" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key w150">Tháng BĐ xuất HĐ</div>
                        <div class="value">
                            <div class="input-icon-right">
                                <ejs-datepicker class="form-control bg-none bor0 fw6 text-red"
                                    placeholder="Chọn tháng" :format="'MM/y'" :start="'Year'"
                                    :depth="'Year'" :showClearButton="false" v-model="thang_bdhd"
                                    @change="changeThangBDHD"
                                    :allowEdit="true"/>
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w150">Ngày xuất HĐ</div>
                        <div class="value">
                            <div class="input-icon-right">
                                <ejs-datepicker
                                    class="form-control bg-none bor0 fw6 text-red"
                                    v-model="ngayxuat_hd"
                                    format='dd/MM/yyyy'
                                    :showClearButton='false'
                                    locale="vi"
                                    placeholder="Chọn tháng"
                                    />
                                <!-- <ejs-datepicker class="form-control bg-none bor0 fw6 text-red"
                                    placeholder="Chọn tháng" :format="'dd/MM/yyyy'" :showClearButton="false" v-model="ngayxuat_hd"
                                    @change="changeNgayXuatHĐ"
                                    :allowEdit="true"/> -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key w150">Tháng KT xuất HĐ</div>
                        <div class="value">
                            <div class="input-icon-right">
                                <ejs-datepicker class="form-control bg-none bor0 fw6 text-red"
                                    placeholder="Chọn tháng" :format="'MM/y'" :start="'Year'"
                                    :depth="'Year'" :showClearButton="false" v-model="thang_kthd"
                                    @change="changeThangKTHD"
                                    :allowEdit="true"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="box-form">
            <div class="legend-title">Danh sách phát sinh công nợ rải rác</div>
            <KDataGrid
                ref="gridDs"
                :columns="columns"
                :dataSource="dataSources"
                :showColumnCheckbox="false"
                :enable-paging-server="false"
                :allowPaging="true"
                :showFilter="true"
                :enabledSelectFirstRow="true"
                @onRowSelected="onSelectedRow"
                @rowSelected="rowGridSelected"
                :selectionSettings="{ checkboxMode: 'ResetOnRowClick' }"
                

                />
        </div>
        <!-- :commands="commands" 
                :commandColumn="{headerText: 'Thao tác',cellCssClass: 'css1', show: true}"
                @commandClicked="commandClicked" -->

    </div>
</div>

