<div class="main-wrapper">
    <div class="breadcrumb-top">
        <breadcrumb  />
    </div>
    <div class="list-actions-top">
        <ul class="list">
            <li >
                <a style="cursor: pointer;" @click="startCreate" 
                :class="buttonStatus == 'add' || buttonStatus == 'edit'? 'disabled': ''">
                    <span class="icon one-file-plus"></span>Nhập mới
                </a>
            </li>
            <li>
                <a style="cursor: pointer;" @click="savePhase">
                    <span class="icon one-save"></span>Ghi lại
                </a>
            </li>
            <li>
                <a style="cursor: pointer;" @click="cancelTask" >
                    <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Hủy
                </a>
            </li>
            <li>
                <a style="cursor: pointer;"
                :class="buttonStatus == 'add' || buttonStatus == 'edit' || !params.ma_congdoan? 'disabled': ''"
                @click="deletePhase">
                    <span class="icon one-trash"></span>Xóa
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="box-form mt-1">
            <div class="row">
                <div class="col-sm-12 col-12">
                    <div class="info-row marb0">
                        <div class="legend-title">Thông tin danh mục kênh</div>
                    </div>
                    <div class="info-row">
                        <div class="key col-2">Mã công đoạn</div>
                        <div class="row value col-10">
                            <div class="col-sm-6 col-12">
                                <input disabled type="text" v-model="params.ma_congdoan" class="form-control">
                            </div>
                            <div class="col-sm-6 col-12"></div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key col-2">Tên công đoạn<span class="red"> (*)</span></div>
                        <div class="value col-10">
                            <input id="input_ten_congdoan" type="text" v-model="params.ten_congdoan"
                            class="form-control">
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key col-2">Nhóm công đoạn<span class="red"> (*)</span></div>
                        <div class="value col-10">
                            <select2 v-model="params.phase"
                            
                            :options="params.phase_options" />
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key col-2">Kênh bán<span class="red"> (*)</span></div>
                        <div class="value col-10">
                            <select2 v-model="params.channel"
                            
                            :options="params.channel_options" />
                        </div>
                    </div>
                    <!-- <div class="info-row">
                        <div class="key col-2">TL % được hưởng tối đa</div>
                        <div class="value col-10">
                            <input v-model="params.tyle_td"
                            :readonly="buttonStatus == 'edit' || buttonStatus=='add'? false: true"
                            type="number" class="form-control">
                        </div>
                    </div> -->
                    <div class="info-row">
                        <div class="key col-2">Đối tượng bán <span class="red">(*)</span></div>
                        <div class="value col-10">
                            <select2 v-model="params.doituongban" :options="params.ds_doituongban"
                            />
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key col-2">Tình trạng <span class="red">(*)</span></div>
                        <div class="value col-10">
                            <select2  v-model="params.status"
                            
                            :options="params.status_options" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-form">
            <div class="info-row marb0">
                <div class="legend-title">Danh sách công đoạn</div>
            </div>
            <div class="table-content">
                <DataGrid class="table-result table-gachle" :columns="params.table_columns"
                :dataSource="params.table_dataSource" 
                :showFilter="true"
                ref="tbCongDoan"
                :enabledSelectFirstRow="true"
                @rowSelected="selectRowCD"
                    dataKeyField="" :showColumnCheckbox="false" :allowPaging="true"
                    :enablePagingServer="false" />
            </div>
        </div>
    </div>
</div>