<div>
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a @click="tsbtnTimKiem_Click">
                    <span class="icon one-search"></span>Tìm kiếm
                </a>
            </li>
            <li>
                <a @click="btnChapNhan_Click" v-show="tsbtnChapNhan.Visible" :disabled="!tsbtnChapNhan.Enabled">
                    <span class="icon nc-icon-glyph ui-1_check-circle-08"></span>Chấp nhận
                </a>
            </li>

            <li>
                <a @click="tsbtnInHD_Click">
                    <span class="icon nc-icon-glyph files_single-content-02"></span>Hồ sơ
                </a>
            </li>
            <li>
                <a @click="btnInPhieuTT_Click">
                    <span class="icon one-print"></span>In phiếu TT
                </a>
            </li>
            <li>
                <a v-show="btnInHopDong.Visible" :disabled="!btnInHopDong.Enabled">
                    <span class="icon one-print"></span>In HĐ theo mẫu
                </a>
            </li>
            <li>
                <a v-show="btnInPL.Visible" :disabled="!btnInPL.Enabled">
                    <span class="icon one-print"></span>In phụ lục
                </a>
            </li>
            <li>
                <a  v-show="tsbtnInBB.Visible" :disabled="!tsbtnInBB.Enabled" @click="tsbtnInBB_Click">
                    <span class="icon one-print"></span>In BB
                </a>
            </li>
            <li>
                <a @click="tsbtnKhuyenMai_Click">
                    <span class="icon one-sale"></span>Khuyến mại
                </a>
            </li>
            <li  :style="!isShowTaoHDDT ? 'display: none' : ''">
                <a @click="tsbtnTaoHDDT_Click">
                    <span class="icon one-print"></span>Tạo HĐĐT
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="box-form">
            <div class="legend-title">
                <span class="fa fa-angle-up icon"></span>Thông tin tìm kiếm
            </div>
            <div class="row">
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key w110">
                            <div class="check-action">
                                <input type="checkbox" v-model="chkLoaiHD.Checked" class="check">
                                <span class="name">Loại HĐ/PL</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt v-model="cboLoaiHD.SelectedValue"
                                    :allowFiltering="true"

                                    :disabled="!chkLoaiHD.Checked"
                                    :dataSource="cboLoaiHD.list"
                                    dataValueField="ID"
                                    dataTextField="NAME"
                                     >
                                </SelectExt>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-12">
                    <div class="info-row">
                        <div class="key w140">
                            Tra cứu theo
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt v-model="cboDKTraCuu.SelectedValue"
                                    :allowFiltering="true"
                                    :disabled="!cboDKTraCuu.Enabled"
                                    :dataSource="cboDKTraCuu.list"
                                    dataValueField="ID"
                                    dataTextField="NAME"
                                     >
                                </SelectExt>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key w110">
                            <div class="check-action">
                                <input type="checkbox" v-model="chkDVVT.Checked" class="check">
                                <span class="name">Dịch vụ</span>
                            </div>
                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt v-model="cboDichVuVT.SelectedValue"
                                    :allowFiltering="true"
                                    :disabled="!chkDVVT.Checked"
                                    :dataSource="cboDichVuVT.list"
                                    dataValueField="ID"
                                    dataTextField="NAME"
                                     >
                                </SelectExt>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key w75">
                            Mã GD
                        </div>
                        <div class="value">
                            <input type="text" v-model="inputValue.ma_gd" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key w140">
                            Thông tin tra cứu
                        </div>
                        <div class="value">
                            <input type="text" v-model="inputValue.tt_tracu" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key w90">
                            Mã HĐ-TTKD
                        </div>
                        <div class="value">
                            <input type="text" v-model="inputValue.ma_hd_ttkd" class="form-control">
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key w110">
                            <div class="check-action">
                                <input type="checkbox" v-model="chkNgayYC.Checked" class="check">
                                <span class="name">Ngày YC</span>
                            </div>
                        </div>
                        <div>
                            <div class="input-icon-right">
                                <vue-date :disable="!chkNgayYC.Checked" :format="'DD/MM/YYYY'" v-model="dtpTuNgay" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3 col-12">
                    <div class="info-row">
                        <div class="key w70">
                            Đến ngày
                        </div>
                        <div class="value">
                            <div class="input-icon-right">
                                <vue-date :disable="!chkNgayYC.Checked" :format="'DD/MM/YYYY'" v-model="dtpDenNgay" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6 col-12">
                    <div class="info-row">

                        <div class="key w140">
                            <div class="check-action">
                                <input type="checkbox" v-model="chkTrangThai.Checked" class="check">
                                <span class="name">Trạng thái HĐ/PL</span>
                            </div>

                        </div>
                        <div class="value">
                            <div class="select-custom">
                                <SelectExt v-model="cboTrangThai.SelectedValue"
                                :allowFiltering="true"
                                :disabled="!chkTrangThai.Checked"
                                :dataSource="cboTrangThai.list"
                                dataValueField="ID"
                                dataTextField="NAME"
                                 >
                            </SelectExt>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="box-form">
            <div class="legend-title"><span  @click="clickShowHideHD" class="fa icon" :class="{'fa-angle-up':expanded.hop_dong, 'fa-angle-down':!expanded.hop_dong,}"></span> Danh sách hợp đồng/phụ lục khách hàng</div>
            <div class="table-content">
                <DataGrid
                v-bind:dataSource="dataSourcesHD.list"
                v-bind:columns="dataSourcesHD.cols"
                ref="dataSourcesHD"
                :panelDataHeight= "'150'"
                :showFilter="true"
                :enablePagingServer="false"
                :enabledSelectFirstRow="true"
                :allowPaging="true"
                @rowSelected="rowSelected"
                v-show="expanded.hop_dong"
            />
            </div>
        </div>
        <div class="box-form">
            <div class="legend-title"><span @click="clickShowHideTT" class="fa icon" :class="{'fa-angle-up':expanded.thanhtoan, 'fa-angle-down':!expanded.thanhtoan,}"></span>  Danh sách thanh toán</div>
            <div class="table-content">
                <DataGrid
                v-bind:dataSource="dataSourcesTT.list"
                v-bind:columns="dataSourcesTT.cols"
                ref="dataSourcesTT"
                :panelDataHeight= "'150'"
                :showFilter="true"
                :enablePagingServer="false"
                :enabledSelectFirstRow="true"
                :allowPaging="true"
                @rowSelected="rowGridTTSelected"
                v-show="expanded.thanhtoan"
            />
            </div>

        </div>
        <div class="box-form">
            <div class="legend-title"><span @click="clickShowHideTB"  class="fa icon" :class="{'fa-angle-up':expanded.thuebao, 'fa-angle-down':!expanded.thuebao,}"></span>  Danh sách thuê bao</div>
            <div class="table-content">
                <DataGrid
                v-bind:dataSource="dataSourcesTB.list"
                v-bind:columns="dataSourcesTB.cols"
                ref="dataSourcesTB"
                :panelDataHeight= "'150'"
                :showFilter="true"
                :enablePagingServer="false"
                :enabledSelectFirstRow="true"
                :allowPaging="true"
                @rowSelected="rowGridTBSelected"
                @recordDoubleClick="gridviewThueBao_DoubleClick"
                v-show="expanded.thuebao"

            />
            </div>

        </div>





    </div>
    <footer class="footer">
        VNPT-IT &copy; 2021
    </footer>
    <TraCuuThongSoKTModal ref="traCuuThongSoKTModal"
    :dichvuvt_id="dichvuvt_selected"
    :ma_tb="ma_tb"
    :kieu="1"
    :thuebao_id="thuebao_id"
    />
    <TraCuuKhuyenMaiModal ref="TraCuuKhuyenMaiModal" :hdtb_id="data_thuebao.hdtb_id" :vkieu="3"/>
    <InBienBan ref="popupInBB" :params="modelIn"/>
    <InHoSo ref="popupInHoSo" :params="popupInHoSo_Param"/>
    <InPhieuThu ref="popupInPhieuThu" :ma_gd="inputValue.ma_gd"/>
    
    <!-- udpate them tao hop dong dien tu -->
    <CreatEInvoiceModal ref="popupCreateEInvoice" :kieuld_id="kieuld_id"  :loaitb_id="loaitb_id" v-show="isShowTaoHDDT" :hdkh_id="hdkh_id"/>
</div>
