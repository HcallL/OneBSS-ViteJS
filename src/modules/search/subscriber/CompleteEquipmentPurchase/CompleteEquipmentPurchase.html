<div class="main-wrapper">
    <breadcrumb :header="header"/>
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="#" @click.prevent="layTT">
                    <span class="icon one-file-attach"></span>Lấy TT
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="muaTbi" :class="{disabled: !(isPhieuMoi==1?true:false)}">
                    <span class="icon one-seri"></span>Mua TBị
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="row">
            <div class="col-sm-6 col-12">
                <div class="box-form" style="min-height: 240px">
                    <div class="box marb20">
                        <div class="legend-title">Thông tin khách hàng</div>
                        <div class="row">
                            <div class="col-sm-9 col-12">
                                <div class="info-row">
                                    <div class="key w110">Mã GD</div>
                                    <div class="value">
                                        <input v-model="ttKhachHang.maGd" type="text" class="form-control highlight" >
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-3 col-12">
                                <div class="info-row">
                                    <div class="key w110" style="width: 50px;">Mã TB</div>
                                    <div class="value">
                                        <input v-model="ttKhachHang.maTb" type="text" class="form-control highlight" >
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w110">Kiểu lắp đặt</div>
                            <div class="value">
                                <input v-model="ttKhachHang.tenKieuLd" type="text" class="form-control" >
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w110">Tên thuê bao</div>
                            <div class="value">
                                <input v-model="ttKhachHang.tenTb" type="text" class="form-control" >
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="key w110">Địa chỉ LĐ</div>
                            <div class="value">
                                <div class="input-more-button">
                                    <button class="btn" v-b-modal.popupDiaChi>
                                        <span class="one-map-location f20"></span>
                                    </button>
                                    <input v-model="ttKhachHang.diaChiLd" type="text" class="form-control">
                                    <ModalChonDiaChi modalId="popupDiaChi" :data="diaChi"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-12">
                <div class="box-form" style="min-height: 240px">
                    <div class="box marb20">
                        <div class="legend-title">Thông tin thiết bị cần mua</div>
                        <DataGrid v-bind:columns="dsVatTu.header" v-bind:dataSource="dsVatTu.list"
                            :enable-paging-server="false" :allowPaging="false" :showFilter="true"
                            ref="gridVatTu" :showColumnCheckbox="false">
                        </DataGrid>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-form">
            <div class="legend-title">
                Danh sách phiếu mua thiết bị
                <div class="list-checks" style="margin-left: 30px; display: inline-block;">
                    <div class="item red">
                        <div class="check-action">
                            <input v-model="isPhieuMoi" :value="1" type="radio" class="check">
                            <span class="name">Phiếu mới</span>
                        </div>
                    </div>
                    <div class="item red">
                        <div class="check-action">
                            <input v-model="isPhieuMoi" :value="0" type="radio" class="check">
                            <span class="name">Phiếu đã xử lý</span>
                        </div>
                    </div>
                    <!-- <div class="item red marl100">
                        <span style="color: darkred">Tổng chọn: {{ tongChon }}</span>
                    </div> -->
                </div>
            </div>
            <div class="table-content">
                <DataGrid :columns="dsThueBao.header" :dataSource="dsThueBao.list" 
                :enable-paging-server="false" :allowPaging="true" :enabledSelectFirstRow="true"
                dataKeyField="HDTB_ID"  @selectedRowChanged="selectedRowChanged"
                :showFilter="true" ref="gridThueBao" :showColumnCheckbox="false">
                </DataGrid>
            </div>
        </div>
    </div>
</div>