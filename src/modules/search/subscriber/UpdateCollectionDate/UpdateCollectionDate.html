<div class="main-wrapper">
    <breadcrumb :header="header" />
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a @click="btnSearch_Click">
                    <span class="icon one-search"></span>Tìm kiếm
                </a>
            </li>
            <li>
                <a @click="btnUpdate_Click">
                    <span class="icon one-save"></span>Cập nhật ngày truy thu
                </a>
            </li>
            <li>
                <a v-if="allowDelete" @click="btnDelete_Click">
                    <span class="icon ui-1_trash nc-icon-glyph"></span>Xóa
                </a>
            </li>
            <li>
                <a @click="btnUpdateMaHD_Click">
                    <span class="icon one-save1"></span>Cập nhật mã HĐ-TTKD
                </a>
            </li>
            <li>
                <a @click="btnNhanHD_Click">
                    <span class="icon one-clipart-add"></span>Nhận HĐ
                </a>
            </li>
            <li>
                <a @click="btnHuyNhanHD_Click">
                    <span class="icon ui-1_circle-remove nc-icon-glyph"></span>Hủy HĐ
                </a>
            </li>
            <li>
                <a @click="btnCapNhatCTK_Click">
                    <span class="icon one-sync"></span>Cập nhật CTK-CTC
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="box-form">
            <div class="legend-title">
                Thông tin tra cứu
            </div>
            <div class="row ">
                <div class="col-sm-5 col-12 ">
                    <div class="row">
                        <div class="col-sm-12 col-12">
                            <div class="info-row">
                                <div class="key w96">
                                    <div class="check-action">
                                        <input v-model="loaiHD_PL.checkbox" type="checkbox" class="check">
                                        <span class="name">Loại HĐ/PL</span>
                                    </div>
                                </div>
                                <div class="value">
                                    <Select2 :disabled="!loaiHD_PL.checkbox" placeholder="Lắp đặt mới" v-model="loaiHD_PL.checked" :options="loaiHD_PL.list" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-sm-6 col-12 ">
                            <div class="info-row ">
                                <div class="key w96">
                                    <div class="check-action">
                                        <input v-model="dichVu.checkbox" type="checkbox" class="check">
                                        <span class="name">Dịch vụ</span>
                                    </div>
                                </div>
                                <div class="value ">
                                    <Select2 :disabled="!dichVu.checkbox" placeholder="Cố định" v-model="dichVu.checked" :options="dichVu.list" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row ">
                                <div class="key w60">
                                    Mã GD
                                </div>
                                <div class="value ">
                                    <input v-model="maGD" type="text" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-sm-6 col-12 ">
                            <div class="info-row custom">
                                <div class="key w96">
                                    <div class="check-action">
                                        <input type="checkbox" class="check" v-model="inputNgayYC.checkbox">
                                        <span class="name">Ngày YC</span>
                                    </div>
                                </div>
                                <div class="value ">
                                    <date-picker :disabled="!inputNgayYC.checkbox" :disabled-date="disabledRange" :format="dateFormat " :value-type="dateFormat " ref="txtTuNgay" :time-title-format="dateFormat" :type="typeFormat " :showTimePanel="showTimePanel " v-model="inputNgayYC.val"
                                        @close="handleOpenChange ">
                                        <template #icon-calendar>
                                            <span class="icon one-calendar "></span>
                                        </template>
                                    </date-picker>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row custom">
                                <div class="key w60">
                                    Đến ngày
                                </div>
                                <div class="value ">
                                    <date-picker :disabled="!inputNgayYC.checkbox" :disabled-date="disabledRange" :format="dateFormat " :value-type="dateFormat " ref="txtDenNgay" :time-title-format="dateFormat" :type="typeFormat " :showTimePanel="showTimePanel " v-model="inputDenNgay.val"
                                        @close="handleOpenChange">
                                        <template #icon-calendar>
                                            <span class="icon one-calendar "></span>
                                        </template>
                                    </date-picker>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-7 col-12 ">
                    <div class="row">
                        <div class="col-sm-12 col-12">
                            <div class="info-row">
                                <div class="key w140">
                                    Tra cứu theo
                                </div>
                                <div class="value">
                                    <Select2 v-model="soMayACC.checked" :options="soMayACC.list" placeholder="Số máy/Acc" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-sm-7 col-12 ">
                            <div class="info-row ">
                                <div class="key w140">
                                    Thông tin tra cứu
                                </div>
                                <div class="value ">
                                    <input v-model="infoTraCuu" type="text" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row ">
                                <div class="key w90">
                                    Mã HĐ-TTKD
                                </div>
                                <div class="value ">
                                    <input v-model="maHDTTKD" type="text" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="col-sm-7 col-12 ">
                            <div class="info-row ">
                                <div class="key w140">
                                    <div class="check-action">
                                        <input v-model="trangThai.checkbox" type="checkbox" class="check">
                                        <span class="name">Trạng thái HĐ/PL</span>
                                    </div>
                                </div>
                                <div class="value ">
                                    <Select2 :disabled="!trangThai.checkbox" placeholder="Mới tiếp nhận" v-model="trangThai.checked" :options="trangThai.list" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5 col-12">
                            <div class="info-row custom">
                                <div class="key w90">
                                    Ngày truy thu
                                </div>
                                <div class="value ">
                                    <date-picker :disabled-date="disabledRange" :format="dateFormat2 " :value-type="dateFormat2 " ref="txtTuNgay" :time-title-format="dateFormat2" :type="typeFormat " :showTimePanel="showTimePanel " v-model="ngayTruyThu.val" @close="handleOpenChange">
                                        <template #icon-calendar>
                                            <span class="icon one-calendar "></span>
                                        </template>
                                        <template v-slot:footer>
                                            <button class="mx-btn mx-btn-text" @click="toggleTimePanel">
                                              {{ showTimePanel ? 'Chọn ngày' : 'Chọn giờ' }}
                                            </button>
                                          </template>
                                    </date-picker>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="box-form ">
            <div class="legend-title ">
                <div class="pull-left ">
                    Danh sách hợp đồng khách hàng
                </div>
                <div class="pull-right red ">
                    Số lượng : {{gridBoxKH.data.length}}
                </div>
                <div class="clearfix "></div>
            </div>
            <div class="table-content ">
                <DataGrid ref="tableDSKH " v-bind:columns="headerGridboxKH" v-bind:dataSource="gridBoxKH.data " :enablePagingServer="false " :allowPaging="true " :showFilter="true " :allowTextWrap="true " @selectedItemsChanged="selectedItemsChangedGridboxKH" />
            </div>
        </div>
        <div class="box-form ">
            <div class="legend-title ">
                <div class="pull-left ">
                    Danh sách thuê bao
                </div>
                <div class="pull-right red ">
                    Số lượng : {{gridBox.data.length}}
                </div>
                <div class="clearfix "></div>
            </div>
            <div class="table-content ">
                <DataGrid ref="tableDSTB" v-bind:columns="headerGridbox " v-bind:dataSource="gridBox.data " :enablePagingServer="false " :allowPaging="true " :showFilter="true " :allowTextWrap="true " @selectedItemsChanged="selectedItemsChangedGridbox " />
            </div>
        </div>
        <UpdateModal ref="UpdateCTK_CTCModal" :data="dataModel" />
    </div>
</div>