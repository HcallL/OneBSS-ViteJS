<b-modal ref="HosoFileModal" size="xl" hide-header hide-header-close hide-footer body-class="p-0" no-close-on-backdrop
  @show="handleShowModal">
  <div class="modal-content popup-box">
    <div class="popup-header">
      <div class="title">
        <span class="icon one-notepad"></span>Danh sách File hồ sơ
      </div>
      <div class="close -ap icon-close" @click="hideModal"></div>
    </div>
    <!-- <div class="list-actions-top">
      <ul class="list">
        <li>
          <a href="javascript: void(0)" title="Ghi lại" v-on:click.prevent="CapnhatFile">
            <span class="icon one-save"></span>Ghi lại
          </a>
        </li>
        <li>
          <a href="javascript: void(0)" title="Ghi lại" v-on:click.prevent="hideModal">
            <span class="icon ui-1_circle-remove nc-icon-glyph"></span> Thoát
          </a>
        </li>
      </ul>
    </div> -->
    <div class="popup-body">
      <div class="box-form">
        <div class="legend-title">
          <div class="row">
            <div class="col-sm-11 col-12">
              <span>Thông tin File hồ sơ</span>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-12">
          <div class="info-row">
            <div class="key w110">Loại File <span class="red">(*)</span></div>
            <div class="value">
              <div class="select-custom disabled">
                <SelectExt id="cbb_LoaiFile" v-model.trim="items.loaifile_id"
                  :settings="{dropdownParent: $refs['dsLoaiFile']}" :dataSource="dsLoaiFile" dataTextField="loai_file"
                  dataValueField="loaifile_id" />
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-12">
          <div class="info-row">
            <div class="key w110">Chọn File</div>
            <div class="value">
              <div class="input-icon-right">
                <input disabled v-model="items.url" type="text" class="form-control">
                <span @click="$refs.files_upload.click()" class="text-main icon -ap icon-upload"></span>
                <input hidden type="file" ref="files_upload" id="upload-file5" @change="changeFile">
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-12 col-12">
          <div class="info-row">
            <div class="key w110">Ghi chú </div>
            <div class="value">
              <input type="text" class="form-control disabled" v-model="items.ghichu" ref="ghichu">
            </div>
          </div>
        </div>
      </div>
      <div class="box-form">
        <div class="legend-title">
          <div class="row">
            <div class="col-sm-11 col-12">
              <span>Danh sách File hồ sơ</span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12 col-12">
            <DataGrid v-bind:columns="[
                            {fieldName: 'loai_file', headerText: 'Loại File', allowFiltering: true, allowSorting: false, width: 100, cssClass: 'text-blue'},
                            {fieldName: 'url', headerText: 'Tên File', allowFiltering: true, allowSorting: false, width: 100, cssClass: 'text-bold'},
                            {fieldName: 'ghichu', headerText: 'Ghi chú', allowFiltering: true, allowSorting: false, width: 100, cssClass: 'text-red'},
                            
                            ]" :commands="[
                           
                            {name: 'Xem', cssClass: 'pad3 mar5 lh14 icon -ap icon-search btn-primary btn-search', iconCss: 'fa fa-times', width: 100},
                        ]" @commandClicked="gridDsFileCommand"
              :commandColumn="{headerText: 'Thao tác', cellCssClass: 'w50 center', width: 80, firstColumn: false, show: true}"
              v-bind:dataSource="dsFileKenhBan" :showFilter="true" :allowPaging="true" ref="dsFile"
              :enablePagingServer="false" :allowExcelExport="true" @rowSelected="onFileSelected">
            </DataGrid>
          </div>
        </div>
      </div>
    </div>
  </div>
</b-modal>