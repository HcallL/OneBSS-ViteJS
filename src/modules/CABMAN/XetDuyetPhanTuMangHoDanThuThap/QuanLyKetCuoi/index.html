<b-modal
  size="lg"
  no-close-on-backdrop
  hide-footer
  hide-header
  hide-header-close
  body-class="modal-body p-0"
  @shown="onShownModal"
  @hidden="onHiddenModal"
  :id="id"
  :key="key"
>
  <div class="modal-content popup-box">
    <div class="popup-header">
      <span class="icon one-appstore"></span> Quản lý kết cuối
      <div class="close -ap icon-close" data-dismiss="modal" @click="$bvModal.hide(id)">
      </div>
    </div>
    <div class="list-actions-top">
      <ul class="list">
<!--        <li>-->
<!--          <a href="#">-->
<!--            <span class="icon one-save"></span> Ghi lại-->
<!--          </a>-->
<!--        </li>-->
        <li>
          <a href="javascript:void(0)" v-b-modal.popupAnhChup>
            <span class="icon nc-icon-glyph business_award-49"></span> Ảnh chụp
          </a>
        </li>
      </ul>
    </div>
    <div class="popup-body">
      <div>
        <div class="info-row">
          <div class="key w100">Loại kết cuối </div>
          <div class="select-custom">
            <select v-model="loai_ket_cuoi" name="" id="" class="form-control" disabled="true">
              <option v-for="item in this.dsLOAI_KC" :value="item.LOAIKC_ID">{{item.LOAI_KC}}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="table-content">
        <table class="table-result table-gachle">
          <thead class="center">
          <tr>
            <th class="w20"></th>
            <th>Tên thuộc tính</th>
            <th>Giá trị</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td class="w20 center">
<!--              <span class="fa fa-play text-main"></span>-->
            </td>
            <td>
              Ký hiệu <bss-required-marker/>
            </td>
            <td class="fw6">
              <input v-model="dataSelected.KYHIEU" type="text" class="form-control h24 bor0 bg-none">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Tên kết cuối <bss-required-marker/>
            </td>
            <td>
              <input v-model="dataSelected.TEN_KC" type="text" class="form-control h24 bor0 bg-none">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Chủ quản <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.CHUQUAN_ID" :dataSource="this.dsChuQuan" dataTextField="TENCHUQUAN"
                           dataValueField="CHUQUAN_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Phân loại kết cuối <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.PHANLOAIKC_ID" :dataSource="this.dsPHANLOAI_KC" dataTextField="PHANLOAI_KC"
                           dataValueField="PHANLOAIKC_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Loại kết cuối <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.LOAIKC_ID" :dataSource="this.dsLOAI_KC" dataTextField="LOAI_KC"
                           dataValueField="LOAIKC_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Kiểu lắp <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.KIEULAP_ID" :dataSource="this.dsKIEU_LAP" dataTextField="KIEU_LAP"
                           dataValueField="KIEULAP_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Nơi sản xuất <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.NOISX_ID" :dataSource="this.dsNOI_SX" dataTextField="NOI_SX"
                           dataValueField="NOISX_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Vị trí <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.VITRI_ID" :dataSource="this.dsVITRI" dataTextField="VITRI"
                           dataValueField="VITRI_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Loại vỏ <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.LOAIVO_ID" :dataSource="this.dsLOAI_VO" dataTextField="LOAI_VO"
                           dataValueField="LOAIVO_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Chiều dài
            </td>
            <td>
              <input v-model="dataSelected.CHIEUDAI" type="text" class="form-control h24 bor0 bg-none">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Chiều rộng
            </td>
            <td>
              <input v-model="dataSelected.CHIEURONG" type="text" class="form-control h24 bor0 bg-none">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Chiều cao
            </td>
            <td>
              <input v-model="dataSelected.CHIEUCAO" type="text" class="form-control h24 bor0 bg-none">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Địa chỉ <bss-required-marker/>
            </td>
            <td>
              <div class="input-more-button -right">
                <button class="btn btn-main pad4 w-auto lh14 h-auto"  style="background: #ffffff !important;" @click="this.btnChonDiaChi">
                  <span class="icon -ap icon-more_horiz text-main"></span>
                </button>
                <input v-model="dataSelected.DIACHI" type="text" class="form-control h24 bor0 bg-none">
<!--                <span class="icon -ap icon-more_horiz text-main"></span>-->
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Ngày lắp đặt <bss-required-marker/>
            </td>
            <td class="padt0 padb0" colspan="2">
              <ejs-datepicker ref="ngayld" class="form-control bg-none bor0 fw6 text h24" placeholder="Chọn ngày" :value="dataSelected.NGAY_LD" format="dd-MM-yyyy" v-model="dataSelected.NGAY_LD"></ejs-datepicker>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Dung lượng <bss-required-marker/>
            </td>
            <td>
              <input v-model="dataSelected.TONGSO_DD" type="text" class="form-control h24 bor0 bg-none">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Số đôi hỏng
            </td>
            <td>
              <input v-model="dataSelected.SO_DH" type="text" class="form-control h24 bor0 bg-none">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Dung lượng LD thực tế
            </td>
            <td>
              <input v-model="dataSelected.DUNGLUONG" type="text" class="form-control h24 bor0 bg-none">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Jumper ảo
            </td>
            <td>
              <input v-model="dataSelected.JUMPER_AO" type="text" class="form-control h24 bor0 bg-none">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Ngày sử dụng <bss-required-marker/>
            </td>
            <td class="padt0 padb0" colspan="2">
              <ejs-datepicker ref="ngaysd" class="form-control bg-none bor0 fw6 text h24" placeholder="Chọn ngày" :value="new Date()" format="dd-MM-yyyy" v-model="dataSelected.NGAY_SD"></ejs-datepicker>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Tổ quản lý <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.DONVI_ID" :dataSource="this.dsTOQL" dataTextField="TEN_TOQL"
                           dataValueField="TOQL_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Trạng thái sử dụng <bss-required-marker/>
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.TTSD_ID" :dataSource="this.dsTRANGTHAI_SD" dataTextField="TRANGTHAI_SD"
                           dataValueField="TTSD_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Tòa nhà
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.TOANHA_ID" :dataSource="this.dsToaNha" dataTextField="TEN_TOANHA"
                           dataValueField="TOANHA_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Mã vạch
            </td>
            <td>
              <input v-model="dataSelected.MA_VACH" type="text" class="form-control h24 bor0 bg-none">
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Dự án
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.DUAN_ID" :dataSource="this.dsDuAn" dataTextField="MA_CT"
                           dataValueField="DUAN_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td >
              Tài sản
            </td>
            <td>
              <div class="select-custom">
                <SelectExt v-model.trim="dataSelected.TAISAN_ID" :dataSource="this.dsTaiSan" dataTextField="MA_TS"
                           dataValueField="TAISAN_ID"/>
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Kinh độ - Bản đồ số <bss-required-marker/>
            </td>
            <td>
              <div class="input-more-button -right">
                <button class="btn btn-main pad4 w-auto lh14 h-auto"  style="background: #ffffff !important;" v-b-modal.ModalChonToaDo>
                  <span class="icon one-map-location text-main"></span>
                </button>
                <input v-model="dataSelected.KINHDO" type="text" class="form-control h24 bor0 bg-none">
<!--                <span class="icon one-map-location text-main"></span>-->
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Vĩ độ - Bản đồ số <bss-required-marker/>
            </td>
            <td>
              <div class="input-more-button -right">
                <button class="btn btn-main pad4 w-auto lh14 h-auto"  style="background: #ffffff !important;" v-b-modal.ModalChonToaDo>
                  <span class="icon one-map-location text-main"></span>
                </button>
                <input v-model="dataSelected.VIDO" type="text" class="form-control h24 bor0 bg-none">
<!--                <span class="icon one-map-location text-main"></span>-->
              </div>
            </td>
          </tr>
          <tr>
            <td class="w20 center">
            </td>
            <td>
              Ghi chú
            </td>
            <td>
              <input v-model="dataSelected.GHICHU" type="text" class="form-control h24 bor0 bg-none">
            </td>
          </tr>
          </tbody>
        </table>
        <ModalChonDiaChi modalId="popupDiaChi" :data="this.diachi" :isStrictMode="true" @xacnhan="getDiaChiTuFormDiaChi"/>
        <ModalChonToaDo  idModalChonToaDo="ModalChonToaDo" @XacNhanToaDo="XacNhanToaDo" :position="getPosition" :diachi="getDiachi"></ModalChonToaDo>
        <ModalAnhChup modalId="popupAnhChup" :ketcuoi="getKetCuoi" :readOnly="true"/>
      </div>
    </div>
  </div>
</b-modal>
