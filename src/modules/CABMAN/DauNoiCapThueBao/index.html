<div>
    <div class="list-actions-top" style="position: unset;">
        <ul class="list" style="position: unset;">
            <li>
                <a href="javascript:void(0)" @click="btnLayTT_Click">
                    <span class="icon one-search"></span>Lấy TT
                </a>
            </li>
            <li>
                <a href="javascript:void(0)" :class="{'disable-btn': isDisableBtnDauNoi}" @click="btnDauNoi_Click">
                    <span class="icon one-connect"></span>Đấu nối
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="row">
            <div class="col-sm-5 col-12">
                <div class="box-form">
                    <div class="legend-title">Thông tin tra cứu</div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w100">Tra cứu theo</div>
                                <div class="value">
                                    <div class="list-checks mart7">
                                        <div class="item">
                                            <div class="check-action">
                                                <input name="TraCuu" type="radio" class="check" value="0" v-model="rd_tracuu">
                                                <span class="name">Danh bạ</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                          
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="value">
                                    <div class="list-checks mart7">
                                        <div class="item">
                                            <div class="check-action">
                                                <input name="TraCuu" type="radio" class="check" value="1" v-model="rd_tracuu">
                                                <span class="name">Hợp đồng</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                           
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w100">Số máy / Account</div>
                        <div class="value">
                            <div class="input-more-button -left">
                                <button class="btn" @click="bntLayMaKh_Click">
                                    <span class="-ap icon-more_horiz"></span>
                                </button>
                                <input type="text" class="form-control highlight" v-model.trim="txtMaTB" @keyup.enter="NAP_TT_THUEBAO(0)">
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w100">Tên thuê bao</div>
                        <div class="value">
                            <textarea class="form-control" style="height: 60px;resize: none;" v-model.trim="txtTenTB"></textarea>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w100">Địa chỉ lắp đặt</div>
                        <div class="value">
                            <textarea class="form-control" style="height: 90px;resize: none;" v-model.trim="txtDiaChiLD"></textarea>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w100">Loại hình</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model.trim="txtLoaiHinh">
                            </div>
                    </div>
                    <div class="info-row">
                        <div class="key w100">Trạng thái</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model.trim="txtTrangThai">
                            </div>
                    </div>
                    <div class="info-row">
                        <div class="key w100">Tổ quản lý</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model.trim="txtToQL">
                            </div>
                    </div>
                    <div class="info-row">
                        <div class="key w100">Trạm thiết bị</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model.trim="txtTramTB">
                            </div>
                    </div>
                    <div class="info-row">
                        <div class="key w100">Loại hợp đồng</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model.trim="txtLoaiHD">
                            </div>
                    </div>
                    <div class="info-row">
                        <div class="key w100">Kiểu lắp đặt</div>
                            <div class="value">
                                <input type="text" class="form-control" v-model.trim="txtKieuLD">
                            </div>
                    </div>
                    <div class="legend-title mart10">Ghi chú</div>
                    <div class="info-row">
                        <div class="value">
                            <textarea class="form-control" style="height: 150px;resize: none;" v-model.trim="txtGhiChu" :readonly="isReadonlyGhiChu"></textarea>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="value center">
                            <button class="btn btn-second" style="min-width: 100px;" :disabled="isDisableBtnCapNhatGC" @click="btnCapNhatGC_Click">
                                <span class="icon fa fa-check-circle"></span> Cập nhật ghi chú
                            </button>
                           
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-7 col-12">
                <div class="box-form">
                    <div class="legend-title">Danh sách đấu nối</div>
                    <DataGrid v-bind:columns="[
                            {fieldName: '', headerText: '', allowFiltering: false, allowSorting: false, template: templateChucNang, width: 100},
                            {fieldName: 'STT', headerText: 'STT', allowFiltering: true, allowSorting: true, width: 100},
                            {fieldName: 'LOAI_TBI', headerText: 'Loại thiết bị', allowFiltering: true},
                            {fieldName: 'TEN_TBI', headerText: 'Tên thiết bị', allowFiltering: true},
                            {fieldName: 'VITRI', headerText: 'Vị trí', allowFiltering: true},
                            {fieldName: 'CULY', headerText: 'Cự ly', allowFiltering: true, template: templateCuLy},
                            {fieldName: 'GHICHU', headerText: 'Ghi chú', allowFiltering: true, template: templateGhiChu},
                            {fieldName: 'NGAY_CN', headerText: 'Ngày CN', allowFiltering: true},
                            {fieldName: 'NGUOI_CN', headerText: 'Người CN', allowFiltering: true}
                        ]"
                    v-bind:dataSource="dsDauNoi" :showFilter="true" @rowSelected="gridDsDauNoi_rowSelected"></DataGrid>

                    <div class="legend-title mart10">Dẫn độ cáp</div>
                    <DataGrid v-bind:columns="[
                            {fieldName: 'STT', headerText: 'STT', allowFiltering: true, allowSorting: false, width: 100},
                            {fieldName: 'LOAI_TBI', headerText: 'Loại thiết bị', allowFiltering: true},
                            {fieldName: 'TEN_TBI', headerText: 'Tên thiết bị', allowFiltering: true},
                            {fieldName: 'VITRI', headerText: 'Cổng Sợi', allowFiltering: true},
                            {fieldName: 'DIACHI', headerText: 'Địa chỉ', allowFiltering: true},
                            {fieldName: 'GHICHU', headerText: 'Ghi chú', allowFiltering: true}
                        ]"
                    v-bind:dataSource="dsDanDo" :showFilter="true" @selectedRowChanged="gridDsDanDo_rowSelected"></DataGrid>
                </div>
            </div>
        </div>
    </div>
    <ModalDauNoi ref="formModalDauNoi" modalId="popup-daunoicapthuebao" :mat="mat" :thuebao="thuebao" @xacnhan="xacnhan"></ModalDauNoi>
    <b-modal ref="SearchSubsAccountModal" size="xl" body-class="p-0" centered scrollable hide-footer>
        <div slot="modal-title">
            <span class="icon one-notepad"></span> Tra cứu danh bạ thuê bao
        </div>
        <SearchSubsAccount :isPopup="true" @onSuccess="modelClose" />
    </b-modal>
</div>
