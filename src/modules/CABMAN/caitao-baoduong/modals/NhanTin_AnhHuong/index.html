<b-modal 
    :id="modalId" 
    size="lg" 
    no-close-on-backdrop
    hide-footer 
    hide-header 
    hide-header-close 
    @shown="focusMyElement"
    @hidden='hiddenModal'
    body-class="modal-body p-0">
    <div class="modal-content popup-box">
        <div class="popup-header">
            <div class="title">
                <span class="icon one-notepad"></span> Nhắn tin thuê bao ảnh hưởng
            </div>
            <div
                class="close -ap icon-close"
                data-dismiss="modal"
                @click="$bvModal.hide(modalId)">
            </div>
        </div>

        <div class="list-actions-top">
            <ul class="list">
                <li>
                    <a href="javascript:void(0)" @click="GuiTin()">
                        <span  class="icon one-file-attach"></span> Gửi tin
                    </a>
                </li>
            </ul>
        </div>
        <div class="popup-body">
            <div class="box-form">
                <div class="legend-title mart0">
                    <div class="pull-left mart10">
                        Thông tin thuê bao ảnh hưởng
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="row">

                    <div class="info-row"> 
                        <div class="key w100">Hình thức gửi <span style="color: red;">*</span></div>
                        <div class="value">                        
                         <div class="select-custom" ref="hinhthuc">
                                <SelectExt v-model="hinhthuc_id"
                                 :settings="{dropdownParent: $refs['hinhthuc']}" 
                                 :dataSource="dsHinhThuc" 
                                 dataTextField="HINHTHUC"
                                 dataValueField="HT_ID"/>
                                </div>  
                        </div>
                    </div>                   
                </div>
            <div class="box-form">
                <div class="table-content">
                    <DataGrid ref="grid-phieu" v-bind:columns="[
                    {fieldName: 'MA_TB', headerText: 'Mã thuê bao', allowFiltering: true},
                    {fieldName: 'TEN_TB', headerText: 'Tên thuê bao', allowFiltering: true},
                    {fieldName: 'DIACHI_LD', headerText: 'Địa chỉ lắp đặt', allowFiltering: true},
                    {fieldName: 'SMS', headerText: 'SMS', allowFiltering: true},
                    {fieldName: 'ZALO', headerText: 'Zalo', allowFiltering: true},
                    {fieldName: 'EMAIL', headerText: 'Email', allowFiltering: true},
                     ]"

                     v-bind:dataSource="dsPhieu" 
                     :showFilter="true"
                     @selectedRowChanged="grid_phieu_selected"
                     :totalRecords='dsPhieu.length'
                     :allowPaging="true" 
                     enalblepagingServer='false'></DataGrid>     
                </div>
            </div>
        </div>
        </div>
    </div>
</b-modal>
           