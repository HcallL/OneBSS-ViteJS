<b-modal
  size="lg"
  no-close-on-backdrop
  hide-footer
  hide-header
  hide-header-close
  body-class="modal-body p-0"
  @shown="onShownModal"
  @hidden="onHiddenModal"
  :id="id"
>
  <div class="modal-content popup-box">
    <div class="popup-header">
      <div class="title">
        <span class="icon one-notepad"></span>  Quản lý dây nhảy
      </div>
      <div
        class="close -ap icon-close"
        data-dismiss="modal"
        @click="$bvModal.hide(id)">
      </div>
    </div>

    <div class="list-actions-top">
      <ul class="list">
        <li :class="{'disable-btn': this.isDisableBtnGhiLai}" @click="this.btnGhiLai">
          <a href="javascript:void(0)" class="btn" >
            <span class="icon one-save"></span> Ghi lại
          </a>
        </li>
      </ul>
    </div>
    <div class="popup-body" ref="xxx">
      <div class="box-form tab-content">
        <div class="table-content">
          <table class="table-result table-gachle tree-grid-2" ref="tableCap">
            <tbody>
            <tr class="highlight">
              <td colspan="5" class="fw6">
                <div class="tree-arrow" @click="category.dinhdanh ++"></div> Định danh
              </td>
            </tr>

            <tr v-show="category.dinhdanh %2 ==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20 ">
              </td>
              <td>
                Mã dây nhảy
              </td>
              <td class="padt0 padb0" colspan="2">
                <input type="text" v-model="captd.CAPTD_ID" class="form-control bg-none h24 bor0" disabled='true'>
              </td>

            </tr>

            <tr  v-show="category.dinhdanh %2 ==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20 ">
              </td>
              <td>
                <b>Tên dây nhảy</b>&nbsp;(<span style="color: red;">*</span>)
              </td>
              <td class="padt0 padb0" colspan="2">
                <bss-error-marker :has-error="$v.captd.TEN_CAPTD.$error">
                  <input type="text" v-model="captd.TEN_CAPTD" class="form-control bg-none h24 bor0">
                </bss-error-marker>
              </td>
            </tr>

            <tr  v-show="category.dinhdanh %2 ==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20 ">
              </td>
              <td>
                <b>Ký hiệu</b>&nbsp;(<span style="color: red;">*</span>)
              </td>
              <td class="padt0 padb0" colspan="2">
                <bss-error-marker :has-error="$v.captd.KYHIEU.$error">
                  <input ref="kyhieu" type="text" v-model="captd.KYHIEU" class="form-control bg-none h24 bor0">
                </bss-error-marker>
              </td>
            </tr>

            <tr  v-show="category.dinhdanh %2 ==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20 ">
              </td>
              <td>
                <b>Đối tượng nguồn</b>&nbsp;(<span style="color: red;">*</span>)
              </td>
              <td class="padt0 padb0" colspan="2">
                <bss-error-marker :has-error="$v.captd.DOITUONG_N_ID.$error">
                <input type="text" v-model="captd.DOITUONG_N_ID" class="form-control bg-none h24 bor0" disabled='true' hidden="true">
                <input type="text" v-model="captd.TEN_DOITUONG_N" class="form-control bg-none h24 bor0" disabled='true'>
                </bss-error-marker>
              </td>

            </tr>
            <tr  v-show="category.dinhdanh %2 ==0">
              <td class="tree-first w30 bg-white last">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20 ">
              </td>
              <td>
                <b>Đối tượng đích</b>&nbsp;(<span style="color: red;">*</span>)
              </td>
              <td class="padt0 padb0" colspan="2">
                <bss-error-marker :has-error="$v.captd.DOITUONG_D_ID.$error">
                <input type="text" v-model="captd.DOITUONG_D_ID" class="form-control bg-none h24 bor0" disabled='true' hidden="true">
                <input type="text" v-model="captd.TEN_DOITUONG_D" class="form-control bg-none h24 bor0" disabled='true'>
                </bss-error-marker>
              </td>
            </tr>
            <tr class="highlight">
              <td colspan="5" class="fw6">
                <div class="tree-arrow" @click="category.vitri ++"></div> Vị trí
              </td>
            </tr>

            <tr v-show="category.vitri %2 ==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20 ">
              </td>
              <td>
                <b>Tuyến truyền dẫn</b>&nbsp;(<span style="color: red;">*</span>)
              </td>
              <td class="padt0 padb0" colspan="2">
                <bss-error-marker :has-error="$v.captd.TUYENTD_ID.$error">
                <input type="text" v-model="captd.TUYENTD_ID" class="form-control bg-none h24 bor0" disabled='true' :hidden="true">
                <input type="text" v-model="captd.TUYEN_TD" class="form-control bg-none h24 bor0" disabled='true'>
                </bss-error-marker>
              </td>
            </tr>
            <tr class="highlight">
              <td colspan="5" class="fw6">
                <div class="tree-arrow" @click="category.thuoctinh ++"></div> Thuộc tính
              </td>
            </tr>
            <tr v-show="category.thuoctinh %2 ==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20 ">
                <span class=""></span>
              </td>
              <td class=""><b>Dung lượng</b>&nbsp;(<span style="color: red;">*</span>)
              </td>
              <td class="padt0 padb0" colspan="2">
                <bss-error-marker :has-error="$v.captd.SODOIDAY.$error">
                  <div class="input-number-custom h24">
                    <input ref="SODOIDAY" type="number" v-model="captd.SODOIDAY" class="form-control bg-none bor0">
                  </div>
                </bss-error-marker>
              </td>
            </tr>
            <tr v-show="category.thuoctinh %2 ==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20 ">
                <span class=""></span>
              </td>
              <td class="">Đã sử dụng
              </td>
              <td class="padt0 padb0" colspan="2">
                <div class="input-number-custom h24">
                  <input type="number" v-model="captd.SODOI_SD" class="form-control bg-none bor0" disabled="true">
                </div>

              </td>
            </tr>

            <tr v-show="category.thuoctinh %2 ==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20 ">
                <span class=""></span>
              </td>
              <td class="">Đã hỏng
              </td>
              <td class="padt0 padb0" colspan="2">
                <div class="input-number-custom h24">
                  <input type="number" v-model="captd.SO_DH" class="form-control bg-none bor0" disabled="true">
                </div>
              </td>
            </tr>
            <tr v-show="category.thuoctinh%2==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w201">
                <span class=""></span>
              </td>
              <td>
                <b>Loại dây nhảy</b>&nbsp;(<span style="color: red;">*</span>)
              </td>
              <td class="padt0 padb0" colspan="2">
                <bss-error-marker :has-error="$v.captd.LOAICAP_ID.$error">
                  <div  class="value" ref="LOAI_CAP">
                    <SelectExt v-model="$v.captd.LOAICAP_ID.$model"
                               :settings="{dropdownParent: $refs['LOAI_CAP']}"
                               :dataSource="modalData.LOAI_CAP"
                               dataTextField="LOAI_CAP"
                               dataValueField="LOAICAP_ID"/>
                  </div>
                </bss-error-marker>
              </td>
            </tr>

            <tr class="highlight">
              <td colspan="5" class="fw6">
                <div class="tree-arrow" @click="category.thongtinbosung ++"></div> Thông tin bổ sung
              </td>
            </tr>
            <tr v-show="category.thongtinbosung %2 ==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20 ">
                <span class=""></span>
              </td>
              <td class="">
                <b>Chiều dài (m)</b>&nbsp;(<span style="color: red;">*</span>)
              </td>
              <td class="padt0 padb0" colspan="2">
                <div class="input-number-custom h24">
                  <bss-error-marker :has-error="$v.captd.CHIEUDAI.$error">
                  <input type="number" v-model="captd.CHIEUDAI" class="form-control bg-none bor0">
                  </bss-error-marker>
                </div>
              </td>
            </tr>
            <tr v-show="category.thongtinbosung %2 ==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20">
                <span class=""></span>
              </td>
              <td class="">
                Nơi sản xuất
              </td>
              <td class="padt0 padb0" colspan="2">
                  <div class="select-custom" ref="NOI_SX">
                    <SelectExt
                      v-model.trim="captd.NOISX_ID"
                      :settings="{dropdownParent: $refs['NOI_SX']}"
                      :dataSource="modalData.NOI_SX"
                      dataTextField="NOI_SX"
                      dataValueField="NOISX_ID"/>
                  </div>

              </td>
            </tr>
            <tr v-show="category.thongtinbosung %2 ==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20">
                <span class=""></span>
              </td>
              <td class="">
                Ngày lắp đặt
              </td>
              <td class="padt0 padb0" colspan="2">
                <ejs-datepicker v-if="captd.NGAY_LD" class="form-control bg-none bor0 fw6 text h24" :placeholder="waterMark" :value="dateVal" :format="dateFormat" v-model="captd.NGAY_LD"></ejs-datepicker>
              </td>
            </tr>

            <tr v-show="category.thongtinbosung %2 ==0">
              <td class="tree-first w30 bg-white last">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20">
                <span class=""></span>
              </td>
              <td class="">
                Ngày sử dụng
              </td>
              <td class="padt0 padb0" colspan="2">
                <ejs-datepicker v-if="captd.NGAY_SD"  class="form-control bg-none bor0 fw6 text h24" :placeholder="waterMark" :value="dateVal" :format="dateFormat" v-model="captd.NGAY_SD"></ejs-datepicker>
              </td>
            </tr>

            <tr v-show="category.thongtinbosung%2==0">
              <td class="tree-first w30 bg-white">
                <div class="tree-line"></div>
                <div class="tree-indent"></div>
              </td>
              <td class="w20 ">
              </td>
              <td class="">
                Loại đầu cắm
              </td>
              <td class="padt0 padb0" colspan="2">
                  <div  class="value" ref="KIEU_DC">
                    <SelectExt v-model="captd.KIEUDC_ID"
                               :settings="{dropdownParent: $refs['KIEU_DC']}"
                               :dataSource="modalData.KIEU_DC"
                               dataTextField="KIEU_DC"
                               dataValueField="KIEUDC_ID"/>
                  </div>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</b-modal>
