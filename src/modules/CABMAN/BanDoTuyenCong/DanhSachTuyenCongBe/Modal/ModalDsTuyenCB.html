<b-modal
    :id="modalId"
    size="lg"
    no-close-on-backdrop
    hide-footer
    hide-header
    hide-header-close
    body-class="modal-body p-0">
  <div class="modal-content popup-box">
    <div class="popup-header">
      <div class="title">
        <span class="icon one-notepad"></span> Chọn tuyến cáp/cột/cống-bể
      </div>
      <div
        class="close -ap icon-close"
        data-dismiss="modal"
        @click="$bvModal.hide(modalId)">
      </div>
    </div>
    <div class="list-actions-top">

    </div>
    <div class="popup-body">
      <div class="box-form">
        <div class="legend-title">
          Lọc tuyến theo tổ kỹ thuật quản lý
        </div>
        <div class="row">
          <div class="col-sm-4 col-12">
            <div class="info-row">
              <div class="key w40">TTVT</div>
              <div class="value">
                <div class="select-custom">
                  <select class="form-control" v-model="dataSelected.ttvt" @change="onChangeTTVT()">
                    <option v-for="(item,index) in dsTTVT" :value="item.DONVI_ID">{{item.TEN_DV}}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-4 col-12">
            <div class="info-row">
              <div class="key w70">Tổ quản lý</div>
              <div class="value">
                <div class="select-custom">
                  <select class="form-control" v-model="dataSelected.toql" @change="onChangeToQL()">
                    <option v-for="(item,index) in dsToQL" :value="item.DONVI_ID">{{item.TEN_DV}}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="box-form">
        <div class="legend-title">
          Tìm kiếm
        </div>
        <div class="input-more-button">
          <button class="btn" @click="timKiem()">
            <span class="one-search"></span>
          </button>
          <input type="text" v-model="querys" class="form-control " placeholder="Nhập vào tên, số hiệu hoặc địa chỉ đoạn cống để tìm kiếm">
        </div>

      </div>
      <div class="box-form">
        <div class="legend-title">
          Danh sách tuyến cống bể
        </div>

        <DataGrid v-bind:columns="[
                {fieldName: 'STT', headerText: 'STT', allowFiltering: true},
                {fieldName: 'TUYENCB_ID', headerText: 'Tuyến Id', allowFiltering: true},
                {fieldName: 'MA_TCB', headerText: 'Mã tuyến', allowFiltering: true},
                {fieldName: 'TUYEN_CB', headerText: 'Tên tuyến', allowFiltering: true},
                {fieldName: 'CHIEUDAI', headerText: 'Chiều dài', allowFiltering: true},
                ]"
                  v-bind:dataSource="dsTuyenCong" :showFilter="true" @selectedRowChanged="grid_selectedRowChanged"></DataGrid>
      </div>
      <div class="box-form">
        <div class="group-buttons -bottom tright mart0">
          <button class="btn btn-main" @click="chonTuyen()">
            <span class="nc-icon-glyph ui-1_check-circle-08"></span> Chọn
          </button>
          <button class="btn btn-main"  @click="$bvModal.hide(modalId)">
            <span class="nc-icon-glyph ui-1_circle-remove"></span> Hủy bỏ
          </button>
        </div>
      </div>
    </div>
  </div>
</b-modal>
