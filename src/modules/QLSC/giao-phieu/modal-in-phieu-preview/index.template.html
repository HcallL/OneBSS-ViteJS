<b-modal 
    ref="ref-modal"
    size="xl" 
    no-close-on-backdrop
    hide-footer 
    hide-header 
    hide-header-close 
    body-class="modal-body p-0"
    @shown="onModalShown"
    @hidden="onModalHidden">
    <div class="modal-content popup-box in-phieu-suco-preview">
        <div class="popup-header">
            <div class="title"><span class="icon one-notepad"></span>Điều chỉnh kích thước cột trước khi in</div>
            <div
                class="close -ap icon-close"
                data-dismiss="modal"
                @click="hide">
            </div>
        </div>
        <div class="list-actions-top">
            <ul class="list">
                <li @click="onClickBtnInPhieu">
                    <a href="javascript:void(0)">
                        <span class="icon one-print"></span>In phiếu
                    </a>
                </li>
            </ul>
        </div>
        <div class="popup-body">
            <ejs-grid
                ref="grid-preview"
                class="table-result"
                gridLines='Both'
                :dataSource="dsPhieu"
                :allowGrouping='true'
                :allowResizing='true'
                :groupSettings="groupSettingsGridPhieu">
                <e-columns>
                    <e-column field='PHIEU_ID' :visible="kieuNhomPhieu == 2" headerText='Phiếu số' headerTextAlign='Center' textAlign='Right' width="100"></e-column>
                    <e-column field='TINHTRANG' :visible="kieuNhomPhieu == 1" headerText='Tình trạng' headerTextAlign='Center' width="200"></e-column>
                    <e-column field='DONVI_NHAN' headerText='Đơn vị nhận' headerTextAlign='Center' width="100"></e-column>
                    <e-column field='NGAYGIAO' headerText='Ngày giao' headerTextAlign='Center' textAlign='Right' width="100"></e-column>
                    <e-column field='ND_GIAO' headerText='Nội dung giao' headerTextAlign='Center' width="100"></e-column>
                    <e-column field='KHAN_HIENTHI' headerText='Khẩn' headerTextAlign='Center' width="50"></e-column>
                    <e-column field='CHITIEU_TG' headerText='Chỉ tiêu (giờ)' headerTextAlign='Center' textAlign='Right' width="100"></e-column>
                    <e-column field='CONLAI' headerText='Còn lại' headerTextAlign='Center' textAlign='Right' width="100"></e-column>
                    <e-column field='TRANGTHAI_PH' headerText='Trạng thái phiếu' headerTextAlign='Center' width="100"></e-column>
                    <e-column field='NGAY_TRA' headerText='Ngày trả' headerTextAlign='Center' textAlign='Right' width="100"></e-column>
                    <e-column field='LYDOTRA' headerText='Lý do trả' headerTextAlign='Center' width="100"></e-column>
                    <e-column field='ND_TRA' headerText='Nội dung trả' headerTextAlign='Center' width="100"></e-column>
                    <e-column field='NGAY_TH' headerText='Ngày hoàn thành' headerTextAlign='Center' textAlign='Right' width="100"></e-column>
                    <e-column field='NGUOI_TH' headerText='Người hoàn thành' headerTextAlign='Center' width="100"></e-column>
                    <e-column field='GHICHU_TH' headerText='Ghi chú xử lý' headerTextAlign='Center' width="100"></e-column>
                </e-columns>
            </ejs-grid>
        </div>
    </div>
    <ModalInPhieu ref="ref-modal-in-phieu"></ModalInPhieu>
</b-modal>
