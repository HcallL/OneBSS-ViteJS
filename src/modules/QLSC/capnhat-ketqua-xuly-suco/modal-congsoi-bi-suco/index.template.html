<b-modal 
    :id="modalId" 
    size="xl" 
    no-close-on-backdrop
    hide-footer 
    hide-header 
    hide-header-close 
    body-class="modal-body p-0"
    @shown="onModalShown"
    @hidden="onModalHidden">
    <div class="modal-content popup-box">
        <div class="popup-header">
            <div class="title"><span class="icon one-notepad"></span>Chi tiết cổng sợi bị sự cố</div>
            <div
                class="close -ap icon-close"
                data-dismiss="modal"
                @click="$bvModal.hide(modalId)">
            </div>
        </div>
        <div class="list-actions-top">
            <ul class="list">
                <li @click="onClickBtnLamMoi">
                    <a href="javascript:void(0)">
                        <span class="icon one-reload"></span>Làm mới
                    </a>
                </li>
            </ul>
        </div>
        <div class="popup-body capnhat-ketqua-xuly-suco">
            <div class="row">
                <div class="col-sm-8 col-12">
                    <div class="box-form">
                        <div class="legend-title">
                            Cây thiết bị
                        </div>
                        <div class="tree-plus tree-icon" style="height: 380px;overflow: auto;">
                            <ul v-if="!!thietBi" class="">
                                <li :class="{haschild: !!thietBi.CHILDREN, open: thietBi.EXPAND}" @click="onClickThietBi($event, thietBi)">
                                    <a href="javascript:void(0)" is-root="1">
                                        <div class="check-action -color">
                                            <input type="checkbox" class="check" disabled>
                                            <span class="name">{{thietBi.TEN_TBI}}</span>
                                        </div>
                                    </a>
                                    <ul v-if="!!thietBi.CHILDREN">
                                        <li v-for="child in thietBi.CHILDREN">
                                            <a href="javascript:void(0)">
                                                <div class="check-action -color">
                                                    <input type="checkbox" class="check" :value="child.VITRI" v-model="dsCongSoi">
                                                    <span class="name">{{child.TEN_TBI}}</span>
                                                </div>
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 col-12">
                    <div class="box-form">
                        <div class="legend-title">Danh sách cổng đã chọn
                        </div>
                        <div class="list-tree-normal" style="height: 380px;overflow: auto;">
                            <div v-if="!!thietBi">
                                <a v-for="congSoi in dsCongSoi" href="javascript:void(0)" class="item">{{thietBi.TEN_TBI + '/' + congSoi}}</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</b-modal>
