<div class="main-wrapper">
    <breadcrumb :header="header" />
    <div class="list-actions-top">
        <ul class="list">
            <li @click="btnGhiLai()">
                <a>
                    <span class="icon one-save"></span>Ghi lại
                </a>
            </li>
        </ul>
    </div>
    <div class="page-content">
        <div class="box-form">
            <div class="legend-title">Thông tin Prefix</div>
            <div class="row">
                <div class="col-sm-4 col-12">
                    <div class="info-row">
                        <div class="key w80">Loại số</div>
                        <div class="value">
                            <div class="select-custom">
                                <select2 v-model="params.p_loaiso" :options="params.p_loaiso_options"
                                    @select="onLoaiSoChange($event)" tabindex="1" placeholder="Vui lòng chọn loại số" />

                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w80">Dịch vụ VT</div>
                        <div class="value">
                            <div class="select-custom">
                                <select2 v-model="params.p_dichvuvt" :options="params.p_dichvuvt_options"
                                    @select="onDichVuVTChange($event)" tabindex="2"
                                    placeholder="Vui lòng chọn dịch vụ viễn thông" />
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-sm-4 col-12">
                    <div class="info-row">
                        <div class="key w90">Nhóm số đẹp</div>
                        <div class="value">
                            <div class="select-custom">
                                <select2 v-model="params.p_nhomsodep" :options="params.p_nhomsodep_options"
                                    @select="onNhomSoDepChange($event)" tabindex="3"
                                    placeholder="Vui lòng chọn nhóm số" />
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w90">Kiểu số đẹp</div>
                        <div class="value">
                            <div class="select-custom">
                                <select2 v-model="params.p_kieusodep" :options="params.p_kieusodep_options"
                                    @select="onKieuSoDepChange($event)" tabindex="4"
                                    placeholder="Vui lòng chọn kiểu số đẹp" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 col-12">
                    <div class="info-row">
                        <div class="key w90">Mô tả</div>
                        <div class="value">
                            <textarea name="" class="form-control" style="height: 70px;resize: none;"
                                v-model="params.p_txtMoTa"></textarea>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-sm-8 col-12">
                <div class="box-form">
                    <div class="legend-title">Danh sách Prefix</div>
                    <div class="table-content" style="height: 400px;">
                        <!--  <table class="table-result table-gachle">
                            <gridview class="table-result table-gachle" id="table1" :datalist="listboxNV.list"
                            :headers="listboxNV.header" v-bind:flcol="false" @recordChange="grdNVChanged"
                            v-bind:checkheader="false"></gridview>
                        </table> -->
                        <table class="table-result table-gachle">
                            <DataGrid v-bind:columns="[
                            {fieldName: 'prefix', headerText: 'PREFIX', allowFiltering: true, allowSorting: false,  textAlign: 'right'},
                            {fieldName: 'suffix', headerText: 'SUFFIX', allowFiltering: true, allowSorting: false,  textAlign: 'right'},
                            {fieldName: 'length', headerText: 'Độ dài', allowFiltering: true, allowSorting: false,  textAlign: 'right'},
                            {fieldName: 'ten_ls', headerText: 'Loại số', allowFiltering: true, allowSorting: false, textAlign: 'left'},
                            {fieldName: 'tenchuquan', headerText: 'Tổng đài', allowFiltering: true, allowSorting: false,  textAlign: 'left'},
                            {fieldName: 'ghichu', headerText: 'Ghi chú', allowFiltering: true, allowSorting: false,  textAlign: 'left'},]" 
                            v-bind:dataSource="ds_Prefix_table" :showFilter="true"
                                 @selectedRowChanged="onSelectionChanged" :showColumnCheckbox="false"
                                :enable-paging-server="false" :allowPaging="true" :defaultColumnCheckboxChecked="false"
                                :hover-state-enabled="true" :enabledSelectFirstRow="true">
                            </DataGrid>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-sm-4 col-12">
                <div class="box-form">
                    <div class="legend-title">Danh sách số</div>
                    <div class="table-content" style="height: 400px;">
                         <table class="table-result table-gachle">
                            <DataGrid ref="tbThongTinTimKiem" v-bind:columns="[
                            {fieldName: 'somay', headerText: 'Số máy', allowFiltering: true, allowSorting: false, textAlign: 'right'},
                            {fieldName: 'kieu_so', headerText: 'Kiểu số đẹp', allowFiltering: true, allowSorting: false, textAlign: 'left'},
                        ]" v-bind:dataSource="ds_so_table" :showFilter="true" :showColumnCheckbox="true"  :enable-paging-server="false" :allowPaging="true"
                         @selectedItemsChanged="onDataCheckeDSSo" dataKeyField="somay" :enabledSelectFirstRow="false">
                      </DataGrid>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <footer class="footer">
        VNPT-IT &copy; 2021
    </footer>
    <script type="application/javascript" src="../vendor/jquery/split.js"></script>
</div>