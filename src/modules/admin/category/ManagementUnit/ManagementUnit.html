<div class="main-wrapper">
    <div class="breadcrumb-top">
        <div class="main-title">Đơn vị quản lý</div>
        <ul class="breadcrumb">
            <li class="breadcrumb-item"><a href="#"><span class="nc-icon-outline ui-1_home-simple"></span> Trang chủ
                </a></li>
            <li class="breadcrumb-item"><a href="#">Lập hợp đồng</a></li>
            <li class="breadcrumb-item active">Lắp đặt mới</li>
        </ul>
    </div>
    <div class="list-actions-top">
        <ul class="list">
           
            <li>
                <a href="#" @click.prevent="cap_nhat">
                    <span class="icon one-save"></span>Ghi lại
                </a>
            </li>
            <!-- <li>
               <button @click="data_test">test</button>
            </li> -->

        </ul>
    </div>
    <div class="page-content">
        <div class="row">
            <div class="col-sm-4 col-12">
                <div class="box-form">
                    <div class="legend-title">Thông tin đơn vị QL</div>
                    <div class="info-row">
                        <div class="key w90">Đơn vị quản lý</div>
                        <div class="value">
                            <div class="select-custom">
                                <!-- <select name="loai_hd"  class="form-control" v-model="listbox.don_vi_ql.value" v-on:change="load_ds_donvi" >
                                    <option v-for="tk in listbox.don_vi_ql.list" v-bind:value="tk.donvi_id">{{ tk.ten_dv }}</option>
                                </select> -->
                                <select2 :options="listbox.don_vi_ql.list" v-model="listbox.don_vi_ql.value" v-on:change="load_ds_donvi" >
                                    <option disabled value="0">Select one</option>
                                </select2>
                            </div>
                        </div>
                    </div>
                    <div class="info-row">
                        <div class="key w90">Loại đơn vị</div>
                        <div class="value">
                            <div class="select-custom">
                                <!-- <select name="loai_hd"  class="form-control" v-model="listbox.loai_don_vi_ql.value" v-on:change="load_ds_donvi();load_ds_donvi_dagan();load_ds_donvi_chuagan()">
                                    <option v-for="tk in listbox.loai_don_vi_ql.list" v-bind:value="tk.loaidv_id">{{ tk.ten_loaidv }}</option>
                                </select> -->
                                <select2 :options="listbox.loai_don_vi_ql.list" v-model="listbox.loai_don_vi_ql.value" v-on:change="load_ds_donvi" >
                                    <option disabled value="0">Select one</option>
                                </select2>
                            </div>
                        </div>
                    </div>
                    <!-- <gridview id="table1" :datalist="listbox.ds_donvi.list" :headers="listbox.ds_donvi.header" @recordChange="grdChanged"
                    flcol="false" v-bind:checkheader="false" lastcoltemplate="0"></gridview> -->
                    <DataGrid
                            v-bind:columns="listbox.ds_donvi.header"                    
                            v-bind:dataSource="listbox.ds_donvi.list"
                            :enable-paging-server="false"                                        
                            :allowPaging="true"
                            :showFilter="true"  @selectedItemsChanged="grdChanged"> 
                    </DataGrid> 
       
                </div>
            </div>
            <div class="col-sm-8 col-12">
                <div class="box-form">
                    <div class="legend-title">Thông tin đơn vị con</div>
                    <div class="row">
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w90">Đơn vị quản lý</div>
                                <div class="value">
                                    <div class="select-custom">
                                        <!-- <select name="loai_hd"  class="form-control" v-model="listbox.don_vi_ql_con.value" v-on:change="load_ds_donvi_dagan();load_ds_donvi_chuagan()" >
                                            <option v-for="tk in listbox.don_vi_ql_con.list" v-bind:value="tk.donvi_id">{{ tk.ten_dv }}</option>
                                        </select> -->
                                         <select2 :options="listbox.don_vi_ql_con.list" v-model="listbox.don_vi_ql_con.value"   v-on:change="load_ds_donvi_dagan();load_ds_donvi_chuagan()" >
                                                <option disabled value="0">Select one</option>
                                            </select2>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-12">
                            <div class="info-row">
                                <div class="key w90">Loại đơn vị</div>
                                <div class="value">
                                    <div class="select-custom">
                                        <!-- <select name="loai_hd"  class="form-control" v-model="listbox.loai_don_vi_con.value" v-on:change="load_ds_donvi_dagan();load_ds_donvi_chuagan()">
                                            <option v-for="tk in listbox.loai_don_vi_con.list" v-bind:value="tk.loaidv_id">{{ tk.ten_loaidv }}</option>
                                        </select> -->
                                         <select2 :options="listbox.loai_don_vi_con.list" v-model="listbox.loai_don_vi_con.value"  v-on:change="load_ds_donvi_dagan();load_ds_donvi_chuagan()" >
                                                <option disabled value="0">Select one</option>
                                            </select2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box-move-select-table">
                    <div class="box-col box-form">
                        <div class="legend-title">
                            <div class="pull-left">
                                Đơn vị đã gán
                            </div>
                            <div class="pull-right">
                                <span class="red">Tổng số : {{this.tong_so_da_gan}}</span>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <!-- <gridview id="table1" :datalist="listbox.ds_donvi_dagan.list" :headers="listbox.ds_donvi_dagan.header" @recordChange="grd_dagan_Changed"
                        flcol="false" v-bind:checkheader="false" lastcoltemplate="0"></gridview> -->
                        <DataGrid
                            v-bind:columns="listbox.ds_donvi_dagan.header"                    
                            v-bind:dataSource="listbox.ds_donvi_dagan.list"
                            :enable-paging-server="false"                                        
                            :allowPaging="true"   :showColumnCheckbox="true"  :enabledSelectFirstRow="false"
                            :showFilter="true"  @selectedItemsChanged="grd_dagan_Changed">  
                        </DataGrid> 
                    </div>
                    <div class="actions">
                        <button class="btn" @click="btn_chuyen_1_sang_phai">
                            <span class="fa fa-angle-right"></span>
                        </button>
                        <button class="btn" @click="btn_chuyen_tat_sang_phai">
                            <span class="fa fa-angle-double-right"></span>
                        </button>
                        <button class="btn" @click="btn_chuyen_1_sang_trai">
                            <span class="fa fa-angle-left"></span>
                        </button>
                        <button class="btn" @click="btn_chuyen_tat_sang_trai">
                            <span class="fa fa-angle-double-left"></span>
                        </button>
                    </div>
                    <div class="box-col box-form">
                        <div class="legend-title">
                            <div class="pull-left">
                                Đơn vị chưa gán
                            </div>
                            <div class="pull-right">
                                <span class="red">Tổng số : {{this.tong_so_chua_gan}}</span>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <!-- <gridview id="table1" :datalist="listbox.ds_donvi_chuagan.list" :headers="listbox.ds_donvi_chuagan.header"  @recordChange="grd_chuagan_Changed"
                        flcol="false" v-bind:checkheader="false" lastcoltemplate="0"></gridview> -->
                        <DataGrid
                        v-bind:columns="listbox.ds_donvi_chuagan.header"                    
                        v-bind:dataSource="listbox.ds_donvi_chuagan.list"
                        :enable-paging-server="false"                                        
                        :allowPaging="true"   :showColumnCheckbox="true"  :enabledSelectFirstRow="false"
                        :showFilter="true"  @selectedItemsChanged="grd_chuagan_Changed"> 
                    </DataGrid> 
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    <footer class="footer">
        VNPT-IT &copy; 2021
    </footer>
</div>