<div class="main-wrapper">
    <!-- <div class="breadcrumb-top">
        <div class="main-title">Bảng giá hợp đồng</div>
        <ul class="breadcrumb">
            <li class="breadcrumb-item"><a href="#"><span class="nc-icon-outline ui-1_home-simple"></span> Trang chủ </a></li>
            <li class="breadcrumb-item"><a href="#">Lập hợp đồng</a></li>
            <li class="breadcrumb-item active">Lắp đặt mới</li>
        </ul>
    </div> -->
    <breadcrumb :header="header" />
    <div class="list-actions-top">
        <ul class="list">
            <li>
                <a href="#" @click.prevent="tsbtnNhapMoi_Click" :class="{disabled: !tsbtnNhapMoi.Enabled}">
                    <span class="icon one-file-plus"></span>Nhập mới
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="CapNhat" :class="{disabled: !tsbtnGhiLai.Enabled}">
                    <span class="icon one-save"></span>Ghi lại
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="tsbtnHuyBo_Click" :class="{disabled: !tsbtnHuyBo.Enabled}">
                    <span class="icon nc-icon-glyph ui-1_circle-remove"></span>Huỷ
                </a>
            </li>
            
            <li>
                <a href="#" @click.prevent="tsbtnXoa_Click" :class="{disabled: !tsbtnXoa.Enabled}">
                    <span class="icon one-trash"></span>Xoá
                </a>
            </li>
            <li>
                <a href="#" @click.prevent="tsbtnChiTietMGW_Click" :class="{disabled: !tsbtnChiTietMGW.Enabled}">
                    <span class="icon one-reload1"></span>Cập nhận CTMGW
                </a>
            </li>
            
            
        </ul>
        
    </div>
    <div class="page-content">
        <div class="grid-stack-box">
            <div class="box-col" id="boxLeft" style="width:50%">
                <div class="grid-stack-ver" style="height: 1180px;">
                    <div class="box-form marb0 ovauto" id="boxTop">
                        <div class="legend-title">
                            <div class="pull-left">
                                <span v-b-toggle.collapse-ttbg class="icon fa fa-angle-up"></span>
                                <span v-b-toggle.collapse-ttbg class="icon fa fa-angle-down"></span> Thông tin bảng giá
                            </div>
                            <div class="clearfix"></div>  
                        </div>
                        <b-collapse visible id="collapse-ttbg">
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w100">Dịch vụ <span class="red">(*)</span></div>
                                        <div class="value">
                                            <div class="select-custom">
                                                <select2 :options="listbox.ds_dvvt.list" v-model="listbox.ds_dvvt.value"  v-on:change="cboDichVuVT_Change">
                                                    <option disabled value="0">Select one</option>
                                                </select2>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w90">Loại hình <span class="red">(*)</span></div>
                                        <div class="value">
                                            <div class="select-custom">
                                                <select2 :options="listbox.ds_loaihinh.list" v-model="listbox.ds_loaihinh.value" v-on:change="cboLoaiHinh_Change">
                                                    <option disabled value="0">Select one</option>
                                                </select2>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w100">Khoản mục <span class="red">(*)</span></div>
                                        <div class="value">
                                            <div class="select-custom">
                                                <select2 :options="listbox.ds_khoanmuc.list" v-model="listbox.ds_khoanmuc.value" v-on:change="cboKhoanMuc_Change"  >
                                                    <option disabled value="0">Select one</option>
                                                </select2>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w90">Khu vực <span class="red">(*)</span></div>
                                        <div class="value">
                                            <div class="select-custom">
                                                <select2 :options="listbox.ds_khuvuc.list" v-model="listbox.ds_khuvuc.value" >
                                                    <option disabled value="0">Select one</option>
                                                </select2>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w100">Tên bảng giá <span class="red">(*)</span></div>
                                        <div class="value">
                                            <input type="text" ref="txt_ten_bg" class="form-control" v-model="banggia_info.ten_bg">
                                        </div>
                                    </div>
                                    
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w90">Tỷ lệ VAT <span class="red">(*)</span></div>
                                        <div class="value">
                                            <input type="text" class="form-control" v-model="banggia_info.tyle_vat" v-on:change="tinh_vat">
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w100">Tiền HĐ <span class="red">(*)</span></div>
                                        <div class="value">
                                            <input type="text" class="form-control tright" value="0" v-model="banggia_info.tien"  v-on:change="tinh_vat">
                                        </div>
                                    </div>
                            
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w90">Vat HĐ <span class="red">(*)</span></div>
                                        <div class="value">
                                            <input type="text" class="form-control tright" value="0" v-model="banggia_info.vat">
                                        </div>
                                    </div>
                            
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w100">Tiền cài đặt <span class="red">(*)</span></div>
                                        <div class="value">
                                            <input type="text" class="form-control tright" value="0" v-model="banggia_info.tien_cd" v-on:change="tinh_vat">
                                        </div>
                                    </div>
                            
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w90">Vat CĐ <span class="red">(*)</span></div>
                                        <div class="value">
                                            <input type="text" class="form-control tright" value="0" v-model="banggia_info.vat_cd">
                                        </div>
                                    </div>
                            
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w100">Từ ngày <span class="red">(*)</span></div>
                                        <div class="value">
                                            <div class="input-icon-right">
                                                <flat-pickr type="text" class="form-control" :config="dateconfig" v-model="banggia_info.ngay_bd"/>
                                                <span class="icon one-calendar"></span>
                                            </div>
                                        </div>
                                    </div>
                            
                                </div>
                                <div class="col-sm-6 col-12">
                                    <div class="info-row">
                                        <div class="key w90">Đến ngày <span class="red">(*)</span></div>
                                        <div class="value">
                                            <div class="input-icon-right">
                                                <flat-pickr type="text" class="form-control" :config="dateconfig" v-model="banggia_info.ngay_kt"/>
                                                <span class="icon one-calendar"></span>
                                            </div>
                                        </div>
                                    </div>
                            
                                </div>
                            </div>
                        </b-collapse>
                        
                    </div>
                    <div class="box-form marb0" id="boxBottom">
                        <div class="legend-title">
                            <span v-b-toggle.collapse-dsbg class="icon fa fa-angle-up"></span>
                            <span v-b-toggle.collapse-dsbg class="icon fa fa-angle-down"></span> Danh sách bảng giá
                        </div>
                        <b-collapse visible id="collapse-dsbg">
                            <DataGrid
                            v-bind:columns="listbox.ds_banggia.headers"                    
                            v-bind:dataSource="listbox.ds_banggia.list"
                            :enable-paging-server="false"                                        
                            :allowPaging="true"
                            :showFilter="true"  @selectedItemsChanged="dgvDsBanggiaChange"> 
                        </DataGrid> 
                        </b-collapse>
                        
                    </div>
                </div>
            </div>
            <div class="box-col" id="boxRight" style="width:50%">
                <div class="grid-stack-ver" style="height: 1200px;">
                    <div class="box-form marb0" id="boxright2">
                        <div class="legend-title">
                            <span v-b-toggle.collapse-dslh class="icon fa fa-angle-up"></span>
                            <span v-b-toggle.collapse-dslh class="icon fa fa-angle-down"></span>Loại hình, tốc độ, mức cước
                        </div>
                        <b-collapse visible id="collapse-dslh">
                        <div class="box-move-select-table" style="height: calc(100% - 40px);">
                            <div class="box-col fullh">
                                <div class="table-content" style="height: 100%;">
                                        <DataGrid
                                        v-bind:columns="listbox.ds_loaihinh_dagan.headers"                    
                                        v-bind:dataSource="listbox.ds_loaihinh_dagan.list"
                                        :enable-paging-server="false" :showColumnCheckbox="true" :enabledSelectFirstRow="false"                                      
                                        ref = "DsLoaihinhDagan" :allowPaging="true"
                                        :showFilter="true"> 
                                        </DataGrid> 
                                </div>
                            </div>
                            <div class="actions">
                                <button class="btn" @click="btnNextLoaiHinh_Click">
                                    <span class="-ap icon-chevron-thin-right"></span>
                                </button>
                                <button class="btn"  @click="btnPreviousLoaiHinh_Click">
                                    <span class="-ap icon-chevron-thin-left"></span>
                                </button>
                            </div>
                            <div class="box-col fullh">
                                <div class="table-content" style="height: 100%;">
                                    <DataGrid
                                        v-bind:columns="listbox.ds_loaihinh_chuagan.headers"                    
                                        v-bind:dataSource="listbox.ds_loaihinh_chuagan.list"
                                        :enable-paging-server="false"  :showColumnCheckbox="true" :enabledSelectFirstRow="false"                                     
                                        ref = "DsLoaihinhChuagan" :allowPaging="true"
                                        :showFilter="true"
                                        > 
                                    </DataGrid> 
                                </div>
                            </div>
                        </div>
                        </b-collapse>
                    </div>
                    <div class="box-form marb0" id="boxright3">
                        <div class="legend-title">
                            <span v-b-toggle.collapse-dskld class="icon fa fa-angle-up"></span>
	                        <span v-b-toggle.collapse-dskld class="icon fa fa-angle-down"></span>Kiểu lắp đặt
                        </div>
                        <b-collapse visible id="collapse-dskld">
                            <div class="box-move-select-table" style="height: calc(100% - 40px);">
                                <div class="box-col fullh">
                                    <div class="table-content" style="height: 100%;">
                                        <DataGrid
                                            v-bind:columns="listbox.ds_kieu_ld_dagan.headers"                    
                                            v-bind:dataSource="listbox.ds_kieu_ld_dagan.list"
                                            :enable-paging-server="false" :showColumnCheckbox="true" :enabledSelectFirstRow="false"                                      
                                            ref = "DsKieuLDDagan" :allowPaging="true"
                                            :showFilter="true"
                                            > 
                                        </DataGrid> 
                                    </div>
                                </div>
                                <div class="actions">
                                    <button class="btn">
                                        <span class="-ap icon-chevron-thin-right"  @click="btnNextKieuLD_Click"></span>
                                    </button>
                                    <button class="btn">
                                        <span class="-ap icon-chevron-thin-left"  @click="btnPreviousKieuLD_Click"></span>
                                    </button>
                                </div>
                                <div class="box-col fullh">
                                    <div class="table-content" style="height: 100%;">
                                        <DataGrid
                                            v-bind:columns="listbox.ds_kieu_ld_chuagan.headers"                    
                                            v-bind:dataSource="listbox.ds_kieu_ld_chuagan.list"
                                            :enable-paging-server="false" :showColumnCheckbox="true"  :enabledSelectFirstRow="false"                                     
                                            ref = "DsKieuLDChuagan" :allowPaging="true"
                                            :showFilter="true"
                                            > 
                                        </DataGrid> 
                                    </div>
                                </div>
                            </div>
                        </b-collapse>
                    </div>
                    <div class="box-form marb0" id="boxright4">
                        <div class="legend-title">
                            <span v-b-toggle.collapse-dttb class="icon fa fa-angle-up"></span>
	                        <span v-b-toggle.collapse-dttb class="icon fa fa-angle-down"></span>Đối tượng thuê bao
                        </div>
                        <b-collapse visible id="collapse-dttb">
                            <div class="box-move-select-table" style="height: calc(100% - 40px);">
                                <div class="box-col fullh">
                                    <div class="table-content" style="height: 100%;">
                                        <DataGrid
                                            v-bind:columns="listbox.ds_doituongtb_dagan.headers"                    
                                            v-bind:dataSource="listbox.ds_doituongtb_dagan.list"
                                            :enable-paging-server="false"  :showColumnCheckbox="true"  :enabledSelectFirstRow="false"                                    
                                            ref = "DsDoiTuongTBDagan" :allowPaging="true"
                                            :showFilter="true"
                                            > 
                                        </DataGrid> 
                                    </div>
                                </div>
                                <div class="actions">
                                    <button class="btn">
                                        <span class="-ap icon-chevron-thin-right"  @click="btnNextDoiTuongTB_Click"></span>
                                    </button>
                                    <button class="btn">
                                        <span class="-ap icon-chevron-thin-left"  @click="btnPreviousDoiTuongTB_Click"></span>
                                    </button>
                                </div>
                                <div class="box-col fullh">
                                    <div class="table-content" style="height: 100%;">
                                        <DataGrid
                                            v-bind:columns="listbox.ds_doituongtb_chuagan.headers"                    
                                            v-bind:dataSource="listbox.ds_doituongtb_chuagan.list"
                                            :enable-paging-server="false"  :showColumnCheckbox="true" :enabledSelectFirstRow="false"                                    
                                            ref = "DsDoiTuongTBChuagan" :allowPaging="true"
                                            :showFilter="true"
                                            > 
                                        </DataGrid> 
                                    </div>
                                </div>
                            </div>
                        </b-collapse>
                    </div>
                    <div class="box-form marb0" id="boxright5">
                        <div class="legend-title">
                            <span v-b-toggle.collapse-dstb class="icon fa fa-angle-up"></span>
	                        <span v-b-toggle.collapse-dstb class="icon fa fa-angle-down"></span>Trang bị
                        </div>
                        <b-collapse visible id="collapse-dstb">
                            <div class="box-move-select-table" style="height: calc(100% - 40px);">
                                <div class="box-col fullh">
                                    <div class="table-content" style="height: 100%;">
                                        <DataGrid
                                            v-bind:columns="listbox.ds_trangbi_dagan.headers"                    
                                            v-bind:dataSource="listbox.ds_trangbi_dagan.list"
                                            :enable-paging-server="false"  :showColumnCheckbox="true"  :enabledSelectFirstRow="false"                                    
                                            ref = "DsTrangBiDagan" :allowPaging="true"
                                            :showFilter="true"
                                            > 
                                        </DataGrid> 
                                    </div>
                                </div>
                                <div class="actions">
                                    <button class="btn">
                                        <span class="-ap icon-chevron-thin-right"  @click="btnNextTrangBi_Click"></span>
                                    </button>
                                    <button class="btn">
                                        <span class="-ap icon-chevron-thin-left"  @click="btnPreviousTrangBi_Click"></span>
                                    </button>
                                </div>
                                <div class="box-col fullh">
                                    <div class="table-content" style="height: 100%;">
                                        <DataGrid
                                            v-bind:columns="listbox.ds_trangbi_chuagan.headers"                    
                                            v-bind:dataSource="listbox.ds_trangbi_chuagan.list"
                                            :enable-paging-server="false" :showColumnCheckbox="true" :enabledSelectFirstRow="false"                                      
                                            ref = "DsTrangBiChuagan":allowPaging="true"
                                            :showFilter="true"
                                            > 
                                        </DataGrid> 
                                    </div>
                                </div>
                            </div>
                        </b-collapse>
                        
                    </div>
                    <div class="box-form marb0" id="boxright6">
                        <div class="legend-title">
                            <span v-b-toggle.collapse-ltb class="icon fa fa-angle-up"></span>
	                        <span v-b-toggle.collapse-ltb class="icon fa fa-angle-down"></span>Loại thiết bị
                        </div>
                        <b-collapse visible id="collapse-ltb">
                            <div class="box-move-select-table" style="height: calc(100% - 40px);">
                                <div class="box-col fullh">
                                    <div class="table-content" style="height: 100%;">
                                        <DataGrid
                                            v-bind:columns="listbox.ds_loaitb_dagan.headers"                    
                                            v-bind:dataSource="listbox.ds_loaitb_dagan.list"
                                            :enable-paging-server="false" :showColumnCheckbox="true"  :enabledSelectFirstRow="false"                                     
                                            ref = "DsLoaiTBDagan" :allowPaging="true"
                                            :showFilter="true"
                                            > 
                                        </DataGrid> 
                                    </div>
                                </div>
                                <div class="actions">
                                    <button class="btn">
                                        <span class="-ap icon-chevron-thin-right"  @click="btnNextLoaiTbi_Click"></span>
                                    </button>
                                    <button class="btn">
                                        <span class="-ap icon-chevron-thin-left"  @click="btnPreviousLoaiTbi_Click"></span>
                                    </button>
                                </div>
                                <div class="box-col fullh">
                                    <div class="table-content" style="height: 100%;">
                                        <DataGrid
                                            v-bind:columns="listbox.ds_loaitb_chuagan.headers"                    
                                            v-bind:dataSource="listbox.ds_loaitb_chuagan.list"
                                            :enable-paging-server="false"  :showColumnCheckbox="true"  :enabledSelectFirstRow="false"                                    
                                            ref = "DsLoaiTBChuagan" :allowPaging="true"
                                            :showFilter="true"
                                            > 
                                        </DataGrid> 
                                    </div>
                                </div>
                            </div>
                        </b-collapse>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <BangGiaMegawan ref="popupBangGiaMegawan" />
    <BGDoiTDMgWan ref = "popupBGDoiTDMgWan"/>
    <footer class="footer">
        VNPT-IT &copy; 2021
    </footer>
   
</div>