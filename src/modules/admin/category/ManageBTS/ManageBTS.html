<div class="modal-content popup-box">
    <div class="popup-header d-flex ">
        <div class="flex-grow-1 ">
            Cập nhật thông tin BTS, ENODEB, NODEB {{ Text.lblTrangThai }}      
        </div>
        <div class="close -ap icon-close" data-dismiss="modal" @click='Close()' ></div>
    </div>
    <div class="popup-body">
        <div class="row">
            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Loại thiết bị</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtPhanLoai">
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Trạng thái HĐ</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtTrangThaiHoatDong">
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Ngày hoạt động</span>
                    </div>
                    <div class="value">
                        <div class="input-icon-right">
                            <ejs-datepicker 
                                v-model="params.dtpNgayHoatDong"
                                :format="'dd/MM/y'"
                                >
                            </ejs-datepicker>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Ngày đăng ký</span>
                    </div>
                    <div class="value">
                        <div class="input-icon-right">
                            <ejs-datepicker 
                                v-model="params.dtpNgayDangKy"
                                :format="'dd/MM/y'">
                            </ejs-datepicker>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Mã node</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtMaNode">
                    </div>
                </div>
            </div>
            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">BTS ID</span>
                    </div>
                    <div class="value">
                        <input type="number" class="form-control" v-model="params.txtBTSID">
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Ngày kiểm duyệt</span>
                    </div>
                    <div class="value">
                        <div class="input-icon-right">
                            <ejs-datepicker 
                                
                                v-model="params.dtpNgayKiemDuyet"
                                :format="'dd/MM/y'">
                            </ejs-datepicker>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Ngày cấp phép</span>
                    </div>
                    <div class="value">
                        <div class="input-icon-right">
                            <ejs-datepicker 
                                
                                v-model="params.dtpNgayCapPhep"
                                :format="'dd/MM/y'">
                            </ejs-datepicker>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Tên quản lý</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtTen_QL">
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Người quản lý</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtNhanVien">
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Số ĐT</span>
                    </div>
                    <div class="value">
                        <input type="number" class="form-control" v-model="params.txtSoDT">
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Tên trên hệ thống</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtTen_ThietBi_HeThong">
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Mã CSHT</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtMaCSHT">
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Băng tần</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtBangTan">
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">UPE</span>
                    </div>
                    <div class="value">
                        <div class="select-custom">
                            <ejs-dropdownlist
                                class="form-control"
                                ref="cboUPE"
                                locale='vi'
                                v-model="params.UPE"
                                :dataSource='cboUPE' 
                                :fields="{value:'DSLAM_ID', text: 'TENDSLAM'}"
                                :allowFiltering="true"
                                >
                            </ejs-dropdownlist>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Hãng SX</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtHangSX">
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Loại trạm</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtLoaiTram">
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">SwitchL2</span>
                    </div>
                    <div class="value">
                        <div class="select-custom">
                            <ejs-dropdownlist
                                class="form-control"
                                ref="cboSWL2"
                                locale='vi'
                                v-model="params.SWL2"
                                :dataSource='cboSWL2' 
                                :fields="{value:'DSLAM_ID', text: 'TENDSLAM'}"
                                :allowFiltering="true"
                                >
                            </ejs-dropdownlist>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Loại thiết bị</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtLoaiThietBi">
                    </div>
                </div>
            </div>

            <div class="col-sm-3 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Loại trạm BSDĐ/CLĐC</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtLoaiTramPSBD">
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Cấu hình</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtCauHinh">
                    </div>
                </div>
            </div>

            <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Hoàn cảnh ra đời</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtHoanCanhRaDoi">
                    </div>
                </div>
            </div>            
        </div>

        <div class="row">
            <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Mã node cha</span>
                    </div>
                    <div class="value">
                        <input type="text" class="form-control" v-model="params.txtMaNodeCha">
                    </div>
                </div>
            </div>

            <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Thông tin NVQL</span>
                    </div>
                    <div class="value">
                        <div class="select-custom">
                            <ejs-dropdownlist
                                class="form-control"
                                ref="txtNVQL"
                                locale='vi'
                                v-model="params.NVQL"
                                :dataSource='cboNVQL' 
                                :fields="{value:'nhanvien_id', text: 'ten_nv'}"
                                :allowFiltering="true"
                                >
                            </ejs-dropdownlist>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-sm-12 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Địa chỉ</span>
                    </div>
                    <div class="value">
                        <div class="input-more-button -left">
                            <button class="btn" @click="clickChonDiaChi()">
                                <span class="-ap icon-more_horiz"></span>
                            </button>
                            <input ref="txtDCDN_TM" type="text" v-model="params.txtDiaChi" class="form-control">
                        </div>
                    </div>
                </div>
            </div>
        </div>        
        <div class="row">
            <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Khu vực</span>
                    </div>
                    <div class="value">
                        <div class="select-custom">
                            <ejs-dropdownlist
                                class="form-control"
                                ref="txtKhuVuc"
                                locale='vi'
                                v-model="params.txtKhuVuc"
                                :dataSource='cboKV' 
                                :fields="{value:'khuvuc_id', text: 'ten_kv'}"
                                @change="changeKV($event,1)"
                                :allowFiltering="true"
                                >
                            </ejs-dropdownlist>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Lưu trú</span>
                    </div>
                    <div class="value">
                        <div class="select-custom">
                            <ejs-dropdownlist
                                class="form-control"
                                ref="txtLuutru"
                                locale='vi'
                                v-model="params.txtLuuTru"
                                :dataSource='cboLuutru' 
                                :fields="{value:'id', text: 'name'}"
                                :allowFiltering="true"
                                >
                            </ejs-dropdownlist>
                        </div>
                    </div>
                </div>
            </div>            
        </div>
        <div class="row">
            <div class="col-sm-12 col-12">
                <div class="info-row">
                    <div class="key w140">
                        <span class="name">Vùng phủ</span>
                    </div>
                    <div class="value">
                        <div class="input-more-button -left">
                            <button class="btn" @click="clickChonVungPhu()">
                                <span class="-ap icon-more_horiz"></span>
                            </button>
                            <input ref="txtVungPhu" type="text" v-model="params.txtVungPhu" class="form-control">
                        </div>
                    </div>
                </div>
            </div>            
        </div>
        <div class="row">
            <div class="col-sm-12 col-12 ">
                <div class="group-buttons">
                <button class="pull-right btn btn-primary" @click="Close">Đóng</button>
                <button class="pull-right btn btn-primary" @click="btnCapNhat_Click()">Cập nhật</button>
            </div>
            </div>
        </div>        
    </div> 
    <DiaChiKhachHangModal ref="diaChiModal" :data="dataDiaChi" @accept="onAcceptDiaChi"/>
    <!-- <ejs-dialog
                :visible=false
                ref="popup_VungPhuModal"
                :animationSettings="{ effect: 'Zoom' }"
                :showCloseIcon=false 
                :enableResize=true
                :allowDragging=true
                width='80%'
                :isModal='true'
                :cssClass="'popup-box'"
                zIndex=1000
                > -->
                
                <!-- <b-modal
                    size="xl"    
                    no-close-on-backdrop
                    hide-footer
                    hide-header
                    hide-header-close
                    ref="popup_frmCapNhatBTS"
                    body-class="modal-body p-0"> -->
                        <VungPhuModal ref="VungPhuModal" :data="dataVungPhu" @accept="onAcceptVungPhu"/>
                <!-- </b-modal> -->
            <!-- </ejs-dialog>     -->
</div>
