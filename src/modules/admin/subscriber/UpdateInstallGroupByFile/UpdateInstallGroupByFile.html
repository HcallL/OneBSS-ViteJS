<div class="main-wrapper">
    <div class="breadcrumb-top">
        <div class="main-title">Cập nhật tổ thi công theo File</div>
        <ul class="breadcrumb">
            <li class="breadcrumb-item"><a href="#"><span class="nc-icon-outline ui-1_home-simple"></span> Trang chủ </a></li>
            <li class="breadcrumb-item"><a href="#">Lập hợp đồng</a></li>
            <li class="breadcrumb-item active">Lắp đặt mới</li>
        </ul>
    </div>
    <div class="list-actions-top">
        <ul class="list">
            <li @click="capNhat()">
                <a>
                    <span class="icon one-save"></span>Ghi lại
                </a>
            </li>
            <li @click="xuatFile()">
                <a>
                    <span class="icon one-download"></span>Xuất File
                </a>
            </li>
            
        </ul>
        
    </div>
    <div class="page-content">
        <div class="info-row marb10">
            <div class="key w20 padt0">
                <div class="one-alert text-warning f20"></div>
            </div>
            <div class="value text-main">
                File excel gồm 3 trường: MA_TB, DONVI_ID, KIEUDV_ID <br/>
                KIEUDV_ID = 1 (Đơn vị đầu), 2 (Đơn vị cuối). Áp dụng cho dịch vụTruyền số liệu (Các dịch vụ khác mặc định 2)
            </div>
        </div>
        <div class="info-row">
            <div class="key w80">Đường dẫn</div>
            <div class="value">
                <div class="input-more-button">
                    <button class="btn" @click="chooseFile">
                        <span class="-ap icon-more_horiz"></span>
                    </button>
                    <input id="file" type="file" @change="onChangeFile($event)" accept=".xls, .xlsx" style="display:none" class="form-control ">
                    <input type="text" v-model="file_full_path" class="form-control" readonly>
                </div>
            </div>
        </div>
        <div class="box-form">
            <div class="legend-title">Danh sách cần cập nhật</div>
            <div class="table-content">
                <!-- <k-table :columns="columns" :dataSources="dataSources" :allowFilter="true"/> -->
                <DataGrid  class="table-result table-gachle" 
                    v-bind:columns="[
                    {fieldName: 'MA_TT', headerText: 'Mã TB', allowFiltering: true, allowSorting: false, textAlign: 'left'},
                    {fieldName: 'GIATRI', headerText: 'DONVI_ID', allowFiltering: true, allowSorting: false, textAlign: 'left'},
                    {fieldName: 'GHICHU', headerText: 'Kiểu ĐV', allowFiltering: true, allowSorting: false, textAlign: 'left'},
                    ]" 
                    v-bind:dataSource="dataSources" :showFilter="false"
                    :showColumnCheckbox="false"
                    :defaultColumnCheckboxChecked="false" :enabledSelectFirstRow="false"
                    :allowPaging="true"
                    :enablePagingServer="false"
                    :allowExcelExport="true"
                    ref='grid'>
                </DataGrid>
            </div>
        </div>
    </div>
    <footer class="footer">
        VNPT-IT &copy; 2021
    </footer>
     <!-- Modal -->
     <DanhSachLoiModal :columns="columnsError" :dataSources="dataSourcesError" ref="danhsachloi"/>
    <script type="application/javascript" src="../vendor/jquery/split.js"></script>
    
</div>
